2020-12-18 09:50:25,514 [main] INFO  o.t.s.ThingsboardServerApplication - Starting ThingsboardServerApplication v3.2.0 on docker-desktop with PID 144 (/usr/share/thingsboard/bin/thingsboard.jar started by thingsboard in /)
2020-12-18 09:50:25,518 [main] INFO  o.t.s.ThingsboardServerApplication - No active profile set, falling back to default profiles: default
2020-12-18 09:50:25,779 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
2020-12-18 09:50:28,663 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-18 09:50:28,663 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-18 09:50:28,741 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 66ms. Found 1 JPA repository interfaces.
2020-12-18 09:50:28,744 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-18 09:50:28,744 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-18 09:50:28,765 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20ms. Found 1 JPA repository interfaces.
2020-12-18 09:50:28,800 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-18 09:50:28,801 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-18 09:50:29,087 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 285ms. Found 28 JPA repository interfaces.
2020-12-18 09:50:29,088 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-18 09:50:29,088 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-18 09:50:29,110 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21ms. Found 1 JPA repository interfaces.
2020-12-18 09:50:29,674 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-18 09:50:29,675 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-18 09:50:29,742 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.customer.CustomerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,743 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.device.DeviceProfileRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,744 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,745 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.oauth2.OAuth2ClientRegistrationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,746 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.oauth2.OAuth2ClientRegistrationInfoRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,747 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sqlts.ts.TsKvRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,748 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.device.DeviceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,749 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.rule.RuleChainRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,749 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.asset.AssetRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,750 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.widget.WidgetTypeRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,751 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.device.DeviceCredentialsRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,751 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.tenant.TenantProfileRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,752 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.component.ComponentDescriptorRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,752 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.alarm.AlarmRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,753 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.tenant.TenantRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,753 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sqlts.latest.TsKvLatestRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,754 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.usagerecord.ApiUsageStateRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,755 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.widget.WidgetsBundleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,756 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.dashboard.DashboardInfoRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,757 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.relation.RelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,758 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.rule.RuleNodeRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,758 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.attributes.AttributeKvRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,759 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.dashboard.DashboardRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,760 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.oauth2.OAuth2ClientRegistrationTemplateRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,760 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.user.UserCredentialsRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,761 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.settings.AdminSettingsRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,762 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.audit.AuditLogRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,763 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.rule.RuleNodeStateRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,764 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.event.EventRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,764 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sqlts.dictionary.TsKvDictionaryRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,765 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.entityview.EntityViewRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:50:29,768 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 81ms. Found 0 Redis repository interfaces.
2020-12-18 09:50:30,590 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5f7f2382' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-18 09:50:30,600 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-18 09:50:31,130 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9090 (http)
2020-12-18 09:50:31,147 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-0.0.0.0-9090"]
2020-12-18 09:50:31,148 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2020-12-18 09:50:31,148 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-18 09:50:31,252 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2020-12-18 09:50:31,252 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5377 ms
2020-12-18 09:50:32,236 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-18 09:50:32,391 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-18 09:50:32,772 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-18 09:50:32,931 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2020-12-18 09:50:32,996 [main] INFO  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Driver does not support get/set network timeout for connections. (Method org.postgresql.jdbc.PgConnection.getNetworkTimeout() is not yet implemented.)
2020-12-18 09:50:33,013 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2020-12-18 09:50:33,046 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-18 09:50:34,578 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-18 09:50:34,609 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-18 09:50:37,854 [main] INFO  c.d.oss.driver.api.core.uuid.Uuids - PID obtained through native call to getpid(): 144
2020-12-18 09:50:39,419 [main] INFO  o.t.s.q.d.DefaultTbServiceInfoProvider - Current Service ID: docker-desktop
2020-12-18 09:50:40,897 [main] INFO  o.t.s.s.a.DefaultTbApiUsageStateService - Starting api usage service.
2020-12-18 09:50:40,899 [main] INFO  o.t.s.s.a.DefaultTbApiUsageStateService - Started api usage service.
2020-12-18 09:50:41,136 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=script, clazz=org.thingsboard.rule.engine.filter.TbJsFilterNode, configurationDescriptor={"nodeDefinition":{"details":"Evaluate incoming Message with configured JS condition. If <b>True</b> - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.Message payload can be accessed via <code>msg</code> property. For example <code>msg.temperature < 10;</code><br/>Message metadata can be accessed via <code>metadata</code> property. For example <code>metadata.customerName === 'John';</code><br/>Message type can be accessed via <code>msgType</code> property.","description":"Filter incoming messages using JS script","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return msg.temperature > 20;"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeScriptConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,169 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=script, clazz=org.thingsboard.rule.engine.filter.TbJsFilterNode, configurationDescriptor={"nodeDefinition":{"details":"Evaluate incoming Message with configured JS condition. If <b>True</b> - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.Message payload can be accessed via <code>msg</code> property. For example <code>msg.temperature < 10;</code><br/>Message metadata can be accessed via <code>metadata</code> property. For example <code>metadata.customerName === 'John';</code><br/>Message type can be accessed via <code>msgType</code> property.","description":"Filter incoming messages using JS script","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return msg.temperature > 20;"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeScriptConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,185 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=rabbitmq, clazz=org.thingsboard.rule.engine.rabbitmq.TbRabbitMqNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to RabbitMQ queue.","description":"Publish messages to the RabbitMQ","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"exchangeNamePattern":"","routingKeyPattern":"","messageProperties":null,"host":"localhost","port":5672,"virtualHost":"/","username":"guest","password":"guest","automaticRecoveryEnabled":false,"connectionTimeout":60000,"handshakeTimeout":10000,"clientProperties":{}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRabbitMqConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZlcnNpb249IjEuMSIgeT0iMHB4IiB4PSIwcHgiIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxwYXRoIHN0cm9rZS13aWR0aD0iLjg0OTU2IiBkPSJtODYwLjQ3IDQxNi4zMmgtMjYyLjAxYy0xMi45MTMgMC0yMy42MTgtMTAuNzA0LTIzLjYxOC0yMy42MTh2LTI3Mi43MWMwLTIwLjMwNS0xNi4yMjctMzYuMjc2LTM2LjI3Ni0zNi4yNzZoLTkzLjc5MmMtMjAuMzA1IDAtMzYuMjc2IDE2LjIyNy0zNi4yNzYgMzYuMjc2djI3MC44NGMtMC4yNTQ4NyAxNC4xMDMtMTEuNDY5IDI1LjU3Mi0yNS43NDIgMjUuNTcybC04NS42MzYgMC42Nzk2NWMtMTQuMTAzIDAtMjUuNTcyLTExLjQ2OS0yNS41NzItMjUuNTcybDAuNjc5NjUtMjcxLjUyYzAtMjAuMzA1LTE2LjIyNy0zNi4yNzYtMzYuMjc2LTM2LjI3NmgtOTMuNTM3Yy0yMC4zMDUgMC0zNi4yNzYgMTYuMjI3LTM2LjI3NiAzNi4yNzZ2NzYzLjg0YzAgMTguMDk2IDE0Ljc4MiAzMi40NTMgMzIuNDUzIDMyLjQ1M2g3MjIuODFjMTguMDk2IDAgMzIuNDUzLTE0Ljc4MiAzMi40NTMtMzIuNDUzdi00MzUuMzFjLTEuMTg5NC0xOC4xODEtMTUuMjkyLTMyLjE5OC0zMy4zODgtMzIuMTk4em0tMTIyLjY4IDI4Ny4wN2MwIDIzLjYxOC0xOC44NiA0Mi40NzgtNDIuNDc4IDQyLjQ3OGgtNzMuOTk3Yy0yMy42MTggMC00Mi40NzgtMTguODYtNDIuNDc4LTQyLjQ3OHYtNzQuMjUyYzAtMjMuNjE4IDE4Ljg2LTQyLjQ3OCA0Mi40NzgtNDIuNDc4aDczLjk5N2MyMy42MTggMCA0Mi40NzggMTguODYgNDIuNDc4IDQyLjQ3OHoiLz48L3N2Zz4=","docUrl":""}}, actions=null)
2020-12-18 09:50:41,192 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=rabbitmq, clazz=org.thingsboard.rule.engine.rabbitmq.TbRabbitMqNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to RabbitMQ queue.","description":"Publish messages to the RabbitMQ","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"exchangeNamePattern":"","routingKeyPattern":"","messageProperties":null,"host":"localhost","port":5672,"virtualHost":"/","username":"guest","password":"guest","automaticRecoveryEnabled":false,"connectionTimeout":60000,"handshakeTimeout":10000,"clientProperties":{}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRabbitMqConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZlcnNpb249IjEuMSIgeT0iMHB4IiB4PSIwcHgiIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxwYXRoIHN0cm9rZS13aWR0aD0iLjg0OTU2IiBkPSJtODYwLjQ3IDQxNi4zMmgtMjYyLjAxYy0xMi45MTMgMC0yMy42MTgtMTAuNzA0LTIzLjYxOC0yMy42MTh2LTI3Mi43MWMwLTIwLjMwNS0xNi4yMjctMzYuMjc2LTM2LjI3Ni0zNi4yNzZoLTkzLjc5MmMtMjAuMzA1IDAtMzYuMjc2IDE2LjIyNy0zNi4yNzYgMzYuMjc2djI3MC44NGMtMC4yNTQ4NyAxNC4xMDMtMTEuNDY5IDI1LjU3Mi0yNS43NDIgMjUuNTcybC04NS42MzYgMC42Nzk2NWMtMTQuMTAzIDAtMjUuNTcyLTExLjQ2OS0yNS41NzItMjUuNTcybDAuNjc5NjUtMjcxLjUyYzAtMjAuMzA1LTE2LjIyNy0zNi4yNzYtMzYuMjc2LTM2LjI3NmgtOTMuNTM3Yy0yMC4zMDUgMC0zNi4yNzYgMTYuMjI3LTM2LjI3NiAzNi4yNzZ2NzYzLjg0YzAgMTguMDk2IDE0Ljc4MiAzMi40NTMgMzIuNDUzIDMyLjQ1M2g3MjIuODFjMTguMDk2IDAgMzIuNDUzLTE0Ljc4MiAzMi40NTMtMzIuNDUzdi00MzUuMzFjLTEuMTg5NC0xOC4xODEtMTUuMjkyLTMyLjE5OC0zMy4zODgtMzIuMTk4em0tMTIyLjY4IDI4Ny4wN2MwIDIzLjYxOC0xOC44NiA0Mi40NzgtNDIuNDc4IDQyLjQ3OGgtNzMuOTk3Yy0yMy42MTggMC00Mi40NzgtMTguODYtNDIuNDc4LTQyLjQ3OHYtNzQuMjUyYzAtMjMuNjE4IDE4Ljg2LTQyLjQ3OCA0Mi40NzgtNDIuNDc4aDczLjk5N2MyMy42MTggMCA0Mi40NzggMTguODYgNDIuNDc4IDQyLjQ3OHoiLz48L3N2Zz4=","docUrl":""}}, actions=null)
2020-12-18 09:50:41,196 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=synchronization start, clazz=org.thingsboard.rule.engine.transaction.TbSynchronizationBeginNode, configurationDescriptor={"nodeDefinition":{"details":"This node should be used together with \"synchronization end\" node. \n This node will put messages into queue based on message originator id. \nSubsequent messages will not be processed until the previous message processing is completed or timeout event occurs.\nSize of the queue per originator and timeout values are configurable on a system level","description":"This Node is now deprecated. Use \"Checkpoint\" instead.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,200 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=synchronization start, clazz=org.thingsboard.rule.engine.transaction.TbSynchronizationBeginNode, configurationDescriptor={"nodeDefinition":{"details":"This node should be used together with \"synchronization end\" node. \n This node will put messages into queue based on message originator id. \nSubsequent messages will not be processed until the previous message processing is completed or timeout event occurs.\nSize of the queue per originator and timeout values are configurable on a system level","description":"This Node is now deprecated. Use \"Checkpoint\" instead.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,212 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=gcp pubsub, clazz=org.thingsboard.rule.engine.gcp.pubsub.TbPubSubNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the Google Cloud Platform PubSub topic. Outbound message will contain response fields (<code>messageId</code> in the Message Metadata from the GCP PubSub. <b>messageId</b> field can be accessed with <code>metadata.messageId</code>.","description":"Publish message to the Google Cloud PubSub","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"projectId":"my-google-cloud-project-id","topicName":"my-pubsub-topic-name","messageAttributes":{},"serviceAccountKey":null,"serviceAccountKeyFileName":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodePubSubConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiB2aWV3Qm94PSIwIDAgMTI4IDEyOCI+Cjx0aXRsZT5DbG91ZCBQdWJTdWI8L3RpdGxlPgo8Zz4KPHBhdGggZD0iTTEyNi40Nyw1OC4xMmwtMjYuMy00NS43NEExMS41NiwxMS41NiwwLDAsMCw5MC4zMSw2LjVIMzcuN2ExMS41NSwxMS41NSwwLDAsMC05Ljg2LDUuODhMMS41Myw1OGExMS40OCwxMS40OCwwLDAsMCwwLDExLjQ0bDI2LjMsNDZhMTEuNzcsMTEuNzcsMCwwLDAsOS44Niw2LjA5SDkwLjNhMTEuNzMsMTEuNzMsMCwwLDAsOS44Ny02LjA2bDI2LjMtNDUuNzRBMTEuNzMsMTEuNzMsMCwwLDAsMTI2LjQ3LDU4LjEyWiIgc3R5bGU9ImZpbGw6ICM3MzViMmYiLz4KPHBhdGggZD0iTTg5LjIyLDQ3Ljc0LDgzLjM2LDQ5bC0xNC42LTE0LjZMNjQuMDksNDMuMSw2MS41NSw1My4ybDQuMjksNC4yOUw1Ny42LDU5LjE4LDQ2LjMsNDcuODhsLTcuNjcsNy4zOEw1Mi43Niw2OS4zN2wtMTUsMTEuOUw3OCwxMjEuNUg5MC4zYTExLjczLDExLjczLDAsMCwwLDkuODctNi4wNmwyMC43Mi0zNloiIHN0eWxlPSJvcGFjaXR5OiAwLjA3MDAwMDAwMDI5ODAyMztpc29sYXRpb246IGlzb2xhdGUiLz4KPHBhdGggZD0iTTgyLjg2LDQ3YTUuMzIsNS4zMiwwLDEsMS0xLjk1LDcuMjdBNS4zMiw1LjMyLDAsMCwxLDgyLjg2LDQ3IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNMzkuODIsNTYuMThhNS4zMiw1LjMyLDAsMSwxLDcuMjctMS45NSw1LjMyLDUuMzIsMCwwLDEtNy4yNywxLjk1IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNNjkuMzIsODguODVBNS4zMiw1LjMyLDAsMSwxLDY0LDgzLjUyYTUuMzIsNS4zMiwwLDAsMSw1LjMyLDUuMzIiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxnPgo8cGF0aCBkPSJNNjQsNTIuOTRhMTEuMDYsMTEuMDYsMCwwLDEsMi40Ni4yOFYzOS4xNUg2MS41NFY1My4yMkExMS4wNiwxMS4wNiwwLDAsMSw2NCw1Mi45NFoiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxwYXRoIGQ9Ik03NC41Nyw2Ny4yNmExMSwxMSwwLDAsMS0yLjQ3LDQuMjVsMTIuMTksNywyLjQ2LTQuMjZaIiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNNTMuNDMsNjcuMjZsLTEyLjE4LDcsMi40Niw0LjI2LDEyLjE5LTdBMTEsMTEsMCwwLDEsNTMuNDMsNjcuMjZaIiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8L2c+CjxwYXRoIGQ9Ik03Mi42LDY0QTguNiw4LjYsMCwxLDEsNjQsNTUuNCw4LjYsOC42LDAsMCwxLDcyLjYsNjQiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxwYXRoIGQ9Ik0zOS4xLDcwLjU3YTYuNzYsNi43NiwwLDEsMS0yLjQ3LDkuMjMsNi43Niw2Ljc2LDAsMCwxLDIuNDctOS4yMyIgc3R5bGU9ImZpbGw6ICNmZmYiLz4KPHBhdGggZD0iTTgyLjE0LDgyLjI3YTYuNzYsNi43NiwwLDEsMSw5LjIzLTIuNDcsNi43NSw2Ljc1LDAsMCwxLTkuMjMsMi40NyIgc3R5bGU9ImZpbGw6ICNmZmYiLz4KPHBhdGggZD0iTTcwLjc2LDM5LjE1QTYuNzYsNi43NiwwLDEsMSw2NCwzMi4zOWE2Ljc2LDYuNzYsMCwwLDEsNi43Niw2Ljc2IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8L2c+Cjwvc3ZnPgo=","docUrl":""}}, actions=null)
2020-12-18 09:50:41,216 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=gcp pubsub, clazz=org.thingsboard.rule.engine.gcp.pubsub.TbPubSubNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the Google Cloud Platform PubSub topic. Outbound message will contain response fields (<code>messageId</code> in the Message Metadata from the GCP PubSub. <b>messageId</b> field can be accessed with <code>metadata.messageId</code>.","description":"Publish message to the Google Cloud PubSub","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"projectId":"my-google-cloud-project-id","topicName":"my-pubsub-topic-name","messageAttributes":{},"serviceAccountKey":null,"serviceAccountKeyFileName":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodePubSubConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiB2aWV3Qm94PSIwIDAgMTI4IDEyOCI+Cjx0aXRsZT5DbG91ZCBQdWJTdWI8L3RpdGxlPgo8Zz4KPHBhdGggZD0iTTEyNi40Nyw1OC4xMmwtMjYuMy00NS43NEExMS41NiwxMS41NiwwLDAsMCw5MC4zMSw2LjVIMzcuN2ExMS41NSwxMS41NSwwLDAsMC05Ljg2LDUuODhMMS41Myw1OGExMS40OCwxMS40OCwwLDAsMCwwLDExLjQ0bDI2LjMsNDZhMTEuNzcsMTEuNzcsMCwwLDAsOS44Niw2LjA5SDkwLjNhMTEuNzMsMTEuNzMsMCwwLDAsOS44Ny02LjA2bDI2LjMtNDUuNzRBMTEuNzMsMTEuNzMsMCwwLDAsMTI2LjQ3LDU4LjEyWiIgc3R5bGU9ImZpbGw6ICM3MzViMmYiLz4KPHBhdGggZD0iTTg5LjIyLDQ3Ljc0LDgzLjM2LDQ5bC0xNC42LTE0LjZMNjQuMDksNDMuMSw2MS41NSw1My4ybDQuMjksNC4yOUw1Ny42LDU5LjE4LDQ2LjMsNDcuODhsLTcuNjcsNy4zOEw1Mi43Niw2OS4zN2wtMTUsMTEuOUw3OCwxMjEuNUg5MC4zYTExLjczLDExLjczLDAsMCwwLDkuODctNi4wNmwyMC43Mi0zNloiIHN0eWxlPSJvcGFjaXR5OiAwLjA3MDAwMDAwMDI5ODAyMztpc29sYXRpb246IGlzb2xhdGUiLz4KPHBhdGggZD0iTTgyLjg2LDQ3YTUuMzIsNS4zMiwwLDEsMS0xLjk1LDcuMjdBNS4zMiw1LjMyLDAsMCwxLDgyLjg2LDQ3IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNMzkuODIsNTYuMThhNS4zMiw1LjMyLDAsMSwxLDcuMjctMS45NSw1LjMyLDUuMzIsMCwwLDEtNy4yNywxLjk1IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNNjkuMzIsODguODVBNS4zMiw1LjMyLDAsMSwxLDY0LDgzLjUyYTUuMzIsNS4zMiwwLDAsMSw1LjMyLDUuMzIiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxnPgo8cGF0aCBkPSJNNjQsNTIuOTRhMTEuMDYsMTEuMDYsMCwwLDEsMi40Ni4yOFYzOS4xNUg2MS41NFY1My4yMkExMS4wNiwxMS4wNiwwLDAsMSw2NCw1Mi45NFoiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxwYXRoIGQ9Ik03NC41Nyw2Ny4yNmExMSwxMSwwLDAsMS0yLjQ3LDQuMjVsMTIuMTksNywyLjQ2LTQuMjZaIiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNNTMuNDMsNjcuMjZsLTEyLjE4LDcsMi40Niw0LjI2LDEyLjE5LTdBMTEsMTEsMCwwLDEsNTMuNDMsNjcuMjZaIiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8L2c+CjxwYXRoIGQ9Ik03Mi42LDY0QTguNiw4LjYsMCwxLDEsNjQsNTUuNCw4LjYsOC42LDAsMCwxLDcyLjYsNjQiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxwYXRoIGQ9Ik0zOS4xLDcwLjU3YTYuNzYsNi43NiwwLDEsMS0yLjQ3LDkuMjMsNi43Niw2Ljc2LDAsMCwxLDIuNDctOS4yMyIgc3R5bGU9ImZpbGw6ICNmZmYiLz4KPHBhdGggZD0iTTgyLjE0LDgyLjI3YTYuNzYsNi43NiwwLDEsMSw5LjIzLTIuNDcsNi43NSw2Ljc1LDAsMCwxLTkuMjMsMi40NyIgc3R5bGU9ImZpbGw6ICNmZmYiLz4KPHBhdGggZD0iTTcwLjc2LDM5LjE1QTYuNzYsNi43NiwwLDEsMSw2NCwzMi4zOWE2Ljc2LDYuNzYsMCwwLDEsNi43Niw2Ljc2IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8L2c+Cjwvc3ZnPgo=","docUrl":""}}, actions=null)
2020-12-18 09:50:41,221 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=send email, clazz=org.thingsboard.rule.engine.mail.TbSendEmailNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with <b>SEND_EMAIL</b> type. Node works only with messages that  where created using <code>to Email</code> transformation Node, please connect this Node with <code>to Email</code> Node using <code>Successful</code> chain.","description":"Sends email message via SMTP server.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"useSystemSmtpSettings":true,"smtpHost":"localhost","smtpPort":25,"username":null,"password":null,"smtpProtocol":"smtp","timeout":10000,"enableTls":false,"tlsVersion":"TLSv1.2","enableProxy":false,"proxyHost":null,"proxyPort":null,"proxyUser":null,"proxyPassword":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSendEmailConfig","icon":"send","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,223 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=send email, clazz=org.thingsboard.rule.engine.mail.TbSendEmailNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with <b>SEND_EMAIL</b> type. Node works only with messages that  where created using <code>to Email</code> transformation Node, please connect this Node with <code>to Email</code> Node using <code>Successful</code> chain.","description":"Sends email message via SMTP server.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"useSystemSmtpSettings":true,"smtpHost":"localhost","smtpPort":25,"username":null,"password":null,"smtpProtocol":"smtp","timeout":10000,"enableTls":false,"tlsVersion":"TLSv1.2","enableProxy":false,"proxyHost":null,"proxyPort":null,"proxyUser":null,"proxyPassword":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSendEmailConfig","icon":"send","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,266 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=tenant details, clazz=org.thingsboard.rule.engine.metadata.TbGetTenantDetailsNode, configurationDescriptor={"nodeDefinition":{"details":"If checkbox: <b>Add selected details to the message metadata</b> is selected, existing fields will be added to the message metadata instead of message data.<br><br><b>Note:</b> only Device, Asset, and Entity View type are allowed.<br><br>If the originator of the message is not assigned to Tenant, or originator type is not supported - Message will be forwarded to <b>Failure</b> chain, otherwise, <b>Success</b> chain will be used.","description":"Adds fields from Tenant details to the message body or metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"detailsList":[],"addToMetadata":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeEntityDetailsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,269 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=tenant details, clazz=org.thingsboard.rule.engine.metadata.TbGetTenantDetailsNode, configurationDescriptor={"nodeDefinition":{"details":"If checkbox: <b>Add selected details to the message metadata</b> is selected, existing fields will be added to the message metadata instead of message data.<br><br><b>Note:</b> only Device, Asset, and Entity View type are allowed.<br><br>If the originator of the message is not assigned to Tenant, or originator type is not supported - Message will be forwarded to <b>Failure</b> chain, otherwise, <b>Success</b> chain will be used.","description":"Adds fields from Tenant details to the message body or metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"detailsList":[],"addToMetadata":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeEntityDetailsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,271 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=save attributes, clazz=org.thingsboard.rule.engine.telemetry.TbMsgAttributesNode, configurationDescriptor={"nodeDefinition":{"details":"Saves entity attributes based on configurable scope parameter. Expects messages with 'POST_ATTRIBUTES_REQUEST' message type","description":"Saves attributes data","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"scope":"SERVER_SCOPE","notifyDevice":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAttributesConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,274 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=save attributes, clazz=org.thingsboard.rule.engine.telemetry.TbMsgAttributesNode, configurationDescriptor={"nodeDefinition":{"details":"Saves entity attributes based on configurable scope parameter. Expects messages with 'POST_ATTRIBUTES_REQUEST' message type","description":"Saves attributes data","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"scope":"SERVER_SCOPE","notifyDevice":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAttributesConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,282 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=create relation, clazz=org.thingsboard.rule.engine.action.TbCreateRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation already exists or successfully created -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and (entity type pattern for Asset, Device) and then create a relation to Originator Entity by type and direction. If Selected entity type: Asset, Device or Customer will create new Entity if it doesn't exist and selected checkbox 'Create new entity if not exists'.<br> In case that relation from the message originator to the selected entity not exist and  If selected checkbox 'Remove current relations', before creating the new relation all existed relations to message originator by type and direction will be removed.<br> If relation from the message originator to the selected entity created and If selected checkbox 'Change originator to related entity', outbound message will be processed as a message from this entity.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"createEntityIfNotExists":false,"changeOriginatorToRelatedEntity":false,"removeCurrentRelations":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCreateRelationConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,284 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component ComponentDescriptor(type=ACTION, scope=TENANT, name=create relation, clazz=org.thingsboard.rule.engine.action.TbCreateRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation already exists or successfully created -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and (entity type pattern for Asset, Device) and then create a relation to Originator Entity by type and direction. If Selected entity type: Asset, Device or Customer will create new Entity if it doesn't exist and selected checkbox 'Create new entity if not exists'.<br> In case that relation from the message originator to the selected entity not exist and  If selected checkbox 'Remove current relations', before creating the new relation all existed relations to message originator by type and direction will be removed.<br> If relation from the message originator to the selected entity created and If selected checkbox 'Change originator to related entity', outbound message will be processed as a message from this entity.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"createEntityIfNotExists":false,"changeOriginatorToRelatedEntity":false,"removeCurrentRelations":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCreateRelationConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null) will be updated to ComponentDescriptor(type=ACTION, scope=TENANT, name=create relation, clazz=org.thingsboard.rule.engine.action.TbCreateRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation already exists or successfully created -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and (entity type pattern for Asset, Device) and then create a relation to Originator Entity by type and direction. If Selected entity type: Asset, Device or Customer will create new Entity if it doesn't exist and selected checkbox 'Create new entity if not exists'.<br> In case that relation from the message originator to the selected entity not exist and  If selected checkbox 'Remove current relations', before creating the new relation all existed relations to message originator by type and direction will be removed.<br> If relation from the message originator to the selected entity created and If selected checkbox 'Change originator to related entity', outbound message will be processed as a message from this entity.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"createEntityIfNotExists":false,"changeOriginatorToRelatedEntity":false,"removeCurrentRelations":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCreateRelationConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,441 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=generator, clazz=org.thingsboard.rule.engine.debug.TbMsgGeneratorNode, configurationDescriptor={"nodeDefinition":{"details":"Generates messages with configurable period. Javascript function used for message generation.","description":"Periodically generates messages","inEnabled":false,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"msgCount":0,"periodInSeconds":1,"originatorId":null,"originatorType":null,"jsScript":"var msg = { temp: 42, humidity: 77 };\nvar metadata = { data: 40 };\nvar msgType = \"POST_TELEMETRY_REQUEST\";\n\nreturn { msg: msg, metadata: metadata, msgType: msgType };"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeGeneratorConfig","icon":"repeat","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,444 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=generator, clazz=org.thingsboard.rule.engine.debug.TbMsgGeneratorNode, configurationDescriptor={"nodeDefinition":{"details":"Generates messages with configurable period. Javascript function used for message generation.","description":"Periodically generates messages","inEnabled":false,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"msgCount":0,"periodInSeconds":1,"originatorId":null,"originatorType":null,"jsScript":"var msg = { temp: 42, humidity: 77 };\nvar metadata = { data: 40 };\nvar msgType = \"POST_TELEMETRY_REQUEST\";\n\nreturn { msg: msg, metadata: metadata, msgType: msgType };"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeGeneratorConfig","icon":"repeat","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,447 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=delay, clazz=org.thingsboard.rule.engine.delay.TbMsgDelayNode, configurationDescriptor={"nodeDefinition":{"details":"Delays messages for configurable period. Please note, this node acknowledges the message from the current queue (message will be removed from queue)","description":"Delays incoming message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"periodInSeconds":60,"maxPendingMsgs":1000,"periodInSecondsPattern":null,"useMetadataPeriodInSecondsPatterns":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMsgDelayConfig","icon":"pause","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,449 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=delay, clazz=org.thingsboard.rule.engine.delay.TbMsgDelayNode, configurationDescriptor={"nodeDefinition":{"details":"Delays messages for configurable period. Please note, this node acknowledges the message from the current queue (message will be removed from queue)","description":"Delays incoming message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"periodInSeconds":60,"maxPendingMsgs":1000,"periodInSecondsPattern":null,"useMetadataPeriodInSecondsPatterns":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMsgDelayConfig","icon":"pause","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,451 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator fields, clazz=org.thingsboard.rule.engine.metadata.TbGetOriginatorFieldsNode, configurationDescriptor={"nodeDefinition":{"details":"Will fetch fields values specified in mapping. If specified field is not part of originator fields it will be ignored.","description":"Add Message Originator fields values into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"fieldsMapping":{"name":"originatorName","type":"originatorType"}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeOriginatorFieldsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,453 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator fields, clazz=org.thingsboard.rule.engine.metadata.TbGetOriginatorFieldsNode, configurationDescriptor={"nodeDefinition":{"details":"Will fetch fields values specified in mapping. If specified field is not part of originator fields it will be ignored.","description":"Add Message Originator fields values into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"fieldsMapping":{"name":"originatorName","type":"originatorType"}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeOriginatorFieldsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,459 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=create alarm, clazz=org.thingsboard.rule.engine.action.TbCreateAlarmNode, configurationDescriptor={"nodeDefinition":{"details":"Details - JS function that creates JSON object based on incoming message. This object will be added into Alarm.details field.\nNode output:\nIf alarm was not created, original message is returned. Otherwise new Message returned with type 'ALARM', Alarm object in 'msg' property and 'metadata' will contains one of those properties 'isNewAlarm/isExistingAlarm'. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Create or Update Alarm","inEnabled":true,"outEnabled":true,"relationTypes":["Created","Updated","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmType":"General Alarm","alarmDetailsBuildJs":"var details = {};\nif (metadata.prevAlarmDetails) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n}\nreturn details;","severity":"CRITICAL","propagate":false,"useMessageAlarmData":false,"relationTypes":[]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCreateAlarmConfig","icon":"notifications_active","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,463 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=create alarm, clazz=org.thingsboard.rule.engine.action.TbCreateAlarmNode, configurationDescriptor={"nodeDefinition":{"details":"Details - JS function that creates JSON object based on incoming message. This object will be added into Alarm.details field.\nNode output:\nIf alarm was not created, original message is returned. Otherwise new Message returned with type 'ALARM', Alarm object in 'msg' property and 'metadata' will contains one of those properties 'isNewAlarm/isExistingAlarm'. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Create or Update Alarm","inEnabled":true,"outEnabled":true,"relationTypes":["Created","Updated","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmType":"General Alarm","alarmDetailsBuildJs":"var details = {};\nif (metadata.prevAlarmDetails) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n}\nreturn details;","severity":"CRITICAL","propagate":false,"useMessageAlarmData":false,"relationTypes":[]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCreateAlarmConfig","icon":"notifications_active","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,471 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=related attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetRelatedAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"Related Entity found using configured relation direction and Relation Type. If multiple Related Entities are found, only first Entity is used for attributes enrichment, other entities are discarded. If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Related Entity Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"relationsQuery":{"direction":"FROM","maxLevel":1,"filters":[{"relationType":"Contains","entityTypes":[]}],"fetchLastLevelOnly":false},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeRelatedAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,475 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=related attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetRelatedAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"Related Entity found using configured relation direction and Relation Type. If multiple Related Entities are found, only first Entity is used for attributes enrichment, other entities are discarded. If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Related Entity Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"relationsQuery":{"direction":"FROM","maxLevel":1,"filters":[{"relationType":"Contains","entityTypes":[]}],"fetchLastLevelOnly":false},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeRelatedAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,480 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=to email, clazz=org.thingsboard.rule.engine.mail.TbMsgToEmailNode, configurationDescriptor={"nodeDefinition":{"details":"Transforms message to email message by populating email fields using values derived from message metadata. Set 'SEND_EMAIL' output message type.","description":"Transforms message to email message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"fromTemplate":"info@testmail.org","toTemplate":"${userEmail}","ccTemplate":null,"bccTemplate":null,"subjectTemplate":"Device ${deviceType} temperature high","bodyTemplate":"Device ${deviceName} has high temperature ${temp}"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeToEmailConfig","icon":"email","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,482 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=to email, clazz=org.thingsboard.rule.engine.mail.TbMsgToEmailNode, configurationDescriptor={"nodeDefinition":{"details":"Transforms message to email message by populating email fields using values derived from message metadata. Set 'SEND_EMAIL' output message type.","description":"Transforms message to email message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"fromTemplate":"info@testmail.org","toTemplate":"${userEmail}","ccTemplate":null,"bccTemplate":null,"subjectTemplate":"Device ${deviceType} temperature high","bodyTemplate":"Device ${deviceName} has high temperature ${temp}"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeToEmailConfig","icon":"email","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,486 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=change originator, clazz=org.thingsboard.rule.engine.transform.TbChangeOriginatorNode, configurationDescriptor={"nodeDefinition":{"details":"Related Entity found using configured relation direction and Relation Type. If multiple Related Entities are found, only first Entity is used as new Originator, other entities are discarded.<br/>Alarm Originator found only in case original Originator is <code>Alarm</code> entity.","description":"Change Message Originator To Tenant/Customer/Related Entity/Alarm Originator","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"originatorSource":"CUSTOMER","relationsQuery":{"direction":"FROM","maxLevel":1,"filters":[{"relationType":"Contains","entityTypes":[]}],"fetchLastLevelOnly":false}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeChangeOriginatorConfig","icon":"find_replace","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,490 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=change originator, clazz=org.thingsboard.rule.engine.transform.TbChangeOriginatorNode, configurationDescriptor={"nodeDefinition":{"details":"Related Entity found using configured relation direction and Relation Type. If multiple Related Entities are found, only first Entity is used as new Originator, other entities are discarded.<br/>Alarm Originator found only in case original Originator is <code>Alarm</code> entity.","description":"Change Message Originator To Tenant/Customer/Related Entity/Alarm Originator","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"originatorSource":"CUSTOMER","relationsQuery":{"direction":"FROM","maxLevel":1,"filters":[{"relationType":"Contains","entityTypes":[]}],"fetchLastLevelOnly":false}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeChangeOriginatorConfig","icon":"find_replace","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,499 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=device profile, clazz=org.thingsboard.rule.engine.profile.TbDeviceProfileNode, configurationDescriptor={"nodeDefinition":{"details":"Create and clear alarms based on alarm rules defined in device profile. The output relation type is either 'Alarm Created', 'Alarm Updated', 'Alarm Severity Updated' and 'Alarm Cleared' or simply 'Success' if no alarms were affected.","description":"Process device messages based on device profile settings","inEnabled":true,"outEnabled":true,"relationTypes":["Alarm Created","Alarm Updated","Alarm Severity Updated","Alarm Cleared","Success","Failure"],"customRelations":true,"defaultConfiguration":{"persistAlarmRulesState":false,"fetchAlarmRulesStateOnStart":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbDeviceProfileConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,502 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=device profile, clazz=org.thingsboard.rule.engine.profile.TbDeviceProfileNode, configurationDescriptor={"nodeDefinition":{"details":"Create and clear alarms based on alarm rules defined in device profile. The output relation type is either 'Alarm Created', 'Alarm Updated', 'Alarm Severity Updated' and 'Alarm Cleared' or simply 'Success' if no alarms were affected.","description":"Process device messages based on device profile settings","inEnabled":true,"outEnabled":true,"relationTypes":["Alarm Created","Alarm Updated","Alarm Severity Updated","Alarm Cleared","Success","Failure"],"customRelations":true,"defaultConfiguration":{"persistAlarmRulesState":false,"fetchAlarmRulesStateOnStart":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbDeviceProfileConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,505 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=log, clazz=org.thingsboard.rule.engine.action.TbLogNode, configurationDescriptor={"nodeDefinition":{"details":"Transform incoming Message with configured JS function to String and log final value into Thingsboard log file. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Log incoming messages using JS script for transformation Message into String","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return 'Incoming message:\\n' + JSON.stringify(msg) + '\\nIncoming metadata:\\n' + JSON.stringify(metadata);"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeLogConfig","icon":"menu","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,508 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=log, clazz=org.thingsboard.rule.engine.action.TbLogNode, configurationDescriptor={"nodeDefinition":{"details":"Transform incoming Message with configured JS function to String and log final value into Thingsboard log file. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Log incoming messages using JS script for transformation Message into String","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return 'Incoming message:\\n' + JSON.stringify(msg) + '\\nIncoming metadata:\\n' + JSON.stringify(metadata);"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeLogConfig","icon":"menu","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,516 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=gps geofencing filter, clazz=org.thingsboard.rule.engine.geo.TbGpsGeofencingFilterNode, configurationDescriptor={"nodeDefinition":{"details":"Extracts latitude and longitude parameters from incoming message and returns 'True' if they are inside configured perimeters, 'False' otherwise.","description":"Filter incoming messages by GPS based geofencing","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"latitudeKeyName":"latitude","longitudeKeyName":"longitude","fetchPerimeterInfoFromMessageMetadata":true,"perimeterType":null,"polygonsDefinition":null,"centerLatitude":null,"centerLongitude":null,"range":null,"rangeUnit":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeGpsGeofencingConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,519 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=gps geofencing filter, clazz=org.thingsboard.rule.engine.geo.TbGpsGeofencingFilterNode, configurationDescriptor={"nodeDefinition":{"details":"Extracts latitude and longitude parameters from incoming message and returns 'True' if they are inside configured perimeters, 'False' otherwise.","description":"Filter incoming messages by GPS based geofencing","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"latitudeKeyName":"latitude","longitudeKeyName":"longitude","fetchPerimeterInfoFromMessageMetadata":true,"perimeterType":null,"polygonsDefinition":null,"centerLatitude":null,"centerLongitude":null,"range":null,"rangeUnit":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeGpsGeofencingConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,523 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=check alarm status, clazz=org.thingsboard.rule.engine.filter.TbCheckAlarmStatusNode, configurationDescriptor={"nodeDefinition":{"details":"If the alarm status matches the specified one - msg is success if does not match - msg is failure.","description":"Checks alarm status.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmStatusList":["ACTIVE_ACK","ACTIVE_UNACK"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckAlarmStatusConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,525 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=check alarm status, clazz=org.thingsboard.rule.engine.filter.TbCheckAlarmStatusNode, configurationDescriptor={"nodeDefinition":{"details":"If the alarm status matches the specified one - msg is success if does not match - msg is failure.","description":"Checks alarm status.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmStatusList":["ACTIVE_ACK","ACTIVE_UNACK"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckAlarmStatusConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,528 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=message type switch, clazz=org.thingsboard.rule.engine.filter.TbMsgTypeSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Sends messages with message types <b>\"Post attributes\", \"Post telemetry\", \"RPC Request\"</b> etc. via corresponding chain, otherwise <b>Other</b> chain is used.","description":"Route incoming messages by Message Type","inEnabled":true,"outEnabled":true,"relationTypes":["Post attributes","Post telemetry","RPC Request from Device","RPC Request to Device","Activity Event","Inactivity Event","Connect Event","Disconnect Event","Entity Created","Entity Updated","Entity Deleted","Entity Assigned","Entity Unassigned","Attributes Updated","Attributes Deleted","Alarm Acknowledged","Alarm Cleared","Other","Entity Assigned From Tenant","Entity Assigned To Tenant","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,531 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=message type switch, clazz=org.thingsboard.rule.engine.filter.TbMsgTypeSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Sends messages with message types <b>\"Post attributes\", \"Post telemetry\", \"RPC Request\"</b> etc. via corresponding chain, otherwise <b>Other</b> chain is used.","description":"Route incoming messages by Message Type","inEnabled":true,"outEnabled":true,"relationTypes":["Post attributes","Post telemetry","RPC Request from Device","RPC Request to Device","Activity Event","Inactivity Event","Connect Event","Disconnect Event","Entity Created","Entity Updated","Entity Deleted","Entity Assigned","Entity Unassigned","Attributes Updated","Attributes Deleted","Alarm Acknowledged","Alarm Cleared","Other","Entity Assigned From Tenant","Entity Assigned To Tenant","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,534 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=unassign from customer, clazz=org.thingsboard.rule.engine.action.TbUnassignFromCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Entity Customer by Customer name pattern and then unassign Originator Entity from this customer.","description":"Unassign Message Originator Entity from Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeUnAssignToCustomerConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,538 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component ComponentDescriptor(type=ACTION, scope=TENANT, name=unassign from customer, clazz=org.thingsboard.rule.engine.action.TbUnassignFromCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Entity Customer by Customer name pattern and then unassign Originator Entity from this customer.","description":"Unassign Message Originator Entity from Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeUnAssignToCustomerConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null) will be updated to ComponentDescriptor(type=ACTION, scope=TENANT, name=unassign from customer, clazz=org.thingsboard.rule.engine.action.TbUnassignFromCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Entity Customer by Customer name pattern and then unassign Originator Entity from this customer.","description":"Unassign Message Originator Entity from Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeUnAssignToCustomerConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,554 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=copy to view, clazz=org.thingsboard.rule.engine.action.TbCopyAttributesToEntityViewNode, configurationDescriptor={"nodeDefinition":{"details":"Copy attributes from asset/device to related entity view according to entity view configuration. \n Copy will be done only for attributes that are between start and end dates and according to attribute keys configuration. \nChanges message originator to related entity view and produces new messages according to count of updated entity views","description":"Copy attributes from asset/device to entity view and changes message originator to related entity view","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"content_copy","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,557 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=copy to view, clazz=org.thingsboard.rule.engine.action.TbCopyAttributesToEntityViewNode, configurationDescriptor={"nodeDefinition":{"details":"Copy attributes from asset/device to related entity view according to entity view configuration. \n Copy will be done only for attributes that are between start and end dates and according to attribute keys configuration. \nChanges message originator to related entity view and produces new messages according to count of updated entity views","description":"Copy attributes from asset/device to entity view and changes message originator to related entity view","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"content_copy","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,560 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=clear alarm, clazz=org.thingsboard.rule.engine.action.TbClearAlarmNode, configurationDescriptor={"nodeDefinition":{"details":"Details - JS function that creates JSON object based on incoming message. This object will be added into Alarm.details field.\nNode output:\nIf alarm was not cleared, original message is returned. Otherwise new Message returned with type 'ALARM', Alarm object in 'msg' property and 'metadata' will contains 'isClearedAlarm' property. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Clear Alarm","inEnabled":true,"outEnabled":true,"relationTypes":["Cleared","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmType":"General Alarm","alarmDetailsBuildJs":"var details = {};\nif (metadata.prevAlarmDetails) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n}\nreturn details;"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeClearAlarmConfig","icon":"notifications_off","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,563 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=clear alarm, clazz=org.thingsboard.rule.engine.action.TbClearAlarmNode, configurationDescriptor={"nodeDefinition":{"details":"Details - JS function that creates JSON object based on incoming message. This object will be added into Alarm.details field.\nNode output:\nIf alarm was not cleared, original message is returned. Otherwise new Message returned with type 'ALARM', Alarm object in 'msg' property and 'metadata' will contains 'isClearedAlarm' property. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Clear Alarm","inEnabled":true,"outEnabled":true,"relationTypes":["Cleared","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmType":"General Alarm","alarmDetailsBuildJs":"var details = {};\nif (metadata.prevAlarmDetails) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n}\nreturn details;"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeClearAlarmConfig","icon":"notifications_off","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,568 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=save to custom table, clazz=org.thingsboard.rule.engine.action.TbSaveToCustomCassandraTableNode, configurationDescriptor={"nodeDefinition":{"details":"Administrator should set the custom table name without prefix: <b>cs_tb_</b>. <br>Administrator can configure the mapping between the Message field names and Table columns name.<br><b>Note:</b>If the mapping key is <b>$entity_id</b>, that is identified by the Message Originator, then to the appropriate column name(mapping value) will be write the message originator id.<br><br>If specified message field does not exist or is not a JSON Primitive, the outbound message will be routed via <b>failure</b> chain, otherwise, the message will be routed via <b>success</b> chain.","description":"Node stores data from incoming Message payload to the Cassandra database into the predefined custom table that should have <b>cs_tb_</b> prefix, to avoid the data insertion to the common TB tables.<br><b>Note:</b> rule node can be used only for Cassandra DB.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"tableName":"","fieldsMapping":{"":""}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCustomTableConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,570 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=save to custom table, clazz=org.thingsboard.rule.engine.action.TbSaveToCustomCassandraTableNode, configurationDescriptor={"nodeDefinition":{"details":"Administrator should set the custom table name without prefix: <b>cs_tb_</b>. <br>Administrator can configure the mapping between the Message field names and Table columns name.<br><b>Note:</b>If the mapping key is <b>$entity_id</b>, that is identified by the Message Originator, then to the appropriate column name(mapping value) will be write the message originator id.<br><br>If specified message field does not exist or is not a JSON Primitive, the outbound message will be routed via <b>failure</b> chain, otherwise, the message will be routed via <b>success</b> chain.","description":"Node stores data from incoming Message payload to the Cassandra database into the predefined custom table that should have <b>cs_tb_</b> prefix, to avoid the data insertion to the common TB tables.<br><b>Note:</b> rule node can be used only for Cassandra DB.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"tableName":"","fieldsMapping":{"":""}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCustomTableConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,576 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetAttributesNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, <b>CLIENT/SHARED/SERVER</b> attributes are added into Message metadata with specific prefix: <i>cs/shared/ss</i>. Latest telemetry value added into metadata without prefix. To access those attributes in other nodes this template can be used <code>metadata.cs_temperature</code> or <code>metadata.shared_limit</code> ","description":"Add Message Originator Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"clientAttributeNames":[],"sharedAttributeNames":[],"serverAttributeNames":[],"latestTsKeyNames":[],"tellFailureIfAbsent":true,"getLatestValueWithTs":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeOriginatorAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,580 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetAttributesNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, <b>CLIENT/SHARED/SERVER</b> attributes are added into Message metadata with specific prefix: <i>cs/shared/ss</i>. Latest telemetry value added into metadata without prefix. To access those attributes in other nodes this template can be used <code>metadata.cs_temperature</code> or <code>metadata.shared_limit</code> ","description":"Add Message Originator Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"clientAttributeNames":[],"sharedAttributeNames":[],"serverAttributeNames":[],"latestTsKeyNames":[],"tellFailureIfAbsent":true,"getLatestValueWithTs":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeOriginatorAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,582 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=checkpoint, clazz=org.thingsboard.rule.engine.flow.TbCheckpointNode, configurationDescriptor={"nodeDefinition":{"details":"After successful transfer incoming message is automatically acknowledged. Queue name is configurable.","description":"transfers the message to another queue","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"queueName":"HighPriority"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCheckPointConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,585 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=checkpoint, clazz=org.thingsboard.rule.engine.flow.TbCheckpointNode, configurationDescriptor={"nodeDefinition":{"details":"After successful transfer incoming message is automatically acknowledged. Queue name is configurable.","description":"transfers the message to another queue","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"queueName":"HighPriority"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCheckPointConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,588 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=message type, clazz=org.thingsboard.rule.engine.filter.TbMsgTypeFilterNode, configurationDescriptor={"nodeDefinition":{"details":"If incoming MessageType is expected - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Filter incoming messages by Message Type","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"messageTypes":["POST_ATTRIBUTES_REQUEST","POST_TELEMETRY_REQUEST","TO_SERVER_RPC_REQUEST"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeMessageTypeConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,591 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=message type, clazz=org.thingsboard.rule.engine.filter.TbMsgTypeFilterNode, configurationDescriptor={"nodeDefinition":{"details":"If incoming MessageType is expected - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Filter incoming messages by Message Type","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"messageTypes":["POST_ATTRIBUTES_REQUEST","POST_TELEMETRY_REQUEST","TO_SERVER_RPC_REQUEST"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeMessageTypeConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,599 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=aws sqs, clazz=org.thingsboard.rule.engine.aws.sqs.TbSqsNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload and metadata attributes to the AWS SQS queue. Outbound message will contain response fields (<code>messageId</code>, <code>requestId</code>, <code>messageBodyMd5</code>, <code>messageAttributesMd5</code>, <code>sequenceNumber</code>) in the Message Metadata from the AWS SQS. For example <b>requestId</b> field can be accessed with <code>metadata.requestId</code>.","description":"Publish messages to the AWS SQS","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"queueType":"STANDARD","queueUrlPattern":"https://sqs.us-east-1.amazonaws.com/123456789012/my-queue-name","delaySeconds":0,"messageAttributes":{},"accessKeyId":null,"secretAccessKey":null,"region":"us-east-1"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSqsConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48cGF0aCBkPSJNMTMuMjMgMTAuNTZWMTBjLTEuOTQgMC0zLjk5LjM5LTMuOTkgMi42NyAwIDEuMTYuNjEgMS45NSAxLjYzIDEuOTUuNzYgMCAxLjQzLS40NyAxLjg2LTEuMjIuNTItLjkzLjUtMS44LjUtMi44NG0yLjcgNi41M2MtLjE4LjE2LS40My4xNy0uNjMuMDYtLjg5LS43NC0xLjA1LTEuMDgtMS41NC0xLjc5LTEuNDcgMS41LTIuNTEgMS45NS00LjQyIDEuOTUtMi4yNSAwLTQuMDEtMS4zOS00LjAxLTQuMTcgMC0yLjE4IDEuMTctMy42NCAyLjg2LTQuMzggMS40Ni0uNjQgMy40OS0uNzYgNS4wNC0uOTNWNy41YzAtLjY2LjA1LTEuNDEtLjMzLTEuOTYtLjMyLS40OS0uOTUtLjctMS41LS43LTEuMDIgMC0xLjkzLjUzLTIuMTUgMS42MS0uMDUuMjQtLjI1LjQ4LS40Ny40OWwtMi42LS4yOGMtLjIyLS4wNS0uNDYtLjIyLS40LS41Ni42LTMuMTUgMy40NS00LjEgNi00LjEgMS4zIDAgMyAuMzUgNC4wMyAxLjMzQzE3LjExIDQuNTUgMTcgNi4xOCAxNyA3Ljk1djQuMTdjMCAxLjI1LjUgMS44MSAxIDIuNDguMTcuMjUuMjEuNTQgMCAuNzFsLTIuMDYgMS43OGgtLjAxIj48L3BhdGg+PHBhdGggZD0iTTIwLjE2IDE5LjU0QzE4IDIxLjE0IDE0LjgyIDIyIDEyLjEgMjJjLTMuODEgMC03LjI1LTEuNDEtOS44NS0zLjc2LS4yLS4xOC0uMDItLjQzLjI1LS4yOSAyLjc4IDEuNjMgNi4yNSAyLjYxIDkuODMgMi42MSAyLjQxIDAgNS4wNy0uNSA3LjUxLTEuNTMuMzctLjE2LjY2LjI0LjMyLjUxIj48L3BhdGg+PHBhdGggZD0iTTIxLjA3IDE4LjVjLS4yOC0uMzYtMS44NS0uMTctMi41Ny0uMDgtLjE5LjAyLS4yMi0uMTYtLjAzLS4zIDEuMjQtLjg4IDMuMjktLjYyIDMuNTMtLjMzLjI0LjMtLjA3IDIuMzUtMS4yNCAzLjMyLS4xOC4xNi0uMzUuMDctLjI2LS4xMS4yNi0uNjcuODUtMi4xNC41Ny0yLjV6Ij48L3BhdGg+PC9zdmc+","docUrl":""}}, actions=null)
2020-12-18 09:50:41,602 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=aws sqs, clazz=org.thingsboard.rule.engine.aws.sqs.TbSqsNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload and metadata attributes to the AWS SQS queue. Outbound message will contain response fields (<code>messageId</code>, <code>requestId</code>, <code>messageBodyMd5</code>, <code>messageAttributesMd5</code>, <code>sequenceNumber</code>) in the Message Metadata from the AWS SQS. For example <b>requestId</b> field can be accessed with <code>metadata.requestId</code>.","description":"Publish messages to the AWS SQS","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"queueType":"STANDARD","queueUrlPattern":"https://sqs.us-east-1.amazonaws.com/123456789012/my-queue-name","delaySeconds":0,"messageAttributes":{},"accessKeyId":null,"secretAccessKey":null,"region":"us-east-1"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSqsConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48cGF0aCBkPSJNMTMuMjMgMTAuNTZWMTBjLTEuOTQgMC0zLjk5LjM5LTMuOTkgMi42NyAwIDEuMTYuNjEgMS45NSAxLjYzIDEuOTUuNzYgMCAxLjQzLS40NyAxLjg2LTEuMjIuNTItLjkzLjUtMS44LjUtMi44NG0yLjcgNi41M2MtLjE4LjE2LS40My4xNy0uNjMuMDYtLjg5LS43NC0xLjA1LTEuMDgtMS41NC0xLjc5LTEuNDcgMS41LTIuNTEgMS45NS00LjQyIDEuOTUtMi4yNSAwLTQuMDEtMS4zOS00LjAxLTQuMTcgMC0yLjE4IDEuMTctMy42NCAyLjg2LTQuMzggMS40Ni0uNjQgMy40OS0uNzYgNS4wNC0uOTNWNy41YzAtLjY2LjA1LTEuNDEtLjMzLTEuOTYtLjMyLS40OS0uOTUtLjctMS41LS43LTEuMDIgMC0xLjkzLjUzLTIuMTUgMS42MS0uMDUuMjQtLjI1LjQ4LS40Ny40OWwtMi42LS4yOGMtLjIyLS4wNS0uNDYtLjIyLS40LS41Ni42LTMuMTUgMy40NS00LjEgNi00LjEgMS4zIDAgMyAuMzUgNC4wMyAxLjMzQzE3LjExIDQuNTUgMTcgNi4xOCAxNyA3Ljk1djQuMTdjMCAxLjI1LjUgMS44MSAxIDIuNDguMTcuMjUuMjEuNTQgMCAuNzFsLTIuMDYgMS43OGgtLjAxIj48L3BhdGg+PHBhdGggZD0iTTIwLjE2IDE5LjU0QzE4IDIxLjE0IDE0LjgyIDIyIDEyLjEgMjJjLTMuODEgMC03LjI1LTEuNDEtOS44NS0zLjc2LS4yLS4xOC0uMDItLjQzLjI1LS4yOSAyLjc4IDEuNjMgNi4yNSAyLjYxIDkuODMgMi42MSAyLjQxIDAgNS4wNy0uNSA3LjUxLTEuNTMuMzctLjE2LjY2LjI0LjMyLjUxIj48L3BhdGg+PHBhdGggZD0iTTIxLjA3IDE4LjVjLS4yOC0uMzYtMS44NS0uMTctMi41Ny0uMDgtLjE5LjAyLS4yMi0uMTYtLjAzLS4zIDEuMjQtLjg4IDMuMjktLjYyIDMuNTMtLjMzLjI0LjMtLjA3IDIuMzUtMS4yNCAzLjMyLS4xOC4xNi0uMzUuMDctLjI2LS4xMS4yNi0uNjcuODUtMi4xNC41Ny0yLjV6Ij48L3BhdGg+PC9zdmc+","docUrl":""}}, actions=null)
2020-12-18 09:50:41,610 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=kafka, clazz=org.thingsboard.rule.engine.kafka.TbKafkaNode, configurationDescriptor={"nodeDefinition":{"details":"Will send record via Kafka producer to Kafka server. Outbound message will contain response fields (<code>offset</code>, <code>partition</code>, <code>topic</code>) from the Kafka in the Message Metadata. For example <b>partition</b> field can be accessed with <code>metadata.partition</code>.","description":"Publish messages to Kafka server","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"my-topic","bootstrapServers":"localhost:9092","retries":0,"batchSize":16384,"linger":0,"bufferMemory":33554432,"acks":"-1","keySerializer":"org.apache.kafka.common.serialization.StringSerializer","valueSerializer":"org.apache.kafka.common.serialization.StringSerializer","otherProperties":{},"addMetadataKeyValuesAsKafkaHeaders":false,"kafkaHeadersCharset":"UTF-8"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeKafkaConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUzOCIgaGVpZ2h0PSIyNTAwIiB2aWV3Qm94PSIwIDAgMjU2IDQxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PHBhdGggZD0iTTIwMS44MTYgMjMwLjIxNmMtMTYuMTg2IDAtMzAuNjk3IDcuMTcxLTQwLjYzNCAxOC40NjFsLTI1LjQ2My0xOC4wMjZjMi43MDMtNy40NDIgNC4yNTUtMTUuNDMzIDQuMjU1LTIzLjc5NyAwLTguMjE5LTEuNDk4LTE2LjA3Ni00LjExMi0yMy40MDhsMjUuNDA2LTE3LjgzNWM5LjkzNiAxMS4yMzMgMjQuNDA5IDE4LjM2NSA0MC41NDggMTguMzY1IDI5Ljg3NSAwIDU0LjE4NC0yNC4zMDUgNTQuMTg0LTU0LjE4NCAwLTI5Ljg3OS0yNC4zMDktNTQuMTg0LTU0LjE4NC01NC4xODQtMjkuODc1IDAtNTQuMTg0IDI0LjMwNS01NC4xODQgNTQuMTg0IDAgNS4zNDguODA4IDEwLjUwNSAyLjI1OCAxNS4zODlsLTI1LjQyMyAxNy44NDRjLTEwLjYyLTEzLjE3NS0yNS45MTEtMjIuMzc0LTQzLjMzMy0yNS4xODJ2LTMwLjY0YzI0LjU0NC01LjE1NSA0My4wMzctMjYuOTYyIDQzLjAzNy01My4wMTlDMTI0LjE3MSAyNC4zMDUgOTkuODYyIDAgNjkuOTg3IDAgNDAuMTEyIDAgMTUuODAzIDI0LjMwNSAxNS44MDMgNTQuMTg0YzAgMjUuNzA4IDE4LjAxNCA0Ny4yNDYgNDIuMDY3IDUyLjc2OXYzMS4wMzhDMjUuMDQ0IDE0My43NTMgMCAxNzIuNDAxIDAgMjA2Ljg1NGMwIDM0LjYyMSAyNS4yOTIgNjMuMzc0IDU4LjM1NSA2OC45NHYzMi43NzRjLTI0LjI5OSA1LjM0MS00Mi41NTIgMjcuMDExLTQyLjU1MiA1Mi44OTQgMCAyOS44NzkgMjQuMzA5IDU0LjE4NCA1NC4xODQgNTQuMTg0IDI5Ljg3NSAwIDU0LjE4NC0yNC4zMDUgNTQuMTg0LTU0LjE4NCAwLTI1Ljg4My0xOC4yNTMtNDcuNTUzLTQyLjU1Mi01Mi44OTR2LTMyLjc3NWE2OS45NjUgNjkuOTY1IDAgMCAwIDQyLjYtMjQuNzc2bDI1LjYzMyAxOC4xNDNjLTEuNDIzIDQuODQtMi4yMiA5Ljk0Ni0yLjIyIDE1LjI0IDAgMjkuODc5IDI0LjMwOSA1NC4xODQgNTQuMTg0IDU0LjE4NCAyOS44NzUgMCA1NC4xODQtMjQuMzA1IDU0LjE4NC01NC4xODQgMC0yOS44NzktMjQuMzA5LTU0LjE4NC01NC4xODQtNTQuMTg0em0wLTEyNi42OTVjMTQuNDg3IDAgMjYuMjcgMTEuNzg4IDI2LjI3IDI2LjI3MXMtMTEuNzgzIDI2LjI3LTI2LjI3IDI2LjI3LTI2LjI3LTExLjc4Ny0yNi4yNy0yNi4yN2MwLTE0LjQ4MyAxMS43ODMtMjYuMjcxIDI2LjI3LTI2LjI3MXptLTE1OC4xLTQ5LjMzN2MwLTE0LjQ4MyAxMS43ODQtMjYuMjcgMjYuMjcxLTI2LjI3czI2LjI3IDExLjc4NyAyNi4yNyAyNi4yN2MwIDE0LjQ4My0xMS43ODMgMjYuMjctMjYuMjcgMjYuMjdzLTI2LjI3MS0xMS43ODctMjYuMjcxLTI2LjI3em01Mi41NDEgMzA3LjI3OGMwIDE0LjQ4My0xMS43ODMgMjYuMjctMjYuMjcgMjYuMjdzLTI2LjI3MS0xMS43ODctMjYuMjcxLTI2LjI3YzAtMTQuNDgzIDExLjc4NC0yNi4yNyAyNi4yNzEtMjYuMjdzMjYuMjcgMTEuNzg3IDI2LjI3IDI2LjI3em0tMjYuMjcyLTExNy45N2MtMjAuMjA1IDAtMzYuNjQyLTE2LjQzNC0zNi42NDItMzYuNjM4IDAtMjAuMjA1IDE2LjQzNy0zNi42NDIgMzYuNjQyLTM2LjY0MiAyMC4yMDQgMCAzNi42NDEgMTYuNDM3IDM2LjY0MSAzNi42NDIgMCAyMC4yMDQtMTYuNDM3IDM2LjYzOC0zNi42NDEgMzYuNjM4em0xMzEuODMxIDY3LjE3OWMtMTQuNDg3IDAtMjYuMjctMTEuNzg4LTI2LjI3LTI2LjI3MXMxMS43ODMtMjYuMjcgMjYuMjctMjYuMjcgMjYuMjcgMTEuNzg3IDI2LjI3IDI2LjI3YzAgMTQuNDgzLTExLjc4MyAyNi4yNzEtMjYuMjcgMjYuMjcxeiIvPjwvc3ZnPg==","docUrl":""}}, actions=null)
2020-12-18 09:50:41,614 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=kafka, clazz=org.thingsboard.rule.engine.kafka.TbKafkaNode, configurationDescriptor={"nodeDefinition":{"details":"Will send record via Kafka producer to Kafka server. Outbound message will contain response fields (<code>offset</code>, <code>partition</code>, <code>topic</code>) from the Kafka in the Message Metadata. For example <b>partition</b> field can be accessed with <code>metadata.partition</code>.","description":"Publish messages to Kafka server","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"my-topic","bootstrapServers":"localhost:9092","retries":0,"batchSize":16384,"linger":0,"bufferMemory":33554432,"acks":"-1","keySerializer":"org.apache.kafka.common.serialization.StringSerializer","valueSerializer":"org.apache.kafka.common.serialization.StringSerializer","otherProperties":{},"addMetadataKeyValuesAsKafkaHeaders":false,"kafkaHeadersCharset":"UTF-8"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeKafkaConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUzOCIgaGVpZ2h0PSIyNTAwIiB2aWV3Qm94PSIwIDAgMjU2IDQxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PHBhdGggZD0iTTIwMS44MTYgMjMwLjIxNmMtMTYuMTg2IDAtMzAuNjk3IDcuMTcxLTQwLjYzNCAxOC40NjFsLTI1LjQ2My0xOC4wMjZjMi43MDMtNy40NDIgNC4yNTUtMTUuNDMzIDQuMjU1LTIzLjc5NyAwLTguMjE5LTEuNDk4LTE2LjA3Ni00LjExMi0yMy40MDhsMjUuNDA2LTE3LjgzNWM5LjkzNiAxMS4yMzMgMjQuNDA5IDE4LjM2NSA0MC41NDggMTguMzY1IDI5Ljg3NSAwIDU0LjE4NC0yNC4zMDUgNTQuMTg0LTU0LjE4NCAwLTI5Ljg3OS0yNC4zMDktNTQuMTg0LTU0LjE4NC01NC4xODQtMjkuODc1IDAtNTQuMTg0IDI0LjMwNS01NC4xODQgNTQuMTg0IDAgNS4zNDguODA4IDEwLjUwNSAyLjI1OCAxNS4zODlsLTI1LjQyMyAxNy44NDRjLTEwLjYyLTEzLjE3NS0yNS45MTEtMjIuMzc0LTQzLjMzMy0yNS4xODJ2LTMwLjY0YzI0LjU0NC01LjE1NSA0My4wMzctMjYuOTYyIDQzLjAzNy01My4wMTlDMTI0LjE3MSAyNC4zMDUgOTkuODYyIDAgNjkuOTg3IDAgNDAuMTEyIDAgMTUuODAzIDI0LjMwNSAxNS44MDMgNTQuMTg0YzAgMjUuNzA4IDE4LjAxNCA0Ny4yNDYgNDIuMDY3IDUyLjc2OXYzMS4wMzhDMjUuMDQ0IDE0My43NTMgMCAxNzIuNDAxIDAgMjA2Ljg1NGMwIDM0LjYyMSAyNS4yOTIgNjMuMzc0IDU4LjM1NSA2OC45NHYzMi43NzRjLTI0LjI5OSA1LjM0MS00Mi41NTIgMjcuMDExLTQyLjU1MiA1Mi44OTQgMCAyOS44NzkgMjQuMzA5IDU0LjE4NCA1NC4xODQgNTQuMTg0IDI5Ljg3NSAwIDU0LjE4NC0yNC4zMDUgNTQuMTg0LTU0LjE4NCAwLTI1Ljg4My0xOC4yNTMtNDcuNTUzLTQyLjU1Mi01Mi44OTR2LTMyLjc3NWE2OS45NjUgNjkuOTY1IDAgMCAwIDQyLjYtMjQuNzc2bDI1LjYzMyAxOC4xNDNjLTEuNDIzIDQuODQtMi4yMiA5Ljk0Ni0yLjIyIDE1LjI0IDAgMjkuODc5IDI0LjMwOSA1NC4xODQgNTQuMTg0IDU0LjE4NCAyOS44NzUgMCA1NC4xODQtMjQuMzA1IDU0LjE4NC01NC4xODQgMC0yOS44NzktMjQuMzA5LTU0LjE4NC01NC4xODQtNTQuMTg0em0wLTEyNi42OTVjMTQuNDg3IDAgMjYuMjcgMTEuNzg4IDI2LjI3IDI2LjI3MXMtMTEuNzgzIDI2LjI3LTI2LjI3IDI2LjI3LTI2LjI3LTExLjc4Ny0yNi4yNy0yNi4yN2MwLTE0LjQ4MyAxMS43ODMtMjYuMjcxIDI2LjI3LTI2LjI3MXptLTE1OC4xLTQ5LjMzN2MwLTE0LjQ4MyAxMS43ODQtMjYuMjcgMjYuMjcxLTI2LjI3czI2LjI3IDExLjc4NyAyNi4yNyAyNi4yN2MwIDE0LjQ4My0xMS43ODMgMjYuMjctMjYuMjcgMjYuMjdzLTI2LjI3MS0xMS43ODctMjYuMjcxLTI2LjI3em01Mi41NDEgMzA3LjI3OGMwIDE0LjQ4My0xMS43ODMgMjYuMjctMjYuMjcgMjYuMjdzLTI2LjI3MS0xMS43ODctMjYuMjcxLTI2LjI3YzAtMTQuNDgzIDExLjc4NC0yNi4yNyAyNi4yNzEtMjYuMjdzMjYuMjcgMTEuNzg3IDI2LjI3IDI2LjI3em0tMjYuMjcyLTExNy45N2MtMjAuMjA1IDAtMzYuNjQyLTE2LjQzNC0zNi42NDItMzYuNjM4IDAtMjAuMjA1IDE2LjQzNy0zNi42NDIgMzYuNjQyLTM2LjY0MiAyMC4yMDQgMCAzNi42NDEgMTYuNDM3IDM2LjY0MSAzNi42NDIgMCAyMC4yMDQtMTYuNDM3IDM2LjYzOC0zNi42NDEgMzYuNjM4em0xMzEuODMxIDY3LjE3OWMtMTQuNDg3IDAtMjYuMjctMTEuNzg4LTI2LjI3LTI2LjI3MXMxMS43ODMtMjYuMjcgMjYuMjctMjYuMjcgMjYuMjcgMTEuNzg3IDI2LjI3IDI2LjI3YzAgMTQuNDgzLTExLjc4MyAyNi4yNzEtMjYuMjcgMjYuMjcxeiIvPjwvc3ZnPg==","docUrl":""}}, actions=null)
2020-12-18 09:50:41,619 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=gps geofencing events, clazz=org.thingsboard.rule.engine.geo.TbGpsGeofencingActionNode, configurationDescriptor={"nodeDefinition":{"details":"Extracts latitude and longitude parameters from incoming message and returns different events based on configuration parameters","description":"Produces incoming messages using GPS based geofencing","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Entered","Left","Inside","Outside","Failure"],"customRelations":false,"defaultConfiguration":{"latitudeKeyName":"latitude","longitudeKeyName":"longitude","fetchPerimeterInfoFromMessageMetadata":true,"perimeterType":null,"polygonsDefinition":null,"centerLatitude":null,"centerLongitude":null,"range":null,"rangeUnit":null,"minInsideDuration":1,"minOutsideDuration":1,"minInsideDurationTimeUnit":"MINUTES","minOutsideDurationTimeUnit":"MINUTES"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeGpsGeofencingConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,621 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=gps geofencing events, clazz=org.thingsboard.rule.engine.geo.TbGpsGeofencingActionNode, configurationDescriptor={"nodeDefinition":{"details":"Extracts latitude and longitude parameters from incoming message and returns different events based on configuration parameters","description":"Produces incoming messages using GPS based geofencing","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Entered","Left","Inside","Outside","Failure"],"customRelations":false,"defaultConfiguration":{"latitudeKeyName":"latitude","longitudeKeyName":"longitude","fetchPerimeterInfoFromMessageMetadata":true,"perimeterType":null,"polygonsDefinition":null,"centerLatitude":null,"centerLongitude":null,"range":null,"rangeUnit":null,"minInsideDuration":1,"minOutsideDuration":1,"minInsideDurationTimeUnit":"MINUTES","minOutsideDurationTimeUnit":"MINUTES"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeGpsGeofencingConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,624 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=switch, clazz=org.thingsboard.rule.engine.filter.TbJsSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Node executes configured JS script. Script should return array of next Chain names where Message should be routed. If Array is empty - message not routed to next Node. Message payload can be accessed via <code>msg</code> property. For example <code>msg.temperature < 10;</code><br/>Message metadata can be accessed via <code>metadata</code> property. For example <code>metadata.customerName === 'John';</code><br/>Message type can be accessed via <code>msgType</code> property.","description":"Route incoming Message to one or multiple output chains","inEnabled":true,"outEnabled":true,"relationTypes":["Failure"],"customRelations":true,"defaultConfiguration":{"jsScript":"function nextRelation(metadata, msg) {\n    return ['one','nine'];\n}\nif(msgType === 'POST_TELEMETRY_REQUEST') {\n    return ['two'];\n}\nreturn nextRelation(metadata, msg);"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeSwitchConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,626 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=switch, clazz=org.thingsboard.rule.engine.filter.TbJsSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Node executes configured JS script. Script should return array of next Chain names where Message should be routed. If Array is empty - message not routed to next Node. Message payload can be accessed via <code>msg</code> property. For example <code>msg.temperature < 10;</code><br/>Message metadata can be accessed via <code>metadata</code> property. For example <code>metadata.customerName === 'John';</code><br/>Message type can be accessed via <code>msgType</code> property.","description":"Route incoming Message to one or multiple output chains","inEnabled":true,"outEnabled":true,"relationTypes":["Failure"],"customRelations":true,"defaultConfiguration":{"jsScript":"function nextRelation(metadata, msg) {\n    return ['one','nine'];\n}\nif(msgType === 'POST_TELEMETRY_REQUEST') {\n    return ['two'];\n}\nreturn nextRelation(metadata, msg);"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeSwitchConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,630 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=check existence fields, clazz=org.thingsboard.rule.engine.filter.TbCheckMessageNode, configurationDescriptor={"nodeDefinition":{"details":"If selected checkbox 'Check that all selected keys are present'\" and all keys in message data and metadata are exist - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.\nElse if the checkbox is not selected, and at least one of the keys from data or metadata of the message exists - send Message via <b>True</b> chain, otherwise, <b>False</b> chain is used. ","description":"Checks the existence of the selected keys from message data and metadata.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"messageNames":[],"metadataNames":[],"checkAllKeys":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckMessageConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,632 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=check existence fields, clazz=org.thingsboard.rule.engine.filter.TbCheckMessageNode, configurationDescriptor={"nodeDefinition":{"details":"If selected checkbox 'Check that all selected keys are present'\" and all keys in message data and metadata are exist - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.\nElse if the checkbox is not selected, and at least one of the keys from data or metadata of the message exists - send Message via <b>True</b> chain, otherwise, <b>False</b> chain is used. ","description":"Checks the existence of the selected keys from message data and metadata.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"messageNames":[],"metadataNames":[],"checkAllKeys":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckMessageConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,634 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=customer attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetCustomerAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Customer Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeCustomerAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,636 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=customer attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetCustomerAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Customer Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeCustomerAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,639 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=rpc call request, clazz=org.thingsboard.rule.engine.rpc.TbSendRPCRequestNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with \"method\" and \"params\". Will forward response from device to next nodes.If the RPC call request is originated by REST API call from user, will forward the response to user immediately.","description":"Sends RPC call to device","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"timeoutInSeconds":60},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRpcRequestConfig","icon":"call_made","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,640 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=rpc call request, clazz=org.thingsboard.rule.engine.rpc.TbSendRPCRequestNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with \"method\" and \"params\". Will forward response from device to next nodes.If the RPC call request is originated by REST API call from user, will forward the response to user immediately.","description":"Sends RPC call to device","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"timeoutInSeconds":60},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRpcRequestConfig","icon":"call_made","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,641 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=tenant attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetTenantAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Tenant Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeTenantAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,643 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=tenant attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetTenantAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Tenant Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeTenantAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,664 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=mqtt, clazz=org.thingsboard.rule.engine.mqtt.TbMqttNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the MQTT broker with QoS <b>AT_LEAST_ONCE</b>.","description":"Publish messages to the MQTT broker","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"my-topic","host":"localhost","port":1883,"connectTimeoutSec":10,"clientId":null,"cleanSession":true,"ssl":false,"credentials":{"type":"anonymous"}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMqttConfig","icon":"call_split","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,666 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=mqtt, clazz=org.thingsboard.rule.engine.mqtt.TbMqttNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the MQTT broker with QoS <b>AT_LEAST_ONCE</b>.","description":"Publish messages to the MQTT broker","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"my-topic","host":"localhost","port":1883,"connectTimeoutSec":10,"clientId":null,"cleanSession":true,"ssl":false,"credentials":{"type":"anonymous"}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMqttConfig","icon":"call_split","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,668 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=rpc call reply, clazz=org.thingsboard.rule.engine.rpc.TbSendRPCReplyNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with any message type. Will forward message body to the device.","description":"Sends reply to RPC call from device","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"serviceIdMetaDataAttribute":"serviceId","sessionIdMetaDataAttribute":"sessionId","requestIdMetaDataAttribute":"requestId"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRpcReplyConfig","icon":"call_merge","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,670 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=rpc call reply, clazz=org.thingsboard.rule.engine.rpc.TbSendRPCReplyNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with any message type. Will forward message body to the device.","description":"Sends reply to RPC call from device","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"serviceIdMetaDataAttribute":"serviceId","sessionIdMetaDataAttribute":"sessionId","requestIdMetaDataAttribute":"requestId"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRpcReplyConfig","icon":"call_merge","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,673 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=message count, clazz=org.thingsboard.rule.engine.action.TbMsgCountNode, configurationDescriptor={"nodeDefinition":{"details":"Count incoming messages for specified interval and produces POST_TELEMETRY_REQUEST msg with messages count","description":"Count incoming messages","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"telemetryPrefix":"messageCount","interval":1},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMsgCountConfig","icon":"functions","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,675 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=message count, clazz=org.thingsboard.rule.engine.action.TbMsgCountNode, configurationDescriptor={"nodeDefinition":{"details":"Count incoming messages for specified interval and produces POST_TELEMETRY_REQUEST msg with messages count","description":"Count incoming messages","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"telemetryPrefix":"messageCount","interval":1},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMsgCountConfig","icon":"functions","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,676 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=acknowledge, clazz=org.thingsboard.rule.engine.flow.TbAckNode, configurationDescriptor={"nodeDefinition":{"details":"After acknowledgement, the message is pushed to related rule nodes. Useful if you don't care what happens to this message next.","description":"Acknowledges the incoming message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,679 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=acknowledge, clazz=org.thingsboard.rule.engine.flow.TbAckNode, configurationDescriptor={"nodeDefinition":{"details":"After acknowledgement, the message is pushed to related rule nodes. Useful if you don't care what happens to this message next.","description":"Acknowledges the incoming message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,685 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=send sms, clazz=org.thingsboard.rule.engine.sms.TbSendSmsNode, configurationDescriptor={"nodeDefinition":{"details":"Will send SMS message by populating target phone numbers and sms message fields using values derived from message metadata.","description":"Sends SMS message via SMS provider.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"numbersToTemplate":"${userPhone}","smsMessageTemplate":"Device ${deviceName} has high temperature ${temp}","useSystemSmsSettings":true,"smsProviderConfiguration":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSendSmsConfig","icon":"sms","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,688 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=send sms, clazz=org.thingsboard.rule.engine.sms.TbSendSmsNode, configurationDescriptor={"nodeDefinition":{"details":"Will send SMS message by populating target phone numbers and sms message fields using values derived from message metadata.","description":"Sends SMS message via SMS provider.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"numbersToTemplate":"${userPhone}","smsMessageTemplate":"Device ${deviceName} has high temperature ${temp}","useSystemSmsSettings":true,"smsProviderConfiguration":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSendSmsConfig","icon":"sms","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,691 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator telemetry, clazz=org.thingsboard.rule.engine.metadata.TbGetTelemetryNode, configurationDescriptor={"nodeDefinition":{"details":"The node allows you to select fetch mode: <b>FIRST/LAST/ALL</b> to fetch telemetry of certain time range that are added into Message metadata without any prefix. If selected fetch mode <b>ALL</b> Telemetry will be added like array into Message Metadata where <b>key</b> is Timestamp and <b>value</b> is value of Telemetry.</br>If selected fetch mode <b>FIRST</b> or <b>LAST</b> Telemetry will be added like string without Timestamp.</br>Also, the rule node allows you to select telemetry sampling order: <b>ASC</b> or <b>DESC</b>. </br><b>Note</b>: The maximum size of the fetched array is 1000 records.\n ","description":"Add Message Originator Telemetry for selected time range into Message Metadata\n","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"startInterval":2,"endInterval":1,"startIntervalPattern":"","endIntervalPattern":"","useMetadataIntervalPatterns":false,"startIntervalTimeUnit":"MINUTES","endIntervalTimeUnit":"MINUTES","fetchMode":"FIRST","orderBy":"ASC","limit":1000,"latestTsKeyNames":[]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeGetTelemetryFromDatabase","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,694 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator telemetry, clazz=org.thingsboard.rule.engine.metadata.TbGetTelemetryNode, configurationDescriptor={"nodeDefinition":{"details":"The node allows you to select fetch mode: <b>FIRST/LAST/ALL</b> to fetch telemetry of certain time range that are added into Message metadata without any prefix. If selected fetch mode <b>ALL</b> Telemetry will be added like array into Message Metadata where <b>key</b> is Timestamp and <b>value</b> is value of Telemetry.</br>If selected fetch mode <b>FIRST</b> or <b>LAST</b> Telemetry will be added like string without Timestamp.</br>Also, the rule node allows you to select telemetry sampling order: <b>ASC</b> or <b>DESC</b>. </br><b>Note</b>: The maximum size of the fetched array is 1000 records.\n ","description":"Add Message Originator Telemetry for selected time range into Message Metadata\n","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"startInterval":2,"endInterval":1,"startIntervalPattern":"","endIntervalPattern":"","useMetadataIntervalPatterns":false,"startIntervalTimeUnit":"MINUTES","endIntervalTimeUnit":"MINUTES","fetchMode":"FIRST","orderBy":"ASC","limit":1000,"latestTsKeyNames":[]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeGetTelemetryFromDatabase","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,696 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=synchronization end, clazz=org.thingsboard.rule.engine.transaction.TbSynchronizationEndNode, configurationDescriptor={"nodeDefinition":{"details":"","description":"This Node is now deprecated. Use \"Checkpoint\" instead.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,699 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=synchronization end, clazz=org.thingsboard.rule.engine.transaction.TbSynchronizationEndNode, configurationDescriptor={"nodeDefinition":{"details":"","description":"This Node is now deprecated. Use \"Checkpoint\" instead.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,703 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=related device attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetDeviceAttrNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, <b>CLIENT/SHARED/SERVER</b> attributes are added into Message metadata with specific prefix: <i>cs/shared/ss</i>. Latest telemetry value added into metadata without prefix. To access those attributes in other nodes this template can be used <code>metadata.cs_temperature</code> or <code>metadata.shared_limit</code> ","description":"Add Originators Related Device Attributes and Latest Telemetry value into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"clientAttributeNames":[],"sharedAttributeNames":[],"serverAttributeNames":[],"latestTsKeyNames":[],"tellFailureIfAbsent":true,"getLatestValueWithTs":false,"deviceRelationsQuery":{"direction":"FROM","maxLevel":1,"relationType":"Contains","deviceTypes":["default"],"fetchLastLevelOnly":false}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeDeviceAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,705 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=related device attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetDeviceAttrNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, <b>CLIENT/SHARED/SERVER</b> attributes are added into Message metadata with specific prefix: <i>cs/shared/ss</i>. Latest telemetry value added into metadata without prefix. To access those attributes in other nodes this template can be used <code>metadata.cs_temperature</code> or <code>metadata.shared_limit</code> ","description":"Add Originators Related Device Attributes and Latest Telemetry value into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"clientAttributeNames":[],"sharedAttributeNames":[],"serverAttributeNames":[],"latestTsKeyNames":[],"tellFailureIfAbsent":true,"getLatestValueWithTs":false,"deviceRelationsQuery":{"direction":"FROM","maxLevel":1,"relationType":"Contains","deviceTypes":["default"],"fetchLastLevelOnly":false}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeDeviceAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,707 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=save timeseries, clazz=org.thingsboard.rule.engine.telemetry.TbMsgTimeseriesNode, configurationDescriptor={"nodeDefinition":{"details":"Saves timeseries telemetry data based on configurable TTL parameter. Expects messages with 'POST_TELEMETRY_REQUEST' message type","description":"Saves timeseries data","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"defaultTTL":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeTimeseriesConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,709 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component ComponentDescriptor(type=ACTION, scope=TENANT, name=save timeseries, clazz=org.thingsboard.rule.engine.telemetry.TbMsgTimeseriesNode, configurationDescriptor={"nodeDefinition":{"details":"Saves timeseries telemetry data based on configurable TTL parameter. Expects messages with 'POST_TELEMETRY_REQUEST' message type","description":"Saves timeseries data","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"defaultTTL":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeTimeseriesConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null) will be updated to ComponentDescriptor(type=ACTION, scope=TENANT, name=save timeseries, clazz=org.thingsboard.rule.engine.telemetry.TbMsgTimeseriesNode, configurationDescriptor={"nodeDefinition":{"details":"Saves timeseries telemetry data based on configurable TTL parameter. Expects messages with 'POST_TELEMETRY_REQUEST' message type","description":"Saves timeseries data","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"defaultTTL":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeTimeseriesConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,739 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=rest api call, clazz=org.thingsboard.rule.engine.rest.TbRestApiCallNode, configurationDescriptor={"nodeDefinition":{"details":"Will invoke REST API call <code>GET | POST | PUT | DELETE</code> to external REST server. Message payload added into Request body. Configured attributes can be added into Headers from Message Metadata. Outbound message will contain response fields (<code>status</code>, <code>statusCode</code>, <code>statusReason</code> and response <code>headers</code>) in the Message Metadata. Response body saved in outbound Message payload. For example <b>statusCode</b> field can be accessed with <code>metadata.statusCode</code>.<br/><b>Note-</b> if you use system proxy properties, the next system proxy properties should be added: \"http.proxyHost\" and \"http.proxyPort\" or  \"https.proxyHost\" and \"https.proxyPort\" or \"socksProxyHost\" and \"socksProxyPort\",and if your proxy with auth, the next ones  should be added: \"tb.proxy.user\" and \"tb.proxy.password\" to the thingsboard.conf file.","description":"Invoke REST API calls to external REST server","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"restEndpointUrlPattern":"http://localhost/api","requestMethod":"POST","headers":{},"useSimpleClientHttpFactory":false,"readTimeoutMs":0,"maxParallelRequestsCount":0,"useRedisQueueForMsgPersistence":false,"trimQueue":false,"maxQueueSize":0,"enableProxy":false,"useSystemProxyProperties":false,"proxyHost":null,"proxyPort":0,"proxyUser":null,"proxyPassword":null,"proxyScheme":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRestApiCallConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB2ZXJzaW9uPSIxLjEiIHk9IjBweCIgeD0iMHB4Ij48ZyB0cmFuc2Zvcm09Im1hdHJpeCguOTQ5NzUgMCAwIC45NDk3NSAxNy4xMiAyNi40OTIpIj48cGF0aCBkPSJtMTY5LjExIDEwOC41NGMtOS45MDY2IDAuMDczNC0xOS4wMTQgNi41NzI0LTIyLjAxNCAxNi40NjlsLTY5Ljk5MyAyMzEuMDhjLTMuNjkwNCAxMi4xODEgMy4yODkyIDI1LjIyIDE1LjQ2OSAyOC45MSAyLjIyNTkgMC42NzQ4MSA0LjQ5NjkgMSA2LjcyODUgMSA5Ljk3MjEgMCAxOS4xNjUtNi41MTUzIDIyLjE4Mi0xNi40NjdhNi41MjI0IDYuNTIyNCAwIDAgMCAwLjAwMiAtMC4wMDJsNjkuOTktMjMxLjA3YTYuNTIyNCA2LjUyMjQgMCAwIDAgMCAtMC4wMDJjMy42ODU1LTEyLjE4MS0zLjI4Ny0yNS4yMjUtMTUuNDcxLTI4LjkxMi0yLjI4MjUtMC42OTE0NS00LjYxMTYtMS4wMTY5LTYuODk4NC0xem04NC45ODggMGMtOS45MDQ4IDAuMDczNC0xOS4wMTggNi41Njc1LTIyLjAxOCAxNi40NjlsLTY5Ljk4NiAyMzEuMDhjLTMuNjg5OCAxMi4xNzkgMy4yODUzIDI1LjIxNyAxNS40NjUgMjguOTA4IDIuMjI5NyAwLjY3NjQ3IDQuNTAwOCAxLjAwMiA2LjczMjQgMS4wMDIgOS45NzIxIDAgMTkuMTY1LTYuNTE1MyAyMi4xODItMTYuNDY3YTYuNTIyNCA2LjUyMjQgMCAwIDAgMC4wMDIgLTAuMDAybDY5Ljk4OC0yMzEuMDdjMy42OTA4LTEyLjE4MS0zLjI4NTItMjUuMjIzLTE1LjQ2Ny0yOC45MTItMi4yODE0LTAuNjkyMzEtNC42MTA4LTEuMDE4OS02Ljg5ODQtMS4wMDJ6bS0yMTcuMjkgNDIuMjNjLTEyLjcyOS0wLjAwMDg3LTIzLjE4OCAxMC40NTYtMjMuMTg4IDIzLjE4NiAwLjAwMSAxMi43MjggMTAuNDU5IDIzLjE4NiAyMy4xODggMjMuMTg2IDEyLjcyNy0wLjAwMSAyMy4xODMtMTAuNDU5IDIzLjE4NC0yMy4xODYgMC4wMDA4NzYtMTIuNzI4LTEwLjQ1Ni0yMy4xODUtMjMuMTg0LTIzLjE4NnptMCAxNDYuNjRjLTEyLjcyNy0wLjAwMDg3LTIzLjE4NiAxMC40NTUtMjMuMTg4IDIzLjE4NC0wLjAwMDg3MyAxMi43MjkgMTAuNDU4IDIzLjE4OCAyMy4xODggMjMuMTg4IDEyLjcyOC0wLjAwMSAyMy4xODQtMTAuNDYgMjMuMTg0LTIzLjE4OC0wLjAwMS0xMi43MjYtMTAuNDU3LTIzLjE4My0yMy4xODQtMjMuMTg0em0yNzAuNzkgNDIuMjExYy0xMi43MjcgMC0yMy4xODQgMTAuNDU3LTIzLjE4NCAyMy4xODRzMTAuNDU1IDIzLjE4OCAyMy4xODQgMjMuMTg4aDE1NC45OGMxMi43MjkgMCAyMy4xODYtMTAuNDYgMjMuMTg2LTIzLjE4OCAwLjAwMS0xMi43MjgtMTAuNDU4LTIzLjE4NC0yMy4xODYtMjMuMTg0eiIgdHJhbnNmb3JtPSJtYXRyaXgoMS4wMzc2IDAgMCAxLjAzNzYgLTcuNTY3NiAtMTQuOTI1KSIgc3Ryb2tlLXdpZHRoPSIxLjI2OTMiLz48L2c+PC9zdmc+","docUrl":""}}, actions=null)
2020-12-18 09:50:41,742 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=rest api call, clazz=org.thingsboard.rule.engine.rest.TbRestApiCallNode, configurationDescriptor={"nodeDefinition":{"details":"Will invoke REST API call <code>GET | POST | PUT | DELETE</code> to external REST server. Message payload added into Request body. Configured attributes can be added into Headers from Message Metadata. Outbound message will contain response fields (<code>status</code>, <code>statusCode</code>, <code>statusReason</code> and response <code>headers</code>) in the Message Metadata. Response body saved in outbound Message payload. For example <b>statusCode</b> field can be accessed with <code>metadata.statusCode</code>.<br/><b>Note-</b> if you use system proxy properties, the next system proxy properties should be added: \"http.proxyHost\" and \"http.proxyPort\" or  \"https.proxyHost\" and \"https.proxyPort\" or \"socksProxyHost\" and \"socksProxyPort\",and if your proxy with auth, the next ones  should be added: \"tb.proxy.user\" and \"tb.proxy.password\" to the thingsboard.conf file.","description":"Invoke REST API calls to external REST server","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"restEndpointUrlPattern":"http://localhost/api","requestMethod":"POST","headers":{},"useSimpleClientHttpFactory":false,"readTimeoutMs":0,"maxParallelRequestsCount":0,"useRedisQueueForMsgPersistence":false,"trimQueue":false,"maxQueueSize":0,"enableProxy":false,"useSystemProxyProperties":false,"proxyHost":null,"proxyPort":0,"proxyUser":null,"proxyPassword":null,"proxyScheme":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRestApiCallConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB2ZXJzaW9uPSIxLjEiIHk9IjBweCIgeD0iMHB4Ij48ZyB0cmFuc2Zvcm09Im1hdHJpeCguOTQ5NzUgMCAwIC45NDk3NSAxNy4xMiAyNi40OTIpIj48cGF0aCBkPSJtMTY5LjExIDEwOC41NGMtOS45MDY2IDAuMDczNC0xOS4wMTQgNi41NzI0LTIyLjAxNCAxNi40NjlsLTY5Ljk5MyAyMzEuMDhjLTMuNjkwNCAxMi4xODEgMy4yODkyIDI1LjIyIDE1LjQ2OSAyOC45MSAyLjIyNTkgMC42NzQ4MSA0LjQ5NjkgMSA2LjcyODUgMSA5Ljk3MjEgMCAxOS4xNjUtNi41MTUzIDIyLjE4Mi0xNi40NjdhNi41MjI0IDYuNTIyNCAwIDAgMCAwLjAwMiAtMC4wMDJsNjkuOTktMjMxLjA3YTYuNTIyNCA2LjUyMjQgMCAwIDAgMCAtMC4wMDJjMy42ODU1LTEyLjE4MS0zLjI4Ny0yNS4yMjUtMTUuNDcxLTI4LjkxMi0yLjI4MjUtMC42OTE0NS00LjYxMTYtMS4wMTY5LTYuODk4NC0xem04NC45ODggMGMtOS45MDQ4IDAuMDczNC0xOS4wMTggNi41Njc1LTIyLjAxOCAxNi40NjlsLTY5Ljk4NiAyMzEuMDhjLTMuNjg5OCAxMi4xNzkgMy4yODUzIDI1LjIxNyAxNS40NjUgMjguOTA4IDIuMjI5NyAwLjY3NjQ3IDQuNTAwOCAxLjAwMiA2LjczMjQgMS4wMDIgOS45NzIxIDAgMTkuMTY1LTYuNTE1MyAyMi4xODItMTYuNDY3YTYuNTIyNCA2LjUyMjQgMCAwIDAgMC4wMDIgLTAuMDAybDY5Ljk4OC0yMzEuMDdjMy42OTA4LTEyLjE4MS0zLjI4NTItMjUuMjIzLTE1LjQ2Ny0yOC45MTItMi4yODE0LTAuNjkyMzEtNC42MTA4LTEuMDE4OS02Ljg5ODQtMS4wMDJ6bS0yMTcuMjkgNDIuMjNjLTEyLjcyOS0wLjAwMDg3LTIzLjE4OCAxMC40NTYtMjMuMTg4IDIzLjE4NiAwLjAwMSAxMi43MjggMTAuNDU5IDIzLjE4NiAyMy4xODggMjMuMTg2IDEyLjcyNy0wLjAwMSAyMy4xODMtMTAuNDU5IDIzLjE4NC0yMy4xODYgMC4wMDA4NzYtMTIuNzI4LTEwLjQ1Ni0yMy4xODUtMjMuMTg0LTIzLjE4NnptMCAxNDYuNjRjLTEyLjcyNy0wLjAwMDg3LTIzLjE4NiAxMC40NTUtMjMuMTg4IDIzLjE4NC0wLjAwMDg3MyAxMi43MjkgMTAuNDU4IDIzLjE4OCAyMy4xODggMjMuMTg4IDEyLjcyOC0wLjAwMSAyMy4xODQtMTAuNDYgMjMuMTg0LTIzLjE4OC0wLjAwMS0xMi43MjYtMTAuNDU3LTIzLjE4My0yMy4xODQtMjMuMTg0em0yNzAuNzkgNDIuMjExYy0xMi43MjcgMC0yMy4xODQgMTAuNDU3LTIzLjE4NCAyMy4xODRzMTAuNDU1IDIzLjE4OCAyMy4xODQgMjMuMTg4aDE1NC45OGMxMi43MjkgMCAyMy4xODYtMTAuNDYgMjMuMTg2LTIzLjE4OCAwLjAwMS0xMi43MjgtMTAuNDU4LTIzLjE4NC0yMy4xODYtMjMuMTg0eiIgdHJhbnNmb3JtPSJtYXRyaXgoMS4wMzc2IDAgMCAxLjAzNzYgLTcuNTY3NiAtMTQuOTI1KSIgc3Ryb2tlLXdpZHRoPSIxLjI2OTMiLz48L2c+PC9zdmc+","docUrl":""}}, actions=null)
2020-12-18 09:50:41,748 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=customer details, clazz=org.thingsboard.rule.engine.metadata.TbGetCustomerDetailsNode, configurationDescriptor={"nodeDefinition":{"details":"If checkbox: <b>Add selected details to the message metadata</b> is selected, existing fields will be added to the message metadata instead of message data.<br><br><b>Note:</b> only Device, Asset, and Entity View type are allowed.<br><br>If the originator of the message is not assigned to Customer, or originator type is not supported - Message will be forwarded to <b>Failure</b> chain, otherwise, <b>Success</b> chain will be used.","description":"Adds fields from Customer details to the message body or metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"detailsList":[],"addToMetadata":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeEntityDetailsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,751 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=customer details, clazz=org.thingsboard.rule.engine.metadata.TbGetCustomerDetailsNode, configurationDescriptor={"nodeDefinition":{"details":"If checkbox: <b>Add selected details to the message metadata</b> is selected, existing fields will be added to the message metadata instead of message data.<br><br><b>Note:</b> only Device, Asset, and Entity View type are allowed.<br><br>If the originator of the message is not assigned to Customer, or originator type is not supported - Message will be forwarded to <b>Failure</b> chain, otherwise, <b>Success</b> chain will be used.","description":"Adds fields from Customer details to the message body or metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"detailsList":[],"addToMetadata":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeEntityDetailsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,753 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=assign to customer, clazz=org.thingsboard.rule.engine.action.TbAssignToCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Customer by customer name pattern and then assign Originator Entity to this customer. Will create new Customer if it doesn't exists and 'Create new Customer if not exists' is set to true.","description":"Assign Message Originator Entity to Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300,"createCustomerIfNotExists":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAssignToCustomerConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,755 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component ComponentDescriptor(type=ACTION, scope=TENANT, name=assign to customer, clazz=org.thingsboard.rule.engine.action.TbAssignToCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Customer by customer name pattern and then assign Originator Entity to this customer. Will create new Customer if it doesn't exists and 'Create new Customer if not exists' is set to true.","description":"Assign Message Originator Entity to Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300,"createCustomerIfNotExists":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAssignToCustomerConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null) will be updated to ComponentDescriptor(type=ACTION, scope=TENANT, name=assign to customer, clazz=org.thingsboard.rule.engine.action.TbAssignToCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Customer by customer name pattern and then assign Originator Entity to this customer. Will create new Customer if it doesn't exists and 'Create new Customer if not exists' is set to true.","description":"Assign Message Originator Entity to Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300,"createCustomerIfNotExists":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAssignToCustomerConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,768 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=originator type, clazz=org.thingsboard.rule.engine.filter.TbOriginatorTypeFilterNode, configurationDescriptor={"nodeDefinition":{"details":"If Originator Type of incoming message is expected - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Filter incoming messages by message Originator Type","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"originatorTypes":["DEVICE"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeOriginatorTypeConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,770 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=originator type, clazz=org.thingsboard.rule.engine.filter.TbOriginatorTypeFilterNode, configurationDescriptor={"nodeDefinition":{"details":"If Originator Type of incoming message is expected - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Filter incoming messages by message Originator Type","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"originatorTypes":["DEVICE"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeOriginatorTypeConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,787 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=azure iot hub, clazz=org.thingsboard.rule.engine.mqtt.azure.TbAzureIotHubNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the Azure IoT Hub with QoS <b>AT_LEAST_ONCE</b>.","description":"Publish messages to the Azure IoT Hub","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"devices/<device_id>/messages/events/","host":"<iot-hub-name>.azure-devices.net","port":8883,"connectTimeoutSec":10,"clientId":null,"cleanSession":true,"ssl":true,"credentials":{"type":"sas","sasKey":null,"caCert":null}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAzureIotHubConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,789 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=azure iot hub, clazz=org.thingsboard.rule.engine.mqtt.azure.TbAzureIotHubNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the Azure IoT Hub with QoS <b>AT_LEAST_ONCE</b>.","description":"Publish messages to the Azure IoT Hub","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"devices/<device_id>/messages/events/","host":"<iot-hub-name>.azure-devices.net","port":8883,"connectTimeoutSec":10,"clientId":null,"cleanSession":true,"ssl":true,"credentials":{"type":"sas","sasKey":null,"caCert":null}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAzureIotHubConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,791 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=originator type switch, clazz=org.thingsboard.rule.engine.filter.TbOriginatorTypeSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Routes messages to chain according to the originator type ('Device', 'Asset', etc.).","description":"Route incoming messages by Message Originator Type","inEnabled":true,"outEnabled":true,"relationTypes":["Device","Asset","Alarm","Entity View","Tenant","Customer","User","Dashboard","Rule chain","Rule node","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,793 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=originator type switch, clazz=org.thingsboard.rule.engine.filter.TbOriginatorTypeSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Routes messages to chain according to the originator type ('Device', 'Asset', etc.).","description":"Route incoming messages by Message Originator Type","inEnabled":true,"outEnabled":true,"relationTypes":["Device","Asset","Alarm","Entity View","Tenant","Customer","User","Dashboard","Rule chain","Rule node","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,798 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=script, clazz=org.thingsboard.rule.engine.transform.TbTransformMsgNode, configurationDescriptor={"nodeDefinition":{"details":"JavaScript function receive 3 input parameters <br/> <code>metadata</code> - is a Message metadata.<br/><code>msg</code> - is a Message payload.<br/><code>msgType</code> - is a Message type.<br/>Should return the following structure:<br/><code>{ msg: <i style=\"color: #666;\">new payload</i>,<br/>&nbsp&nbsp&nbspmetadata: <i style=\"color: #666;\">new metadata</i>,<br/>&nbsp&nbsp&nbspmsgType: <i style=\"color: #666;\">new msgType</i> }</code><br/>All fields in resulting object are optional and will be taken from original message if not specified.","description":"Change Message payload, Metadata or Message type using JavaScript","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return {msg: msg, metadata: metadata, msgType: msgType};"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeScriptConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,800 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=script, clazz=org.thingsboard.rule.engine.transform.TbTransformMsgNode, configurationDescriptor={"nodeDefinition":{"details":"JavaScript function receive 3 input parameters <br/> <code>metadata</code> - is a Message metadata.<br/><code>msg</code> - is a Message payload.<br/><code>msgType</code> - is a Message type.<br/>Should return the following structure:<br/><code>{ msg: <i style=\"color: #666;\">new payload</i>,<br/>&nbsp&nbsp&nbspmetadata: <i style=\"color: #666;\">new metadata</i>,<br/>&nbsp&nbsp&nbspmsgType: <i style=\"color: #666;\">new msgType</i> }</code><br/>All fields in resulting object are optional and will be taken from original message if not specified.","description":"Change Message payload, Metadata or Message type using JavaScript","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return {msg: msg, metadata: metadata, msgType: msgType};"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeScriptConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,803 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=check relation, clazz=org.thingsboard.rule.engine.filter.TbCheckRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If at least one relation exists - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Checks the relation from the selected entity to the originator of the message by type and direction if 'Check for single entity' is set to true, otherwise rule node will check if exist any relation to the originator of the message by type and direction.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","entityId":null,"entityType":null,"relationType":"Contains","checkForSingleEntity":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckRelationConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,805 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=check relation, clazz=org.thingsboard.rule.engine.filter.TbCheckRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If at least one relation exists - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Checks the relation from the selected entity to the originator of the message by type and direction if 'Check for single entity' is set to true, otherwise rule node will check if exist any relation to the originator of the message by type and direction.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","entityId":null,"entityType":null,"relationType":"Contains","checkForSingleEntity":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckRelationConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,808 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=delete relation, clazz=org.thingsboard.rule.engine.action.TbDeleteRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation(s) successfully deleted -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and then delete a relation to Originator Entity by type and direction if 'Delete single entity' is set to true, otherwise rule node will delete all relations to the originator of the message by type and direction.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"deleteForSingleEntity":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeDeleteRelationConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,811 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component ComponentDescriptor(type=ACTION, scope=TENANT, name=delete relation, clazz=org.thingsboard.rule.engine.action.TbDeleteRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation(s) successfully deleted -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and then delete a relation to Originator Entity by type and direction if 'Delete single entity' is set to true, otherwise rule node will delete all relations to the originator of the message by type and direction.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"deleteForSingleEntity":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeDeleteRelationConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null) will be updated to ComponentDescriptor(type=ACTION, scope=TENANT, name=delete relation, clazz=org.thingsboard.rule.engine.action.TbDeleteRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation(s) successfully deleted -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and then delete a relation to Originator Entity by type and direction if 'Delete single entity' is set to true, otherwise rule node will delete all relations to the originator of the message by type and direction.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"deleteForSingleEntity":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeDeleteRelationConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:50:41,825 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=aws sns, clazz=org.thingsboard.rule.engine.aws.sns.TbSnsNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the AWS SNS topic. Outbound message will contain response fields (<code>messageId</code>, <code>requestId</code>) in the Message Metadata from the AWS SNS. For example <b>requestId</b> field can be accessed with <code>metadata.requestId</code>.","description":"Publish message to the AWS SNS","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicArnPattern":"arn:aws:sns:us-east-1:123456789012:MyNewTopic","accessKeyId":null,"secretAccessKey":null,"region":"us-east-1"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSnsConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48cGF0aCBkPSJNMTMuMjMgMTAuNTZWMTBjLTEuOTQgMC0zLjk5LjM5LTMuOTkgMi42NyAwIDEuMTYuNjEgMS45NSAxLjYzIDEuOTUuNzYgMCAxLjQzLS40NyAxLjg2LTEuMjIuNTItLjkzLjUtMS44LjUtMi44NG0yLjcgNi41M2MtLjE4LjE2LS40My4xNy0uNjMuMDYtLjg5LS43NC0xLjA1LTEuMDgtMS41NC0xLjc5LTEuNDcgMS41LTIuNTEgMS45NS00LjQyIDEuOTUtMi4yNSAwLTQuMDEtMS4zOS00LjAxLTQuMTcgMC0yLjE4IDEuMTctMy42NCAyLjg2LTQuMzggMS40Ni0uNjQgMy40OS0uNzYgNS4wNC0uOTNWNy41YzAtLjY2LjA1LTEuNDEtLjMzLTEuOTYtLjMyLS40OS0uOTUtLjctMS41LS43LTEuMDIgMC0xLjkzLjUzLTIuMTUgMS42MS0uMDUuMjQtLjI1LjQ4LS40Ny40OWwtMi42LS4yOGMtLjIyLS4wNS0uNDYtLjIyLS40LS41Ni42LTMuMTUgMy40NS00LjEgNi00LjEgMS4zIDAgMyAuMzUgNC4wMyAxLjMzQzE3LjExIDQuNTUgMTcgNi4xOCAxNyA3Ljk1djQuMTdjMCAxLjI1LjUgMS44MSAxIDIuNDguMTcuMjUuMjEuNTQgMCAuNzFsLTIuMDYgMS43OGgtLjAxIj48L3BhdGg+PHBhdGggZD0iTTIwLjE2IDE5LjU0QzE4IDIxLjE0IDE0LjgyIDIyIDEyLjEgMjJjLTMuODEgMC03LjI1LTEuNDEtOS44NS0zLjc2LS4yLS4xOC0uMDItLjQzLjI1LS4yOSAyLjc4IDEuNjMgNi4yNSAyLjYxIDkuODMgMi42MSAyLjQxIDAgNS4wNy0uNSA3LjUxLTEuNTMuMzctLjE2LjY2LjI0LjMyLjUxIj48L3BhdGg+PHBhdGggZD0iTTIxLjA3IDE4LjVjLS4yOC0uMzYtMS44NS0uMTctMi41Ny0uMDgtLjE5LjAyLS4yMi0uMTYtLjAzLS4zIDEuMjQtLjg4IDMuMjktLjYyIDMuNTMtLjMzLjI0LjMtLjA3IDIuMzUtMS4yNCAzLjMyLS4xOC4xNi0uMzUuMDctLjI2LS4xMS4yNi0uNjcuODUtMi4xNC41Ny0yLjV6Ij48L3BhdGg+PC9zdmc+","docUrl":""}}, actions=null)
2020-12-18 09:50:41,828 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=aws sns, clazz=org.thingsboard.rule.engine.aws.sns.TbSnsNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the AWS SNS topic. Outbound message will contain response fields (<code>messageId</code>, <code>requestId</code>) in the Message Metadata from the AWS SNS. For example <b>requestId</b> field can be accessed with <code>metadata.requestId</code>.","description":"Publish message to the AWS SNS","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicArnPattern":"arn:aws:sns:us-east-1:123456789012:MyNewTopic","accessKeyId":null,"secretAccessKey":null,"region":"us-east-1"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSnsConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48cGF0aCBkPSJNMTMuMjMgMTAuNTZWMTBjLTEuOTQgMC0zLjk5LjM5LTMuOTkgMi42NyAwIDEuMTYuNjEgMS45NSAxLjYzIDEuOTUuNzYgMCAxLjQzLS40NyAxLjg2LTEuMjIuNTItLjkzLjUtMS44LjUtMi44NG0yLjcgNi41M2MtLjE4LjE2LS40My4xNy0uNjMuMDYtLjg5LS43NC0xLjA1LTEuMDgtMS41NC0xLjc5LTEuNDcgMS41LTIuNTEgMS45NS00LjQyIDEuOTUtMi4yNSAwLTQuMDEtMS4zOS00LjAxLTQuMTcgMC0yLjE4IDEuMTctMy42NCAyLjg2LTQuMzggMS40Ni0uNjQgMy40OS0uNzYgNS4wNC0uOTNWNy41YzAtLjY2LjA1LTEuNDEtLjMzLTEuOTYtLjMyLS40OS0uOTUtLjctMS41LS43LTEuMDIgMC0xLjkzLjUzLTIuMTUgMS42MS0uMDUuMjQtLjI1LjQ4LS40Ny40OWwtMi42LS4yOGMtLjIyLS4wNS0uNDYtLjIyLS40LS41Ni42LTMuMTUgMy40NS00LjEgNi00LjEgMS4zIDAgMyAuMzUgNC4wMyAxLjMzQzE3LjExIDQuNTUgMTcgNi4xOCAxNyA3Ljk1djQuMTdjMCAxLjI1LjUgMS44MSAxIDIuNDguMTcuMjUuMjEuNTQgMCAuNzFsLTIuMDYgMS43OGgtLjAxIj48L3BhdGg+PHBhdGggZD0iTTIwLjE2IDE5LjU0QzE4IDIxLjE0IDE0LjgyIDIyIDEyLjEgMjJjLTMuODEgMC03LjI1LTEuNDEtOS44NS0zLjc2LS4yLS4xOC0uMDItLjQzLjI1LS4yOSAyLjc4IDEuNjMgNi4yNSAyLjYxIDkuODMgMi42MSAyLjQxIDAgNS4wNy0uNSA3LjUxLTEuNTMuMzctLjE2LjY2LjI0LjMyLjUxIj48L3BhdGg+PHBhdGggZD0iTTIxLjA3IDE4LjVjLS4yOC0uMzYtMS44NS0uMTctMi41Ny0uMDgtLjE5LjAyLS4yMi0uMTYtLjAzLS4zIDEuMjQtLjg4IDMuMjktLjYyIDMuNTMtLjMzLjI0LjMtLjA3IDIuMzUtMS4yNCAzLjMyLS4xOC4xNi0uMzUuMDctLjI2LS4xMS4yNi0uNjcuODUtMi4xNC41Ny0yLjV6Ij48L3BhdGg+PC9zdmc+","docUrl":""}}, actions=null)
2020-12-18 09:50:41,828 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Found following definitions: [ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=aws sqs, clazz=org.thingsboard.rule.engine.aws.sqs.TbSqsNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload and metadata attributes to the AWS SQS queue. Outbound message will contain response fields (<code>messageId</code>, <code>requestId</code>, <code>messageBodyMd5</code>, <code>messageAttributesMd5</code>, <code>sequenceNumber</code>) in the Message Metadata from the AWS SQS. For example <b>requestId</b> field can be accessed with <code>metadata.requestId</code>.","description":"Publish messages to the AWS SQS","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"queueType":"STANDARD","queueUrlPattern":"https://sqs.us-east-1.amazonaws.com/123456789012/my-queue-name","delaySeconds":0,"messageAttributes":{},"accessKeyId":null,"secretAccessKey":null,"region":"us-east-1"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSqsConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48cGF0aCBkPSJNMTMuMjMgMTAuNTZWMTBjLTEuOTQgMC0zLjk5LjM5LTMuOTkgMi42NyAwIDEuMTYuNjEgMS45NSAxLjYzIDEuOTUuNzYgMCAxLjQzLS40NyAxLjg2LTEuMjIuNTItLjkzLjUtMS44LjUtMi44NG0yLjcgNi41M2MtLjE4LjE2LS40My4xNy0uNjMuMDYtLjg5LS43NC0xLjA1LTEuMDgtMS41NC0xLjc5LTEuNDcgMS41LTIuNTEgMS45NS00LjQyIDEuOTUtMi4yNSAwLTQuMDEtMS4zOS00LjAxLTQuMTcgMC0yLjE4IDEuMTctMy42NCAyLjg2LTQuMzggMS40Ni0uNjQgMy40OS0uNzYgNS4wNC0uOTNWNy41YzAtLjY2LjA1LTEuNDEtLjMzLTEuOTYtLjMyLS40OS0uOTUtLjctMS41LS43LTEuMDIgMC0xLjkzLjUzLTIuMTUgMS42MS0uMDUuMjQtLjI1LjQ4LS40Ny40OWwtMi42LS4yOGMtLjIyLS4wNS0uNDYtLjIyLS40LS41Ni42LTMuMTUgMy40NS00LjEgNi00LjEgMS4zIDAgMyAuMzUgNC4wMyAxLjMzQzE3LjExIDQuNTUgMTcgNi4xOCAxNyA3Ljk1djQuMTdjMCAxLjI1LjUgMS44MSAxIDIuNDguMTcuMjUuMjEuNTQgMCAuNzFsLTIuMDYgMS43OGgtLjAxIj48L3BhdGg+PHBhdGggZD0iTTIwLjE2IDE5LjU0QzE4IDIxLjE0IDE0LjgyIDIyIDEyLjEgMjJjLTMuODEgMC03LjI1LTEuNDEtOS44NS0zLjc2LS4yLS4xOC0uMDItLjQzLjI1LS4yOSAyLjc4IDEuNjMgNi4yNSAyLjYxIDkuODMgMi42MSAyLjQxIDAgNS4wNy0uNSA3LjUxLTEuNTMuMzctLjE2LjY2LjI0LjMyLjUxIj48L3BhdGg+PHBhdGggZD0iTTIxLjA3IDE4LjVjLS4yOC0uMzYtMS44NS0uMTctMi41Ny0uMDgtLjE5LjAyLS4yMi0uMTYtLjAzLS4zIDEuMjQtLjg4IDMuMjktLjYyIDMuNTMtLjMzLjI0LjMtLjA3IDIuMzUtMS4yNCAzLjMyLS4xOC4xNi0uMzUuMDctLjI2LS4xMS4yNi0uNjcuODUtMi4xNC41Ny0yLjV6Ij48L3BhdGg+PC9zdmc+","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=log, clazz=org.thingsboard.rule.engine.action.TbLogNode, configurationDescriptor={"nodeDefinition":{"details":"Transform incoming Message with configured JS function to String and log final value into Thingsboard log file. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Log incoming messages using JS script for transformation Message into String","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return 'Incoming message:\\n' + JSON.stringify(msg) + '\\nIncoming metadata:\\n' + JSON.stringify(metadata);"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeLogConfig","icon":"menu","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=send email, clazz=org.thingsboard.rule.engine.mail.TbSendEmailNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with <b>SEND_EMAIL</b> type. Node works only with messages that  where created using <code>to Email</code> transformation Node, please connect this Node with <code>to Email</code> Node using <code>Successful</code> chain.","description":"Sends email message via SMTP server.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"useSystemSmtpSettings":true,"smtpHost":"localhost","smtpPort":25,"username":null,"password":null,"smtpProtocol":"smtp","timeout":10000,"enableTls":false,"tlsVersion":"TLSv1.2","enableProxy":false,"proxyHost":null,"proxyPort":null,"proxyUser":null,"proxyPassword":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSendEmailConfig","icon":"send","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=clear alarm, clazz=org.thingsboard.rule.engine.action.TbClearAlarmNode, configurationDescriptor={"nodeDefinition":{"details":"Details - JS function that creates JSON object based on incoming message. This object will be added into Alarm.details field.\nNode output:\nIf alarm was not cleared, original message is returned. Otherwise new Message returned with type 'ALARM', Alarm object in 'msg' property and 'metadata' will contains 'isClearedAlarm' property. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Clear Alarm","inEnabled":true,"outEnabled":true,"relationTypes":["Cleared","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmType":"General Alarm","alarmDetailsBuildJs":"var details = {};\nif (metadata.prevAlarmDetails) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n}\nreturn details;"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeClearAlarmConfig","icon":"notifications_off","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=send sms, clazz=org.thingsboard.rule.engine.sms.TbSendSmsNode, configurationDescriptor={"nodeDefinition":{"details":"Will send SMS message by populating target phone numbers and sms message fields using values derived from message metadata.","description":"Sends SMS message via SMS provider.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"numbersToTemplate":"${userPhone}","smsMessageTemplate":"Device ${deviceName} has high temperature ${temp}","useSystemSmsSettings":true,"smsProviderConfiguration":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSendSmsConfig","icon":"sms","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=switch, clazz=org.thingsboard.rule.engine.filter.TbJsSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Node executes configured JS script. Script should return array of next Chain names where Message should be routed. If Array is empty - message not routed to next Node. Message payload can be accessed via <code>msg</code> property. For example <code>msg.temperature < 10;</code><br/>Message metadata can be accessed via <code>metadata</code> property. For example <code>metadata.customerName === 'John';</code><br/>Message type can be accessed via <code>msgType</code> property.","description":"Route incoming Message to one or multiple output chains","inEnabled":true,"outEnabled":true,"relationTypes":["Failure"],"customRelations":true,"defaultConfiguration":{"jsScript":"function nextRelation(metadata, msg) {\n    return ['one','nine'];\n}\nif(msgType === 'POST_TELEMETRY_REQUEST') {\n    return ['two'];\n}\nreturn nextRelation(metadata, msg);"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeSwitchConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=delete relation, clazz=org.thingsboard.rule.engine.action.TbDeleteRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation(s) successfully deleted -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and then delete a relation to Originator Entity by type and direction if 'Delete single entity' is set to true, otherwise rule node will delete all relations to the originator of the message by type and direction.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"deleteForSingleEntity":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeDeleteRelationConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=originator type switch, clazz=org.thingsboard.rule.engine.filter.TbOriginatorTypeSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Routes messages to chain according to the originator type ('Device', 'Asset', etc.).","description":"Route incoming messages by Message Originator Type","inEnabled":true,"outEnabled":true,"relationTypes":["Device","Asset","Alarm","Entity View","Tenant","Customer","User","Dashboard","Rule chain","Rule node","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator telemetry, clazz=org.thingsboard.rule.engine.metadata.TbGetTelemetryNode, configurationDescriptor={"nodeDefinition":{"details":"The node allows you to select fetch mode: <b>FIRST/LAST/ALL</b> to fetch telemetry of certain time range that are added into Message metadata without any prefix. If selected fetch mode <b>ALL</b> Telemetry will be added like array into Message Metadata where <b>key</b> is Timestamp and <b>value</b> is value of Telemetry.</br>If selected fetch mode <b>FIRST</b> or <b>LAST</b> Telemetry will be added like string without Timestamp.</br>Also, the rule node allows you to select telemetry sampling order: <b>ASC</b> or <b>DESC</b>. </br><b>Note</b>: The maximum size of the fetched array is 1000 records.\n ","description":"Add Message Originator Telemetry for selected time range into Message Metadata\n","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"startInterval":2,"endInterval":1,"startIntervalPattern":"","endIntervalPattern":"","useMetadataIntervalPatterns":false,"startIntervalTimeUnit":"MINUTES","endIntervalTimeUnit":"MINUTES","fetchMode":"FIRST","orderBy":"ASC","limit":1000,"latestTsKeyNames":[]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeGetTelemetryFromDatabase","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetAttributesNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, <b>CLIENT/SHARED/SERVER</b> attributes are added into Message metadata with specific prefix: <i>cs/shared/ss</i>. Latest telemetry value added into metadata without prefix. To access those attributes in other nodes this template can be used <code>metadata.cs_temperature</code> or <code>metadata.shared_limit</code> ","description":"Add Message Originator Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"clientAttributeNames":[],"sharedAttributeNames":[],"serverAttributeNames":[],"latestTsKeyNames":[],"tellFailureIfAbsent":true,"getLatestValueWithTs":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeOriginatorAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=related attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetRelatedAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"Related Entity found using configured relation direction and Relation Type. If multiple Related Entities are found, only first Entity is used for attributes enrichment, other entities are discarded. If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Related Entity Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"relationsQuery":{"direction":"FROM","maxLevel":1,"filters":[{"relationType":"Contains","entityTypes":[]}],"fetchLastLevelOnly":false},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeRelatedAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=copy to view, clazz=org.thingsboard.rule.engine.action.TbCopyAttributesToEntityViewNode, configurationDescriptor={"nodeDefinition":{"details":"Copy attributes from asset/device to related entity view according to entity view configuration. \n Copy will be done only for attributes that are between start and end dates and according to attribute keys configuration. \nChanges message originator to related entity view and produces new messages according to count of updated entity views","description":"Copy attributes from asset/device to entity view and changes message originator to related entity view","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"content_copy","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=message type, clazz=org.thingsboard.rule.engine.filter.TbMsgTypeFilterNode, configurationDescriptor={"nodeDefinition":{"details":"If incoming MessageType is expected - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Filter incoming messages by Message Type","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"messageTypes":["POST_ATTRIBUTES_REQUEST","POST_TELEMETRY_REQUEST","TO_SERVER_RPC_REQUEST"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeMessageTypeConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=message count, clazz=org.thingsboard.rule.engine.action.TbMsgCountNode, configurationDescriptor={"nodeDefinition":{"details":"Count incoming messages for specified interval and produces POST_TELEMETRY_REQUEST msg with messages count","description":"Count incoming messages","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"telemetryPrefix":"messageCount","interval":1},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMsgCountConfig","icon":"functions","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=synchronization start, clazz=org.thingsboard.rule.engine.transaction.TbSynchronizationBeginNode, configurationDescriptor={"nodeDefinition":{"details":"This node should be used together with \"synchronization end\" node. \n This node will put messages into queue based on message originator id. \nSubsequent messages will not be processed until the previous message processing is completed or timeout event occurs.\nSize of the queue per originator and timeout values are configurable on a system level","description":"This Node is now deprecated. Use \"Checkpoint\" instead.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=script, clazz=org.thingsboard.rule.engine.filter.TbJsFilterNode, configurationDescriptor={"nodeDefinition":{"details":"Evaluate incoming Message with configured JS condition. If <b>True</b> - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.Message payload can be accessed via <code>msg</code> property. For example <code>msg.temperature < 10;</code><br/>Message metadata can be accessed via <code>metadata</code> property. For example <code>metadata.customerName === 'John';</code><br/>Message type can be accessed via <code>msgType</code> property.","description":"Filter incoming messages using JS script","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return msg.temperature > 20;"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeScriptConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=rpc call request, clazz=org.thingsboard.rule.engine.rpc.TbSendRPCRequestNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with \"method\" and \"params\". Will forward response from device to next nodes.If the RPC call request is originated by REST API call from user, will forward the response to user immediately.","description":"Sends RPC call to device","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"timeoutInSeconds":60},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRpcRequestConfig","icon":"call_made","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=script, clazz=org.thingsboard.rule.engine.transform.TbTransformMsgNode, configurationDescriptor={"nodeDefinition":{"details":"JavaScript function receive 3 input parameters <br/> <code>metadata</code> - is a Message metadata.<br/><code>msg</code> - is a Message payload.<br/><code>msgType</code> - is a Message type.<br/>Should return the following structure:<br/><code>{ msg: <i style=\"color: #666;\">new payload</i>,<br/>&nbsp&nbsp&nbspmetadata: <i style=\"color: #666;\">new metadata</i>,<br/>&nbsp&nbsp&nbspmsgType: <i style=\"color: #666;\">new msgType</i> }</code><br/>All fields in resulting object are optional and will be taken from original message if not specified.","description":"Change Message payload, Metadata or Message type using JavaScript","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return {msg: msg, metadata: metadata, msgType: msgType};"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeScriptConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=message type switch, clazz=org.thingsboard.rule.engine.filter.TbMsgTypeSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Sends messages with message types <b>\"Post attributes\", \"Post telemetry\", \"RPC Request\"</b> etc. via corresponding chain, otherwise <b>Other</b> chain is used.","description":"Route incoming messages by Message Type","inEnabled":true,"outEnabled":true,"relationTypes":["Post attributes","Post telemetry","RPC Request from Device","RPC Request to Device","Activity Event","Inactivity Event","Connect Event","Disconnect Event","Entity Created","Entity Updated","Entity Deleted","Entity Assigned","Entity Unassigned","Attributes Updated","Attributes Deleted","Alarm Acknowledged","Alarm Cleared","Other","Entity Assigned From Tenant","Entity Assigned To Tenant","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=generator, clazz=org.thingsboard.rule.engine.debug.TbMsgGeneratorNode, configurationDescriptor={"nodeDefinition":{"details":"Generates messages with configurable period. Javascript function used for message generation.","description":"Periodically generates messages","inEnabled":false,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"msgCount":0,"periodInSeconds":1,"originatorId":null,"originatorType":null,"jsScript":"var msg = { temp: 42, humidity: 77 };\nvar metadata = { data: 40 };\nvar msgType = \"POST_TELEMETRY_REQUEST\";\n\nreturn { msg: msg, metadata: metadata, msgType: msgType };"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeGeneratorConfig","icon":"repeat","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=check relation, clazz=org.thingsboard.rule.engine.filter.TbCheckRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If at least one relation exists - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Checks the relation from the selected entity to the originator of the message by type and direction if 'Check for single entity' is set to true, otherwise rule node will check if exist any relation to the originator of the message by type and direction.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","entityId":null,"entityType":null,"relationType":"Contains","checkForSingleEntity":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckRelationConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=device profile, clazz=org.thingsboard.rule.engine.profile.TbDeviceProfileNode, configurationDescriptor={"nodeDefinition":{"details":"Create and clear alarms based on alarm rules defined in device profile. The output relation type is either 'Alarm Created', 'Alarm Updated', 'Alarm Severity Updated' and 'Alarm Cleared' or simply 'Success' if no alarms were affected.","description":"Process device messages based on device profile settings","inEnabled":true,"outEnabled":true,"relationTypes":["Alarm Created","Alarm Updated","Alarm Severity Updated","Alarm Cleared","Success","Failure"],"customRelations":true,"defaultConfiguration":{"persistAlarmRulesState":false,"fetchAlarmRulesStateOnStart":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbDeviceProfileConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=checkpoint, clazz=org.thingsboard.rule.engine.flow.TbCheckpointNode, configurationDescriptor={"nodeDefinition":{"details":"After successful transfer incoming message is automatically acknowledged. Queue name is configurable.","description":"transfers the message to another queue","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"queueName":"HighPriority"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCheckPointConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=originator type, clazz=org.thingsboard.rule.engine.filter.TbOriginatorTypeFilterNode, configurationDescriptor={"nodeDefinition":{"details":"If Originator Type of incoming message is expected - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Filter incoming messages by message Originator Type","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"originatorTypes":["DEVICE"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeOriginatorTypeConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=change originator, clazz=org.thingsboard.rule.engine.transform.TbChangeOriginatorNode, configurationDescriptor={"nodeDefinition":{"details":"Related Entity found using configured relation direction and Relation Type. If multiple Related Entities are found, only first Entity is used as new Originator, other entities are discarded.<br/>Alarm Originator found only in case original Originator is <code>Alarm</code> entity.","description":"Change Message Originator To Tenant/Customer/Related Entity/Alarm Originator","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"originatorSource":"CUSTOMER","relationsQuery":{"direction":"FROM","maxLevel":1,"filters":[{"relationType":"Contains","entityTypes":[]}],"fetchLastLevelOnly":false}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeChangeOriginatorConfig","icon":"find_replace","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=gcp pubsub, clazz=org.thingsboard.rule.engine.gcp.pubsub.TbPubSubNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the Google Cloud Platform PubSub topic. Outbound message will contain response fields (<code>messageId</code> in the Message Metadata from the GCP PubSub. <b>messageId</b> field can be accessed with <code>metadata.messageId</code>.","description":"Publish message to the Google Cloud PubSub","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"projectId":"my-google-cloud-project-id","topicName":"my-pubsub-topic-name","messageAttributes":{},"serviceAccountKey":null,"serviceAccountKeyFileName":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodePubSubConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiB2aWV3Qm94PSIwIDAgMTI4IDEyOCI+Cjx0aXRsZT5DbG91ZCBQdWJTdWI8L3RpdGxlPgo8Zz4KPHBhdGggZD0iTTEyNi40Nyw1OC4xMmwtMjYuMy00NS43NEExMS41NiwxMS41NiwwLDAsMCw5MC4zMSw2LjVIMzcuN2ExMS41NSwxMS41NSwwLDAsMC05Ljg2LDUuODhMMS41Myw1OGExMS40OCwxMS40OCwwLDAsMCwwLDExLjQ0bDI2LjMsNDZhMTEuNzcsMTEuNzcsMCwwLDAsOS44Niw2LjA5SDkwLjNhMTEuNzMsMTEuNzMsMCwwLDAsOS44Ny02LjA2bDI2LjMtNDUuNzRBMTEuNzMsMTEuNzMsMCwwLDAsMTI2LjQ3LDU4LjEyWiIgc3R5bGU9ImZpbGw6ICM3MzViMmYiLz4KPHBhdGggZD0iTTg5LjIyLDQ3Ljc0LDgzLjM2LDQ5bC0xNC42LTE0LjZMNjQuMDksNDMuMSw2MS41NSw1My4ybDQuMjksNC4yOUw1Ny42LDU5LjE4LDQ2LjMsNDcuODhsLTcuNjcsNy4zOEw1Mi43Niw2OS4zN2wtMTUsMTEuOUw3OCwxMjEuNUg5MC4zYTExLjczLDExLjczLDAsMCwwLDkuODctNi4wNmwyMC43Mi0zNloiIHN0eWxlPSJvcGFjaXR5OiAwLjA3MDAwMDAwMDI5ODAyMztpc29sYXRpb246IGlzb2xhdGUiLz4KPHBhdGggZD0iTTgyLjg2LDQ3YTUuMzIsNS4zMiwwLDEsMS0xLjk1LDcuMjdBNS4zMiw1LjMyLDAsMCwxLDgyLjg2LDQ3IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNMzkuODIsNTYuMThhNS4zMiw1LjMyLDAsMSwxLDcuMjctMS45NSw1LjMyLDUuMzIsMCwwLDEtNy4yNywxLjk1IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNNjkuMzIsODguODVBNS4zMiw1LjMyLDAsMSwxLDY0LDgzLjUyYTUuMzIsNS4zMiwwLDAsMSw1LjMyLDUuMzIiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxnPgo8cGF0aCBkPSJNNjQsNTIuOTRhMTEuMDYsMTEuMDYsMCwwLDEsMi40Ni4yOFYzOS4xNUg2MS41NFY1My4yMkExMS4wNiwxMS4wNiwwLDAsMSw2NCw1Mi45NFoiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxwYXRoIGQ9Ik03NC41Nyw2Ny4yNmExMSwxMSwwLDAsMS0yLjQ3LDQuMjVsMTIuMTksNywyLjQ2LTQuMjZaIiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNNTMuNDMsNjcuMjZsLTEyLjE4LDcsMi40Niw0LjI2LDEyLjE5LTdBMTEsMTEsMCwwLDEsNTMuNDMsNjcuMjZaIiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8L2c+CjxwYXRoIGQ9Ik03Mi42LDY0QTguNiw4LjYsMCwxLDEsNjQsNTUuNCw4LjYsOC42LDAsMCwxLDcyLjYsNjQiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxwYXRoIGQ9Ik0zOS4xLDcwLjU3YTYuNzYsNi43NiwwLDEsMS0yLjQ3LDkuMjMsNi43Niw2Ljc2LDAsMCwxLDIuNDctOS4yMyIgc3R5bGU9ImZpbGw6ICNmZmYiLz4KPHBhdGggZD0iTTgyLjE0LDgyLjI3YTYuNzYsNi43NiwwLDEsMSw5LjIzLTIuNDcsNi43NSw2Ljc1LDAsMCwxLTkuMjMsMi40NyIgc3R5bGU9ImZpbGw6ICNmZmYiLz4KPHBhdGggZD0iTTcwLjc2LDM5LjE1QTYuNzYsNi43NiwwLDEsMSw2NCwzMi4zOWE2Ljc2LDYuNzYsMCwwLDEsNi43Niw2Ljc2IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8L2c+Cjwvc3ZnPgo=","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=create relation, clazz=org.thingsboard.rule.engine.action.TbCreateRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation already exists or successfully created -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and (entity type pattern for Asset, Device) and then create a relation to Originator Entity by type and direction. If Selected entity type: Asset, Device or Customer will create new Entity if it doesn't exist and selected checkbox 'Create new entity if not exists'.<br> In case that relation from the message originator to the selected entity not exist and  If selected checkbox 'Remove current relations', before creating the new relation all existed relations to message originator by type and direction will be removed.<br> If relation from the message originator to the selected entity created and If selected checkbox 'Change originator to related entity', outbound message will be processed as a message from this entity.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"createEntityIfNotExists":false,"changeOriginatorToRelatedEntity":false,"removeCurrentRelations":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCreateRelationConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=related device attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetDeviceAttrNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, <b>CLIENT/SHARED/SERVER</b> attributes are added into Message metadata with specific prefix: <i>cs/shared/ss</i>. Latest telemetry value added into metadata without prefix. To access those attributes in other nodes this template can be used <code>metadata.cs_temperature</code> or <code>metadata.shared_limit</code> ","description":"Add Originators Related Device Attributes and Latest Telemetry value into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"clientAttributeNames":[],"sharedAttributeNames":[],"serverAttributeNames":[],"latestTsKeyNames":[],"tellFailureIfAbsent":true,"getLatestValueWithTs":false,"deviceRelationsQuery":{"direction":"FROM","maxLevel":1,"relationType":"Contains","deviceTypes":["default"],"fetchLastLevelOnly":false}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeDeviceAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=gps geofencing filter, clazz=org.thingsboard.rule.engine.geo.TbGpsGeofencingFilterNode, configurationDescriptor={"nodeDefinition":{"details":"Extracts latitude and longitude parameters from incoming message and returns 'True' if they are inside configured perimeters, 'False' otherwise.","description":"Filter incoming messages by GPS based geofencing","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"latitudeKeyName":"latitude","longitudeKeyName":"longitude","fetchPerimeterInfoFromMessageMetadata":true,"perimeterType":null,"polygonsDefinition":null,"centerLatitude":null,"centerLongitude":null,"range":null,"rangeUnit":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeGpsGeofencingConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=assign to customer, clazz=org.thingsboard.rule.engine.action.TbAssignToCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Customer by customer name pattern and then assign Originator Entity to this customer. Will create new Customer if it doesn't exists and 'Create new Customer if not exists' is set to true.","description":"Assign Message Originator Entity to Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300,"createCustomerIfNotExists":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAssignToCustomerConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=to email, clazz=org.thingsboard.rule.engine.mail.TbMsgToEmailNode, configurationDescriptor={"nodeDefinition":{"details":"Transforms message to email message by populating email fields using values derived from message metadata. Set 'SEND_EMAIL' output message type.","description":"Transforms message to email message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"fromTemplate":"info@testmail.org","toTemplate":"${userEmail}","ccTemplate":null,"bccTemplate":null,"subjectTemplate":"Device ${deviceType} temperature high","bodyTemplate":"Device ${deviceName} has high temperature ${temp}"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeToEmailConfig","icon":"email","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=unassign from customer, clazz=org.thingsboard.rule.engine.action.TbUnassignFromCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Entity Customer by Customer name pattern and then unassign Originator Entity from this customer.","description":"Unassign Message Originator Entity from Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeUnAssignToCustomerConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=tenant details, clazz=org.thingsboard.rule.engine.metadata.TbGetTenantDetailsNode, configurationDescriptor={"nodeDefinition":{"details":"If checkbox: <b>Add selected details to the message metadata</b> is selected, existing fields will be added to the message metadata instead of message data.<br><br><b>Note:</b> only Device, Asset, and Entity View type are allowed.<br><br>If the originator of the message is not assigned to Tenant, or originator type is not supported - Message will be forwarded to <b>Failure</b> chain, otherwise, <b>Success</b> chain will be used.","description":"Adds fields from Tenant details to the message body or metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"detailsList":[],"addToMetadata":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeEntityDetailsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=acknowledge, clazz=org.thingsboard.rule.engine.flow.TbAckNode, configurationDescriptor={"nodeDefinition":{"details":"After acknowledgement, the message is pushed to related rule nodes. Useful if you don't care what happens to this message next.","description":"Acknowledges the incoming message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=azure iot hub, clazz=org.thingsboard.rule.engine.mqtt.azure.TbAzureIotHubNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the Azure IoT Hub with QoS <b>AT_LEAST_ONCE</b>.","description":"Publish messages to the Azure IoT Hub","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"devices/<device_id>/messages/events/","host":"<iot-hub-name>.azure-devices.net","port":8883,"connectTimeoutSec":10,"clientId":null,"cleanSession":true,"ssl":true,"credentials":{"type":"sas","sasKey":null,"caCert":null}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAzureIotHubConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=aws sns, clazz=org.thingsboard.rule.engine.aws.sns.TbSnsNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the AWS SNS topic. Outbound message will contain response fields (<code>messageId</code>, <code>requestId</code>) in the Message Metadata from the AWS SNS. For example <b>requestId</b> field can be accessed with <code>metadata.requestId</code>.","description":"Publish message to the AWS SNS","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicArnPattern":"arn:aws:sns:us-east-1:123456789012:MyNewTopic","accessKeyId":null,"secretAccessKey":null,"region":"us-east-1"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSnsConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48cGF0aCBkPSJNMTMuMjMgMTAuNTZWMTBjLTEuOTQgMC0zLjk5LjM5LTMuOTkgMi42NyAwIDEuMTYuNjEgMS45NSAxLjYzIDEuOTUuNzYgMCAxLjQzLS40NyAxLjg2LTEuMjIuNTItLjkzLjUtMS44LjUtMi44NG0yLjcgNi41M2MtLjE4LjE2LS40My4xNy0uNjMuMDYtLjg5LS43NC0xLjA1LTEuMDgtMS41NC0xLjc5LTEuNDcgMS41LTIuNTEgMS45NS00LjQyIDEuOTUtMi4yNSAwLTQuMDEtMS4zOS00LjAxLTQuMTcgMC0yLjE4IDEuMTctMy42NCAyLjg2LTQuMzggMS40Ni0uNjQgMy40OS0uNzYgNS4wNC0uOTNWNy41YzAtLjY2LjA1LTEuNDEtLjMzLTEuOTYtLjMyLS40OS0uOTUtLjctMS41LS43LTEuMDIgMC0xLjkzLjUzLTIuMTUgMS42MS0uMDUuMjQtLjI1LjQ4LS40Ny40OWwtMi42LS4yOGMtLjIyLS4wNS0uNDYtLjIyLS40LS41Ni42LTMuMTUgMy40NS00LjEgNi00LjEgMS4zIDAgMyAuMzUgNC4wMyAxLjMzQzE3LjExIDQuNTUgMTcgNi4xOCAxNyA3Ljk1djQuMTdjMCAxLjI1LjUgMS44MSAxIDIuNDguMTcuMjUuMjEuNTQgMCAuNzFsLTIuMDYgMS43OGgtLjAxIj48L3BhdGg+PHBhdGggZD0iTTIwLjE2IDE5LjU0QzE4IDIxLjE0IDE0LjgyIDIyIDEyLjEgMjJjLTMuODEgMC03LjI1LTEuNDEtOS44NS0zLjc2LS4yLS4xOC0uMDItLjQzLjI1LS4yOSAyLjc4IDEuNjMgNi4yNSAyLjYxIDkuODMgMi42MSAyLjQxIDAgNS4wNy0uNSA3LjUxLTEuNTMuMzctLjE2LjY2LjI0LjMyLjUxIj48L3BhdGg+PHBhdGggZD0iTTIxLjA3IDE4LjVjLS4yOC0uMzYtMS44NS0uMTctMi41Ny0uMDgtLjE5LjAyLS4yMi0uMTYtLjAzLS4zIDEuMjQtLjg4IDMuMjktLjYyIDMuNTMtLjMzLjI0LjMtLjA3IDIuMzUtMS4yNCAzLjMyLS4xOC4xNi0uMzUuMDctLjI2LS4xMS4yNi0uNjcuODUtMi4xNC41Ny0yLjV6Ij48L3BhdGg+PC9zdmc+","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=synchronization end, clazz=org.thingsboard.rule.engine.transaction.TbSynchronizationEndNode, configurationDescriptor={"nodeDefinition":{"details":"","description":"This Node is now deprecated. Use \"Checkpoint\" instead.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=kafka, clazz=org.thingsboard.rule.engine.kafka.TbKafkaNode, configurationDescriptor={"nodeDefinition":{"details":"Will send record via Kafka producer to Kafka server. Outbound message will contain response fields (<code>offset</code>, <code>partition</code>, <code>topic</code>) from the Kafka in the Message Metadata. For example <b>partition</b> field can be accessed with <code>metadata.partition</code>.","description":"Publish messages to Kafka server","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"my-topic","bootstrapServers":"localhost:9092","retries":0,"batchSize":16384,"linger":0,"bufferMemory":33554432,"acks":"-1","keySerializer":"org.apache.kafka.common.serialization.StringSerializer","valueSerializer":"org.apache.kafka.common.serialization.StringSerializer","otherProperties":{},"addMetadataKeyValuesAsKafkaHeaders":false,"kafkaHeadersCharset":"UTF-8"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeKafkaConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUzOCIgaGVpZ2h0PSIyNTAwIiB2aWV3Qm94PSIwIDAgMjU2IDQxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PHBhdGggZD0iTTIwMS44MTYgMjMwLjIxNmMtMTYuMTg2IDAtMzAuNjk3IDcuMTcxLTQwLjYzNCAxOC40NjFsLTI1LjQ2My0xOC4wMjZjMi43MDMtNy40NDIgNC4yNTUtMTUuNDMzIDQuMjU1LTIzLjc5NyAwLTguMjE5LTEuNDk4LTE2LjA3Ni00LjExMi0yMy40MDhsMjUuNDA2LTE3LjgzNWM5LjkzNiAxMS4yMzMgMjQuNDA5IDE4LjM2NSA0MC41NDggMTguMzY1IDI5Ljg3NSAwIDU0LjE4NC0yNC4zMDUgNTQuMTg0LTU0LjE4NCAwLTI5Ljg3OS0yNC4zMDktNTQuMTg0LTU0LjE4NC01NC4xODQtMjkuODc1IDAtNTQuMTg0IDI0LjMwNS01NC4xODQgNTQuMTg0IDAgNS4zNDguODA4IDEwLjUwNSAyLjI1OCAxNS4zODlsLTI1LjQyMyAxNy44NDRjLTEwLjYyLTEzLjE3NS0yNS45MTEtMjIuMzc0LTQzLjMzMy0yNS4xODJ2LTMwLjY0YzI0LjU0NC01LjE1NSA0My4wMzctMjYuOTYyIDQzLjAzNy01My4wMTlDMTI0LjE3MSAyNC4zMDUgOTkuODYyIDAgNjkuOTg3IDAgNDAuMTEyIDAgMTUuODAzIDI0LjMwNSAxNS44MDMgNTQuMTg0YzAgMjUuNzA4IDE4LjAxNCA0Ny4yNDYgNDIuMDY3IDUyLjc2OXYzMS4wMzhDMjUuMDQ0IDE0My43NTMgMCAxNzIuNDAxIDAgMjA2Ljg1NGMwIDM0LjYyMSAyNS4yOTIgNjMuMzc0IDU4LjM1NSA2OC45NHYzMi43NzRjLTI0LjI5OSA1LjM0MS00Mi41NTIgMjcuMDExLTQyLjU1MiA1Mi44OTQgMCAyOS44NzkgMjQuMzA5IDU0LjE4NCA1NC4xODQgNTQuMTg0IDI5Ljg3NSAwIDU0LjE4NC0yNC4zMDUgNTQuMTg0LTU0LjE4NCAwLTI1Ljg4My0xOC4yNTMtNDcuNTUzLTQyLjU1Mi01Mi44OTR2LTMyLjc3NWE2OS45NjUgNjkuOTY1IDAgMCAwIDQyLjYtMjQuNzc2bDI1LjYzMyAxOC4xNDNjLTEuNDIzIDQuODQtMi4yMiA5Ljk0Ni0yLjIyIDE1LjI0IDAgMjkuODc5IDI0LjMwOSA1NC4xODQgNTQuMTg0IDU0LjE4NCAyOS44NzUgMCA1NC4xODQtMjQuMzA1IDU0LjE4NC01NC4xODQgMC0yOS44NzktMjQuMzA5LTU0LjE4NC01NC4xODQtNTQuMTg0em0wLTEyNi42OTVjMTQuNDg3IDAgMjYuMjcgMTEuNzg4IDI2LjI3IDI2LjI3MXMtMTEuNzgzIDI2LjI3LTI2LjI3IDI2LjI3LTI2LjI3LTExLjc4Ny0yNi4yNy0yNi4yN2MwLTE0LjQ4MyAxMS43ODMtMjYuMjcxIDI2LjI3LTI2LjI3MXptLTE1OC4xLTQ5LjMzN2MwLTE0LjQ4MyAxMS43ODQtMjYuMjcgMjYuMjcxLTI2LjI3czI2LjI3IDExLjc4NyAyNi4yNyAyNi4yN2MwIDE0LjQ4My0xMS43ODMgMjYuMjctMjYuMjcgMjYuMjdzLTI2LjI3MS0xMS43ODctMjYuMjcxLTI2LjI3em01Mi41NDEgMzA3LjI3OGMwIDE0LjQ4My0xMS43ODMgMjYuMjctMjYuMjcgMjYuMjdzLTI2LjI3MS0xMS43ODctMjYuMjcxLTI2LjI3YzAtMTQuNDgzIDExLjc4NC0yNi4yNyAyNi4yNzEtMjYuMjdzMjYuMjcgMTEuNzg3IDI2LjI3IDI2LjI3em0tMjYuMjcyLTExNy45N2MtMjAuMjA1IDAtMzYuNjQyLTE2LjQzNC0zNi42NDItMzYuNjM4IDAtMjAuMjA1IDE2LjQzNy0zNi42NDIgMzYuNjQyLTM2LjY0MiAyMC4yMDQgMCAzNi42NDEgMTYuNDM3IDM2LjY0MSAzNi42NDIgMCAyMC4yMDQtMTYuNDM3IDM2LjYzOC0zNi42NDEgMzYuNjM4em0xMzEuODMxIDY3LjE3OWMtMTQuNDg3IDAtMjYuMjctMTEuNzg4LTI2LjI3LTI2LjI3MXMxMS43ODMtMjYuMjcgMjYuMjctMjYuMjcgMjYuMjcgMTEuNzg3IDI2LjI3IDI2LjI3YzAgMTQuNDgzLTExLjc4MyAyNi4yNzEtMjYuMjcgMjYuMjcxeiIvPjwvc3ZnPg==","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=save attributes, clazz=org.thingsboard.rule.engine.telemetry.TbMsgAttributesNode, configurationDescriptor={"nodeDefinition":{"details":"Saves entity attributes based on configurable scope parameter. Expects messages with 'POST_ATTRIBUTES_REQUEST' message type","description":"Saves attributes data","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"scope":"SERVER_SCOPE","notifyDevice":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAttributesConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=delay, clazz=org.thingsboard.rule.engine.delay.TbMsgDelayNode, configurationDescriptor={"nodeDefinition":{"details":"Delays messages for configurable period. Please note, this node acknowledges the message from the current queue (message will be removed from queue)","description":"Delays incoming message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"periodInSeconds":60,"maxPendingMsgs":1000,"periodInSecondsPattern":null,"useMetadataPeriodInSecondsPatterns":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMsgDelayConfig","icon":"pause","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=save timeseries, clazz=org.thingsboard.rule.engine.telemetry.TbMsgTimeseriesNode, configurationDescriptor={"nodeDefinition":{"details":"Saves timeseries telemetry data based on configurable TTL parameter. Expects messages with 'POST_TELEMETRY_REQUEST' message type","description":"Saves timeseries data","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"defaultTTL":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeTimeseriesConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=check alarm status, clazz=org.thingsboard.rule.engine.filter.TbCheckAlarmStatusNode, configurationDescriptor={"nodeDefinition":{"details":"If the alarm status matches the specified one - msg is success if does not match - msg is failure.","description":"Checks alarm status.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmStatusList":["ACTIVE_ACK","ACTIVE_UNACK"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckAlarmStatusConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=rabbitmq, clazz=org.thingsboard.rule.engine.rabbitmq.TbRabbitMqNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to RabbitMQ queue.","description":"Publish messages to the RabbitMQ","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"exchangeNamePattern":"","routingKeyPattern":"","messageProperties":null,"host":"localhost","port":5672,"virtualHost":"/","username":"guest","password":"guest","automaticRecoveryEnabled":false,"connectionTimeout":60000,"handshakeTimeout":10000,"clientProperties":{}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRabbitMqConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZlcnNpb249IjEuMSIgeT0iMHB4IiB4PSIwcHgiIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxwYXRoIHN0cm9rZS13aWR0aD0iLjg0OTU2IiBkPSJtODYwLjQ3IDQxNi4zMmgtMjYyLjAxYy0xMi45MTMgMC0yMy42MTgtMTAuNzA0LTIzLjYxOC0yMy42MTh2LTI3Mi43MWMwLTIwLjMwNS0xNi4yMjctMzYuMjc2LTM2LjI3Ni0zNi4yNzZoLTkzLjc5MmMtMjAuMzA1IDAtMzYuMjc2IDE2LjIyNy0zNi4yNzYgMzYuMjc2djI3MC44NGMtMC4yNTQ4NyAxNC4xMDMtMTEuNDY5IDI1LjU3Mi0yNS43NDIgMjUuNTcybC04NS42MzYgMC42Nzk2NWMtMTQuMTAzIDAtMjUuNTcyLTExLjQ2OS0yNS41NzItMjUuNTcybDAuNjc5NjUtMjcxLjUyYzAtMjAuMzA1LTE2LjIyNy0zNi4yNzYtMzYuMjc2LTM2LjI3NmgtOTMuNTM3Yy0yMC4zMDUgMC0zNi4yNzYgMTYuMjI3LTM2LjI3NiAzNi4yNzZ2NzYzLjg0YzAgMTguMDk2IDE0Ljc4MiAzMi40NTMgMzIuNDUzIDMyLjQ1M2g3MjIuODFjMTguMDk2IDAgMzIuNDUzLTE0Ljc4MiAzMi40NTMtMzIuNDUzdi00MzUuMzFjLTEuMTg5NC0xOC4xODEtMTUuMjkyLTMyLjE5OC0zMy4zODgtMzIuMTk4em0tMTIyLjY4IDI4Ny4wN2MwIDIzLjYxOC0xOC44NiA0Mi40NzgtNDIuNDc4IDQyLjQ3OGgtNzMuOTk3Yy0yMy42MTggMC00Mi40NzgtMTguODYtNDIuNDc4LTQyLjQ3OHYtNzQuMjUyYzAtMjMuNjE4IDE4Ljg2LTQyLjQ3OCA0Mi40NzgtNDIuNDc4aDczLjk5N2MyMy42MTggMCA0Mi40NzggMTguODYgNDIuNDc4IDQyLjQ3OHoiLz48L3N2Zz4=","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=mqtt, clazz=org.thingsboard.rule.engine.mqtt.TbMqttNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the MQTT broker with QoS <b>AT_LEAST_ONCE</b>.","description":"Publish messages to the MQTT broker","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"my-topic","host":"localhost","port":1883,"connectTimeoutSec":10,"clientId":null,"cleanSession":true,"ssl":false,"credentials":{"type":"anonymous"}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMqttConfig","icon":"call_split","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=rpc call reply, clazz=org.thingsboard.rule.engine.rpc.TbSendRPCReplyNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with any message type. Will forward message body to the device.","description":"Sends reply to RPC call from device","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"serviceIdMetaDataAttribute":"serviceId","sessionIdMetaDataAttribute":"sessionId","requestIdMetaDataAttribute":"requestId"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRpcReplyConfig","icon":"call_merge","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=rest api call, clazz=org.thingsboard.rule.engine.rest.TbRestApiCallNode, configurationDescriptor={"nodeDefinition":{"details":"Will invoke REST API call <code>GET | POST | PUT | DELETE</code> to external REST server. Message payload added into Request body. Configured attributes can be added into Headers from Message Metadata. Outbound message will contain response fields (<code>status</code>, <code>statusCode</code>, <code>statusReason</code> and response <code>headers</code>) in the Message Metadata. Response body saved in outbound Message payload. For example <b>statusCode</b> field can be accessed with <code>metadata.statusCode</code>.<br/><b>Note-</b> if you use system proxy properties, the next system proxy properties should be added: \"http.proxyHost\" and \"http.proxyPort\" or  \"https.proxyHost\" and \"https.proxyPort\" or \"socksProxyHost\" and \"socksProxyPort\",and if your proxy with auth, the next ones  should be added: \"tb.proxy.user\" and \"tb.proxy.password\" to the thingsboard.conf file.","description":"Invoke REST API calls to external REST server","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"restEndpointUrlPattern":"http://localhost/api","requestMethod":"POST","headers":{},"useSimpleClientHttpFactory":false,"readTimeoutMs":0,"maxParallelRequestsCount":0,"useRedisQueueForMsgPersistence":false,"trimQueue":false,"maxQueueSize":0,"enableProxy":false,"useSystemProxyProperties":false,"proxyHost":null,"proxyPort":0,"proxyUser":null,"proxyPassword":null,"proxyScheme":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRestApiCallConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB2ZXJzaW9uPSIxLjEiIHk9IjBweCIgeD0iMHB4Ij48ZyB0cmFuc2Zvcm09Im1hdHJpeCguOTQ5NzUgMCAwIC45NDk3NSAxNy4xMiAyNi40OTIpIj48cGF0aCBkPSJtMTY5LjExIDEwOC41NGMtOS45MDY2IDAuMDczNC0xOS4wMTQgNi41NzI0LTIyLjAxNCAxNi40NjlsLTY5Ljk5MyAyMzEuMDhjLTMuNjkwNCAxMi4xODEgMy4yODkyIDI1LjIyIDE1LjQ2OSAyOC45MSAyLjIyNTkgMC42NzQ4MSA0LjQ5NjkgMSA2LjcyODUgMSA5Ljk3MjEgMCAxOS4xNjUtNi41MTUzIDIyLjE4Mi0xNi40NjdhNi41MjI0IDYuNTIyNCAwIDAgMCAwLjAwMiAtMC4wMDJsNjkuOTktMjMxLjA3YTYuNTIyNCA2LjUyMjQgMCAwIDAgMCAtMC4wMDJjMy42ODU1LTEyLjE4MS0zLjI4Ny0yNS4yMjUtMTUuNDcxLTI4LjkxMi0yLjI4MjUtMC42OTE0NS00LjYxMTYtMS4wMTY5LTYuODk4NC0xem04NC45ODggMGMtOS45MDQ4IDAuMDczNC0xOS4wMTggNi41Njc1LTIyLjAxOCAxNi40NjlsLTY5Ljk4NiAyMzEuMDhjLTMuNjg5OCAxMi4xNzkgMy4yODUzIDI1LjIxNyAxNS40NjUgMjguOTA4IDIuMjI5NyAwLjY3NjQ3IDQuNTAwOCAxLjAwMiA2LjczMjQgMS4wMDIgOS45NzIxIDAgMTkuMTY1LTYuNTE1MyAyMi4xODItMTYuNDY3YTYuNTIyNCA2LjUyMjQgMCAwIDAgMC4wMDIgLTAuMDAybDY5Ljk4OC0yMzEuMDdjMy42OTA4LTEyLjE4MS0zLjI4NTItMjUuMjIzLTE1LjQ2Ny0yOC45MTItMi4yODE0LTAuNjkyMzEtNC42MTA4LTEuMDE4OS02Ljg5ODQtMS4wMDJ6bS0yMTcuMjkgNDIuMjNjLTEyLjcyOS0wLjAwMDg3LTIzLjE4OCAxMC40NTYtMjMuMTg4IDIzLjE4NiAwLjAwMSAxMi43MjggMTAuNDU5IDIzLjE4NiAyMy4xODggMjMuMTg2IDEyLjcyNy0wLjAwMSAyMy4xODMtMTAuNDU5IDIzLjE4NC0yMy4xODYgMC4wMDA4NzYtMTIuNzI4LTEwLjQ1Ni0yMy4xODUtMjMuMTg0LTIzLjE4NnptMCAxNDYuNjRjLTEyLjcyNy0wLjAwMDg3LTIzLjE4NiAxMC40NTUtMjMuMTg4IDIzLjE4NC0wLjAwMDg3MyAxMi43MjkgMTAuNDU4IDIzLjE4OCAyMy4xODggMjMuMTg4IDEyLjcyOC0wLjAwMSAyMy4xODQtMTAuNDYgMjMuMTg0LTIzLjE4OC0wLjAwMS0xMi43MjYtMTAuNDU3LTIzLjE4My0yMy4xODQtMjMuMTg0em0yNzAuNzkgNDIuMjExYy0xMi43MjcgMC0yMy4xODQgMTAuNDU3LTIzLjE4NCAyMy4xODRzMTAuNDU1IDIzLjE4OCAyMy4xODQgMjMuMTg4aDE1NC45OGMxMi43MjkgMCAyMy4xODYtMTAuNDYgMjMuMTg2LTIzLjE4OCAwLjAwMS0xMi43MjgtMTAuNDU4LTIzLjE4NC0yMy4xODYtMjMuMTg0eiIgdHJhbnNmb3JtPSJtYXRyaXgoMS4wMzc2IDAgMCAxLjAzNzYgLTcuNTY3NiAtMTQuOTI1KSIgc3Ryb2tlLXdpZHRoPSIxLjI2OTMiLz48L2c+PC9zdmc+","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=customer attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetCustomerAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Customer Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeCustomerAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator fields, clazz=org.thingsboard.rule.engine.metadata.TbGetOriginatorFieldsNode, configurationDescriptor={"nodeDefinition":{"details":"Will fetch fields values specified in mapping. If specified field is not part of originator fields it will be ignored.","description":"Add Message Originator fields values into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"fieldsMapping":{"name":"originatorName","type":"originatorType"}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeOriginatorFieldsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=check existence fields, clazz=org.thingsboard.rule.engine.filter.TbCheckMessageNode, configurationDescriptor={"nodeDefinition":{"details":"If selected checkbox 'Check that all selected keys are present'\" and all keys in message data and metadata are exist - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.\nElse if the checkbox is not selected, and at least one of the keys from data or metadata of the message exists - send Message via <b>True</b> chain, otherwise, <b>False</b> chain is used. ","description":"Checks the existence of the selected keys from message data and metadata.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"messageNames":[],"metadataNames":[],"checkAllKeys":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckMessageConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=customer details, clazz=org.thingsboard.rule.engine.metadata.TbGetCustomerDetailsNode, configurationDescriptor={"nodeDefinition":{"details":"If checkbox: <b>Add selected details to the message metadata</b> is selected, existing fields will be added to the message metadata instead of message data.<br><br><b>Note:</b> only Device, Asset, and Entity View type are allowed.<br><br>If the originator of the message is not assigned to Customer, or originator type is not supported - Message will be forwarded to <b>Failure</b> chain, otherwise, <b>Success</b> chain will be used.","description":"Adds fields from Customer details to the message body or metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"detailsList":[],"addToMetadata":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeEntityDetailsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=save to custom table, clazz=org.thingsboard.rule.engine.action.TbSaveToCustomCassandraTableNode, configurationDescriptor={"nodeDefinition":{"details":"Administrator should set the custom table name without prefix: <b>cs_tb_</b>. <br>Administrator can configure the mapping between the Message field names and Table columns name.<br><b>Note:</b>If the mapping key is <b>$entity_id</b>, that is identified by the Message Originator, then to the appropriate column name(mapping value) will be write the message originator id.<br><br>If specified message field does not exist or is not a JSON Primitive, the outbound message will be routed via <b>failure</b> chain, otherwise, the message will be routed via <b>success</b> chain.","description":"Node stores data from incoming Message payload to the Cassandra database into the predefined custom table that should have <b>cs_tb_</b> prefix, to avoid the data insertion to the common TB tables.<br><b>Note:</b> rule node can be used only for Cassandra DB.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"tableName":"","fieldsMapping":{"":""}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCustomTableConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=gps geofencing events, clazz=org.thingsboard.rule.engine.geo.TbGpsGeofencingActionNode, configurationDescriptor={"nodeDefinition":{"details":"Extracts latitude and longitude parameters from incoming message and returns different events based on configuration parameters","description":"Produces incoming messages using GPS based geofencing","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Entered","Left","Inside","Outside","Failure"],"customRelations":false,"defaultConfiguration":{"latitudeKeyName":"latitude","longitudeKeyName":"longitude","fetchPerimeterInfoFromMessageMetadata":true,"perimeterType":null,"polygonsDefinition":null,"centerLatitude":null,"centerLongitude":null,"range":null,"rangeUnit":null,"minInsideDuration":1,"minOutsideDuration":1,"minInsideDurationTimeUnit":"MINUTES","minOutsideDurationTimeUnit":"MINUTES"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeGpsGeofencingConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=tenant attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetTenantAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Tenant Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeTenantAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=create alarm, clazz=org.thingsboard.rule.engine.action.TbCreateAlarmNode, configurationDescriptor={"nodeDefinition":{"details":"Details - JS function that creates JSON object based on incoming message. This object will be added into Alarm.details field.\nNode output:\nIf alarm was not created, original message is returned. Otherwise new Message returned with type 'ALARM', Alarm object in 'msg' property and 'metadata' will contains one of those properties 'isNewAlarm/isExistingAlarm'. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Create or Update Alarm","inEnabled":true,"outEnabled":true,"relationTypes":["Created","Updated","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmType":"General Alarm","alarmDetailsBuildJs":"var details = {};\nif (metadata.prevAlarmDetails) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n}\nreturn details;","severity":"CRITICAL","propagate":false,"useMessageAlarmData":false,"relationTypes":[]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCreateAlarmConfig","icon":"notifications_active","iconUrl":"","docUrl":""}}, actions=null)]
2020-12-18 09:50:42,923 [main] INFO  o.t.s.a.service.DefaultActorService - Initializing actor system.
2020-12-18 09:50:42,935 [main] INFO  o.t.s.a.service.DefaultActorService - Actor system initialized.
2020-12-18 09:50:43,037 [main] INFO  o.t.s.c.t.a.JsonConverterConfig - JSON type cast enabled = true
2020-12-18 09:50:43,038 [main] INFO  o.t.s.c.t.a.JsonConverterConfig - JSON max string value length = 0
2020-12-18 09:50:43,093 [main] INFO  o.t.s.t.mqtt.MqttTransportService - Setting resource leak detector level to DISABLED
2020-12-18 09:50:43,093 [main] INFO  o.t.s.t.mqtt.MqttTransportService - Starting MQTT transport...
2020-12-18 09:50:43,172 [main] INFO  o.t.s.t.mqtt.MqttTransportService - Mqtt transport started!
2020-12-18 09:50:43,190 [main] INFO  o.t.s.t.coap.CoapTransportService - Starting CoAP transport...
2020-12-18 09:50:43,190 [main] INFO  o.t.s.t.coap.CoapTransportService - Starting CoAP transport server
2020-12-18 09:50:43,194 [main] INFO  o.e.c.c.network.config.NetworkConfig - Creating standard network configuration properties without a file
2020-12-18 09:50:43,222 [main] INFO  o.e.californium.core.CoapServer - Starting server
2020-12-18 09:50:43,223 [main] INFO  o.e.c.core.network.CoapEndpoint - Starting endpoint at /0.0.0.0:5683
2020-12-18 09:50:43,232 [main] INFO  o.t.s.t.coap.CoapTransportService - CoAP transport started!
2020-12-18 09:50:44,272 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: zookeeper.version=3.5.5-390fe37ea45dee01bf87dc1c042b5e3dcce88653, built on 05/03/2019 12:07 GMT
2020-12-18 09:50:44,274 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: host.name=192.168.65.3
2020-12-18 09:50:44,274 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: java.version=1.8.0_242
2020-12-18 09:50:44,275 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: java.vendor=Oracle Corporation
2020-12-18 09:50:44,275 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: java.home=/usr/lib/jvm/java-8-openjdk-amd64/jre
2020-12-18 09:50:44,276 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: java.class.path=/usr/share/thingsboard/bin/thingsboard.jar
2020-12-18 09:50:44,276 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib
2020-12-18 09:50:44,276 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: java.io.tmpdir=/tmp
2020-12-18 09:50:44,276 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: java.compiler=<NA>
2020-12-18 09:50:44,276 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: os.name=Linux
2020-12-18 09:50:44,277 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: os.arch=amd64
2020-12-18 09:50:44,277 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: os.version=4.19.128-microsoft-standard
2020-12-18 09:50:44,278 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: user.name=thingsboard
2020-12-18 09:50:44,278 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: user.home=/home/thingsboard
2020-12-18 09:50:44,278 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: user.dir=/
2020-12-18 09:50:44,278 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: os.memory.free=116MB
2020-12-18 09:50:44,278 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: os.memory.max=3085MB
2020-12-18 09:50:44,278 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: os.memory.total=191MB
2020-12-18 09:50:44,709 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2020-12-18 09:50:45,032 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/*.js'], []
2020-12-18 09:50:45,032 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/*.css'], []
2020-12-18 09:50:45,032 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/*.ico'], []
2020-12-18 09:50:45,032 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/assets/**'], []
2020-12-18 09:50:45,032 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/static/**'], []
2020-12-18 09:50:45,217 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f10d055, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ba0ee4a, org.springframework.security.web.header.HeaderWriterFilter@38ef1a0a, org.springframework.web.filter.CorsFilter@391d1e33, org.springframework.security.web.authentication.logout.LogoutFilter@5a466dd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@14590fe2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2c3f43d1, org.thingsboard.server.service.security.auth.rest.RestLoginProcessingFilter@1cd2143b, org.thingsboard.server.service.security.auth.rest.RestPublicLoginProcessingFilter@1118d539, org.thingsboard.server.service.security.auth.jwt.JwtTokenAuthenticationProcessingFilter@542ff147, org.thingsboard.server.service.security.auth.jwt.RefreshTokenProcessingFilter@601d6622, org.thingsboard.server.service.security.auth.jwt.JwtTokenAuthenticationProcessingFilter@76216830, org.thingsboard.server.config.RateLimitProcessingFilter@2d83c5a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55061418, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ec3d8e4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d801d8, org.springframework.security.web.session.SessionManagementFilter@6728370a, org.springframework.security.web.access.ExceptionTranslationFilter@6abb7b7d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12aa381f]
2020-12-18 09:50:45,239 [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2020-12-18 09:50:45,615 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [public/index.html]
2020-12-18 09:50:46,931 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-0.0.0.0-9090"]
2020-12-18 09:50:46,971 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 9090 (http) with context path ''
2020-12-18 09:50:46,972 [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Context refreshed
2020-12-18 09:50:47,007 [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Found 1 custom documentation plugin(s)
2020-12-18 09:50:47,107 [main] INFO  s.d.s.w.s.ApiListingReferenceScanner - Scanning for api listing references
2020-12-18 09:50:48,276 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: getTenantDashboardsUsingGET_1
2020-12-18 09:50:48,547 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: claimDeviceUsingPOST_1
2020-12-18 09:50:48,622 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: findByQueryUsingPOST_1
2020-12-18 09:50:49,260 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: findByFromUsingGET_1
2020-12-18 09:50:49,279 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: findByQueryUsingPOST_2
2020-12-18 09:50:49,318 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: findByToUsingGET_1
2020-12-18 09:50:49,500 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: findByQueryUsingPOST_3
2020-12-18 09:50:49,734 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: getEventsUsingGET_1
2020-12-18 09:50:49,955 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: saveRuleChainUsingPOST_1
2020-12-18 09:50:50,032 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: deleteEntityAttributesUsingDELETE_1
2020-12-18 09:50:50,472 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: getWidgetsBundlesUsingGET_1
2020-12-18 09:50:50,536 [main] INFO  o.t.s.ThingsboardServerApplication - Started ThingsboardServerApplication in 25.715 seconds (JVM running for 26.647)
2020-12-18 09:50:50,582 [main] INFO  o.t.s.q.d.HashPartitionService - [docker-desktop] Found common server: [[TB_CORE, TB_RULE_ENGINE, TB_TRANSPORT, JS_EXECUTOR]]
2020-12-18 09:50:50,592 [main] INFO  o.t.s.q.d.HashPartitionService - [ServiceQueueKey(serviceQueue=ServiceQueue(type=TB_RULE_ENGINE, queue=SequentialByOriginator), tenantId=13814000-1dd2-11b2-8080-808080808080)] NEW PARTITIONS: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
2020-12-18 09:50:50,595 [main] INFO  o.t.s.a.service.DefaultActorService - Received partition change event.
2020-12-18 09:50:50,597 [app-dispatcher-34-thread-1] INFO  o.t.server.actors.app.AppActor - Starting main system actor.
2020-12-18 09:50:50,597 [main] INFO  o.t.s.s.q.DefaultTbRuleEngineConsumerService - [SequentialByOriginator] Subscribing to partitions: [TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[9], fullTopicName=tb_rule_engine.sq.9, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[8], fullTopicName=tb_rule_engine.sq.8, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[7], fullTopicName=tb_rule_engine.sq.7, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[2], fullTopicName=tb_rule_engine.sq.2, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[1], fullTopicName=tb_rule_engine.sq.1, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[0], fullTopicName=tb_rule_engine.sq.0, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[6], fullTopicName=tb_rule_engine.sq.6, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[5], fullTopicName=tb_rule_engine.sq.5, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[4], fullTopicName=tb_rule_engine.sq.4, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[3], fullTopicName=tb_rule_engine.sq.3, myPartition=true)]
2020-12-18 09:50:50,597 [main] INFO  o.t.s.q.d.HashPartitionService - [ServiceQueueKey(serviceQueue=ServiceQueue(type=TB_RULE_ENGINE, queue=HighPriority), tenantId=13814000-1dd2-11b2-8080-808080808080)] NEW PARTITIONS: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
2020-12-18 09:50:50,598 [main] INFO  o.t.s.a.service.DefaultActorService - Received partition change event.
2020-12-18 09:50:50,598 [main] INFO  o.t.s.s.q.DefaultTbRuleEngineConsumerService - [HighPriority] Subscribing to partitions: [TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[9], fullTopicName=tb_rule_engine.hp.9, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[7], fullTopicName=tb_rule_engine.hp.7, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[8], fullTopicName=tb_rule_engine.hp.8, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[5], fullTopicName=tb_rule_engine.hp.5, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[6], fullTopicName=tb_rule_engine.hp.6, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[3], fullTopicName=tb_rule_engine.hp.3, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[4], fullTopicName=tb_rule_engine.hp.4, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[1], fullTopicName=tb_rule_engine.hp.1, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[2], fullTopicName=tb_rule_engine.hp.2, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[0], fullTopicName=tb_rule_engine.hp.0, myPartition=true)]
2020-12-18 09:50:50,598 [main] INFO  o.t.s.q.d.HashPartitionService - [ServiceQueueKey(serviceQueue=ServiceQueue(type=TB_CORE, queue=Main), tenantId=13814000-1dd2-11b2-8080-808080808080)] NEW PARTITIONS: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
2020-12-18 09:50:50,598 [main] INFO  o.t.s.a.service.DefaultActorService - Received partition change event.
2020-12-18 09:50:50,600 [main] INFO  o.t.s.s.a.DefaultTbApiUsageStateService - Initializing tenant states.
2020-12-18 09:50:50,756 [ForkJoinPool-11-worker-0] INFO  o.t.server.actors.tenant.TenantActor - [721b74a0-4116-11eb-b18b-817916773a64] Starting tenant actor.
2020-12-18 09:50:50,756 [app-dispatcher-34-thread-1] INFO  o.t.server.actors.app.AppActor - Main system actor started.
2020-12-18 09:50:50,759 [app-dispatcher-34-thread-1] WARN  o.t.server.actors.app.AppActor - Rule Chains initialized by unexpected message: PartitionChangeMsg(serviceQueueKey=ServiceQueueKey(serviceQueue=ServiceQueue(type=TB_RULE_ENGINE, queue=SequentialByOriginator), tenantId=13814000-1dd2-11b2-8080-808080808080), partitions=[TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[9], fullTopicName=tb_rule_engine.sq.9, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[8], fullTopicName=tb_rule_engine.sq.8, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[7], fullTopicName=tb_rule_engine.sq.7, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[2], fullTopicName=tb_rule_engine.sq.2, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[1], fullTopicName=tb_rule_engine.sq.1, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[0], fullTopicName=tb_rule_engine.sq.0, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[6], fullTopicName=tb_rule_engine.sq.6, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[5], fullTopicName=tb_rule_engine.sq.5, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[4], fullTopicName=tb_rule_engine.sq.4, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[3], fullTopicName=tb_rule_engine.sq.3, myPartition=true)])
2020-12-18 09:50:50,851 [ForkJoinPool-11-worker-0] INFO  o.t.server.actors.tenant.TenantActor - [721b74a0-4116-11eb-b18b-817916773a64] Going to init rule chains
2020-12-18 09:50:50,852 [main] INFO  o.t.s.s.a.DefaultTbApiUsageStateService - Initialized tenant states.
2020-12-18 09:50:50,859 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - CURRENT PARTITIONS: []
2020-12-18 09:50:50,859 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - NEW PARTITIONS: [TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[5], fullTopicName=tb_core.5, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[6], fullTopicName=tb_core.6, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[3], fullTopicName=tb_core.3, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[4], fullTopicName=tb_core.4, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[1], fullTopicName=tb_core.1, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[2], fullTopicName=tb_core.2, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[0], fullTopicName=tb_core.0, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[9], fullTopicName=tb_core.9, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[7], fullTopicName=tb_core.7, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[8], fullTopicName=tb_core.8, myPartition=true)]
2020-12-18 09:50:50,859 [main] INFO  o.t.s.s.q.DefaultTbCoreConsumerService - Subscribing to partitions: [TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[5], fullTopicName=tb_core.5, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[6], fullTopicName=tb_core.6, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[3], fullTopicName=tb_core.3, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[4], fullTopicName=tb_core.4, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[1], fullTopicName=tb_core.1, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[2], fullTopicName=tb_core.2, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[0], fullTopicName=tb_core.0, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[9], fullTopicName=tb_core.9, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[7], fullTopicName=tb_core.7, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[8], fullTopicName=tb_core.8, myPartition=true)]
2020-12-18 09:50:50,859 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - ADDED PARTITIONS: [TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[5], fullTopicName=tb_core.5, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[6], fullTopicName=tb_core.6, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[3], fullTopicName=tb_core.3, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[4], fullTopicName=tb_core.4, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[1], fullTopicName=tb_core.1, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[2], fullTopicName=tb_core.2, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[0], fullTopicName=tb_core.0, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[9], fullTopicName=tb_core.9, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[7], fullTopicName=tb_core.7, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[8], fullTopicName=tb_core.8, myPartition=true)]
2020-12-18 09:50:50,860 [main] INFO  o.t.s.q.d.HashPartitionService - [ServiceQueueKey(serviceQueue=ServiceQueue(type=TB_RULE_ENGINE, queue=Main), tenantId=13814000-1dd2-11b2-8080-808080808080)] NEW PARTITIONS: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
2020-12-18 09:50:50,862 [main] INFO  o.t.s.a.service.DefaultActorService - Received partition change event.
2020-12-18 09:50:50,865 [main] INFO  o.t.s.s.q.DefaultTbRuleEngineConsumerService - [Main] Subscribing to partitions: [TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[8], fullTopicName=tb_rule_engine.main.8, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[9], fullTopicName=tb_rule_engine.main.9, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[6], fullTopicName=tb_rule_engine.main.6, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[7], fullTopicName=tb_rule_engine.main.7, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[4], fullTopicName=tb_rule_engine.main.4, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[5], fullTopicName=tb_rule_engine.main.5, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[2], fullTopicName=tb_rule_engine.main.2, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[3], fullTopicName=tb_rule_engine.main.3, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[0], fullTopicName=tb_rule_engine.main.0, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[1], fullTopicName=tb_rule_engine.main.1, myPartition=true)]
2020-12-18 09:50:50,866 [main] INFO  o.t.s.s.q.p.AbstractConsumerService - Subscribing to notifications: tb_rule_engine.notifications.docker-desktop
2020-12-18 09:50:50,865 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - REMOVED PARTITIONS: []
2020-12-18 09:50:50,869 [main] INFO  o.t.s.s.t.TbCoreTransportApiService - Received application ready event. Starting polling for events.
2020-12-18 09:50:50,871 [main] INFO  o.t.s.s.q.p.AbstractConsumerService - Subscribing to notifications: tb_core.notifications.docker-desktop
2020-12-18 09:50:50,874 [main] INFO  o.t.s.a.service.DefaultActorService - Received application ready event. Sending application init message to actor system
2020-12-18 09:50:50,885 [ForkJoinPool-11-worker-0] INFO  o.t.server.actors.tenant.TenantActor - [721b74a0-4116-11eb-b18b-817916773a64] Tenant actor started.
2020-12-18 09:50:50,966 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - Managing following partitions:
2020-12-18 09:50:50,967 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.5]: 0 devices
2020-12-18 09:50:50,968 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.6]: 3 devices
2020-12-18 09:50:50,968 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.3]: 2 devices
2020-12-18 09:50:50,968 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.4]: 0 devices
2020-12-18 09:50:50,968 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.1]: 0 devices
2020-12-18 09:50:50,968 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.2]: 1 devices
2020-12-18 09:50:50,968 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.0]: 0 devices
2020-12-18 09:50:50,968 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.9]: 0 devices
2020-12-18 09:50:50,968 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.7]: 2 devices
2020-12-18 09:50:50,968 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.8]: 1 devices
2020-12-18 09:50:50,973 [ForkJoinPool-13-worker-0] INFO  o.t.r.e.profile.TbDeviceProfileNode - [7252b140-4116-11eb-b18b-817916773a64] Going to cleanup rule node states
2020-12-18 09:50:50,974 [ForkJoinPool-13-worker-3] INFO  o.t.r.e.profile.TbDeviceProfileNode - [7262b6d0-4116-11eb-b18b-817916773a64] Going to cleanup rule node states
2020-12-18 09:51:51,165 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 09:51:58,613 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 09:51:58,683 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 09:52:51,168 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 09:52:58,612 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 09:52:58,684 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 09:53:51,173 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 09:53:58,612 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 09:53:58,684 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 09:54:32,040 [main] INFO  o.t.s.ThingsboardServerApplication - Starting ThingsboardServerApplication v3.2.0 on 5a1dd67508f6 with PID 10 (/usr/share/thingsboard/bin/thingsboard.jar started by thingsboard in /)
2020-12-18 09:54:32,044 [main] INFO  o.t.s.ThingsboardServerApplication - No active profile set, falling back to default profiles: default
2020-12-18 09:54:32,308 [background-preinit] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
2020-12-18 09:54:36,344 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-18 09:54:36,344 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-18 09:54:36,442 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 82ms. Found 1 JPA repository interfaces.
2020-12-18 09:54:36,444 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-18 09:54:36,444 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-18 09:54:36,473 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28ms. Found 1 JPA repository interfaces.
2020-12-18 09:54:36,513 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-18 09:54:36,513 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-18 09:54:36,914 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 400ms. Found 28 JPA repository interfaces.
2020-12-18 09:54:36,916 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-18 09:54:36,917 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-18 09:54:36,947 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29ms. Found 1 JPA repository interfaces.
2020-12-18 09:54:37,597 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-18 09:54:37,600 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-18 09:54:37,703 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.customer.CustomerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,705 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.device.DeviceProfileRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,707 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,708 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.oauth2.OAuth2ClientRegistrationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,709 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.oauth2.OAuth2ClientRegistrationInfoRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,710 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sqlts.ts.TsKvRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,711 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.device.DeviceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,712 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.rule.RuleChainRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,713 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.asset.AssetRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,714 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.widget.WidgetTypeRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,715 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.device.DeviceCredentialsRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,716 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.tenant.TenantProfileRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,716 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.component.ComponentDescriptorRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,717 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.alarm.AlarmRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,718 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.tenant.TenantRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,722 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sqlts.latest.TsKvLatestRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,723 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.usagerecord.ApiUsageStateRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,724 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.widget.WidgetsBundleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,724 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.dashboard.DashboardInfoRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,725 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.relation.RelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,727 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.rule.RuleNodeRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,728 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.attributes.AttributeKvRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,729 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.dashboard.DashboardRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,731 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.oauth2.OAuth2ClientRegistrationTemplateRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,731 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.user.UserCredentialsRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,732 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.settings.AdminSettingsRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,733 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.audit.AuditLogRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,734 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.rule.RuleNodeStateRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,735 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.event.EventRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,739 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sqlts.dictionary.TsKvDictionaryRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,742 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface org.thingsboard.server.dao.sql.entityview.EntityViewRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-18 09:54:37,746 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 131ms. Found 0 Redis repository interfaces.
2020-12-18 09:54:38,809 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5f7f2382' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-18 09:54:38,844 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-18 09:54:39,480 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9090 (http)
2020-12-18 09:54:39,504 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-0.0.0.0-9090"]
2020-12-18 09:54:39,504 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2020-12-18 09:54:39,505 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-18 09:54:39,650 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2020-12-18 09:54:39,650 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7158 ms
2020-12-18 09:54:41,012 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-18 09:54:41,303 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-18 09:54:41,764 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-18 09:54:42,038 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2020-12-18 09:54:42,155 [main] INFO  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Driver does not support get/set network timeout for connections. (Method org.postgresql.jdbc.PgConnection.getNetworkTimeout() is not yet implemented.)
2020-12-18 09:54:42,183 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2020-12-18 09:54:42,249 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-12-18 09:54:44,683 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-18 09:54:44,713 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-18 09:54:47,185 [main] INFO  c.d.oss.driver.api.core.uuid.Uuids - PID obtained through native call to getpid(): 10
2020-12-18 09:54:48,915 [main] INFO  o.t.s.q.d.DefaultTbServiceInfoProvider - Current Service ID: 5a1dd67508f6
2020-12-18 09:54:50,320 [main] INFO  o.t.s.s.a.DefaultTbApiUsageStateService - Starting api usage service.
2020-12-18 09:54:50,320 [main] INFO  o.t.s.s.a.DefaultTbApiUsageStateService - Started api usage service.
2020-12-18 09:54:50,576 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=script, clazz=org.thingsboard.rule.engine.filter.TbJsFilterNode, configurationDescriptor={"nodeDefinition":{"details":"Evaluate incoming Message with configured JS condition. If <b>True</b> - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.Message payload can be accessed via <code>msg</code> property. For example <code>msg.temperature < 10;</code><br/>Message metadata can be accessed via <code>metadata</code> property. For example <code>metadata.customerName === 'John';</code><br/>Message type can be accessed via <code>msgType</code> property.","description":"Filter incoming messages using JS script","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return msg.temperature > 20;"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeScriptConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,604 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=script, clazz=org.thingsboard.rule.engine.filter.TbJsFilterNode, configurationDescriptor={"nodeDefinition":{"details":"Evaluate incoming Message with configured JS condition. If <b>True</b> - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.Message payload can be accessed via <code>msg</code> property. For example <code>msg.temperature < 10;</code><br/>Message metadata can be accessed via <code>metadata</code> property. For example <code>metadata.customerName === 'John';</code><br/>Message type can be accessed via <code>msgType</code> property.","description":"Filter incoming messages using JS script","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return msg.temperature > 20;"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeScriptConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,617 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=rabbitmq, clazz=org.thingsboard.rule.engine.rabbitmq.TbRabbitMqNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to RabbitMQ queue.","description":"Publish messages to the RabbitMQ","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"exchangeNamePattern":"","routingKeyPattern":"","messageProperties":null,"host":"localhost","port":5672,"virtualHost":"/","username":"guest","password":"guest","automaticRecoveryEnabled":false,"connectionTimeout":60000,"handshakeTimeout":10000,"clientProperties":{}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRabbitMqConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZlcnNpb249IjEuMSIgeT0iMHB4IiB4PSIwcHgiIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxwYXRoIHN0cm9rZS13aWR0aD0iLjg0OTU2IiBkPSJtODYwLjQ3IDQxNi4zMmgtMjYyLjAxYy0xMi45MTMgMC0yMy42MTgtMTAuNzA0LTIzLjYxOC0yMy42MTh2LTI3Mi43MWMwLTIwLjMwNS0xNi4yMjctMzYuMjc2LTM2LjI3Ni0zNi4yNzZoLTkzLjc5MmMtMjAuMzA1IDAtMzYuMjc2IDE2LjIyNy0zNi4yNzYgMzYuMjc2djI3MC44NGMtMC4yNTQ4NyAxNC4xMDMtMTEuNDY5IDI1LjU3Mi0yNS43NDIgMjUuNTcybC04NS42MzYgMC42Nzk2NWMtMTQuMTAzIDAtMjUuNTcyLTExLjQ2OS0yNS41NzItMjUuNTcybDAuNjc5NjUtMjcxLjUyYzAtMjAuMzA1LTE2LjIyNy0zNi4yNzYtMzYuMjc2LTM2LjI3NmgtOTMuNTM3Yy0yMC4zMDUgMC0zNi4yNzYgMTYuMjI3LTM2LjI3NiAzNi4yNzZ2NzYzLjg0YzAgMTguMDk2IDE0Ljc4MiAzMi40NTMgMzIuNDUzIDMyLjQ1M2g3MjIuODFjMTguMDk2IDAgMzIuNDUzLTE0Ljc4MiAzMi40NTMtMzIuNDUzdi00MzUuMzFjLTEuMTg5NC0xOC4xODEtMTUuMjkyLTMyLjE5OC0zMy4zODgtMzIuMTk4em0tMTIyLjY4IDI4Ny4wN2MwIDIzLjYxOC0xOC44NiA0Mi40NzgtNDIuNDc4IDQyLjQ3OGgtNzMuOTk3Yy0yMy42MTggMC00Mi40NzgtMTguODYtNDIuNDc4LTQyLjQ3OHYtNzQuMjUyYzAtMjMuNjE4IDE4Ljg2LTQyLjQ3OCA0Mi40NzgtNDIuNDc4aDczLjk5N2MyMy42MTggMCA0Mi40NzggMTguODYgNDIuNDc4IDQyLjQ3OHoiLz48L3N2Zz4=","docUrl":""}}, actions=null)
2020-12-18 09:54:50,627 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=rabbitmq, clazz=org.thingsboard.rule.engine.rabbitmq.TbRabbitMqNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to RabbitMQ queue.","description":"Publish messages to the RabbitMQ","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"exchangeNamePattern":"","routingKeyPattern":"","messageProperties":null,"host":"localhost","port":5672,"virtualHost":"/","username":"guest","password":"guest","automaticRecoveryEnabled":false,"connectionTimeout":60000,"handshakeTimeout":10000,"clientProperties":{}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRabbitMqConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZlcnNpb249IjEuMSIgeT0iMHB4IiB4PSIwcHgiIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxwYXRoIHN0cm9rZS13aWR0aD0iLjg0OTU2IiBkPSJtODYwLjQ3IDQxNi4zMmgtMjYyLjAxYy0xMi45MTMgMC0yMy42MTgtMTAuNzA0LTIzLjYxOC0yMy42MTh2LTI3Mi43MWMwLTIwLjMwNS0xNi4yMjctMzYuMjc2LTM2LjI3Ni0zNi4yNzZoLTkzLjc5MmMtMjAuMzA1IDAtMzYuMjc2IDE2LjIyNy0zNi4yNzYgMzYuMjc2djI3MC44NGMtMC4yNTQ4NyAxNC4xMDMtMTEuNDY5IDI1LjU3Mi0yNS43NDIgMjUuNTcybC04NS42MzYgMC42Nzk2NWMtMTQuMTAzIDAtMjUuNTcyLTExLjQ2OS0yNS41NzItMjUuNTcybDAuNjc5NjUtMjcxLjUyYzAtMjAuMzA1LTE2LjIyNy0zNi4yNzYtMzYuMjc2LTM2LjI3NmgtOTMuNTM3Yy0yMC4zMDUgMC0zNi4yNzYgMTYuMjI3LTM2LjI3NiAzNi4yNzZ2NzYzLjg0YzAgMTguMDk2IDE0Ljc4MiAzMi40NTMgMzIuNDUzIDMyLjQ1M2g3MjIuODFjMTguMDk2IDAgMzIuNDUzLTE0Ljc4MiAzMi40NTMtMzIuNDUzdi00MzUuMzFjLTEuMTg5NC0xOC4xODEtMTUuMjkyLTMyLjE5OC0zMy4zODgtMzIuMTk4em0tMTIyLjY4IDI4Ny4wN2MwIDIzLjYxOC0xOC44NiA0Mi40NzgtNDIuNDc4IDQyLjQ3OGgtNzMuOTk3Yy0yMy42MTggMC00Mi40NzgtMTguODYtNDIuNDc4LTQyLjQ3OHYtNzQuMjUyYzAtMjMuNjE4IDE4Ljg2LTQyLjQ3OCA0Mi40NzgtNDIuNDc4aDczLjk5N2MyMy42MTggMCA0Mi40NzggMTguODYgNDIuNDc4IDQyLjQ3OHoiLz48L3N2Zz4=","docUrl":""}}, actions=null)
2020-12-18 09:54:50,631 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=synchronization start, clazz=org.thingsboard.rule.engine.transaction.TbSynchronizationBeginNode, configurationDescriptor={"nodeDefinition":{"details":"This node should be used together with \"synchronization end\" node. \n This node will put messages into queue based on message originator id. \nSubsequent messages will not be processed until the previous message processing is completed or timeout event occurs.\nSize of the queue per originator and timeout values are configurable on a system level","description":"This Node is now deprecated. Use \"Checkpoint\" instead.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,634 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=synchronization start, clazz=org.thingsboard.rule.engine.transaction.TbSynchronizationBeginNode, configurationDescriptor={"nodeDefinition":{"details":"This node should be used together with \"synchronization end\" node. \n This node will put messages into queue based on message originator id. \nSubsequent messages will not be processed until the previous message processing is completed or timeout event occurs.\nSize of the queue per originator and timeout values are configurable on a system level","description":"This Node is now deprecated. Use \"Checkpoint\" instead.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,651 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=gcp pubsub, clazz=org.thingsboard.rule.engine.gcp.pubsub.TbPubSubNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the Google Cloud Platform PubSub topic. Outbound message will contain response fields (<code>messageId</code> in the Message Metadata from the GCP PubSub. <b>messageId</b> field can be accessed with <code>metadata.messageId</code>.","description":"Publish message to the Google Cloud PubSub","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"projectId":"my-google-cloud-project-id","topicName":"my-pubsub-topic-name","messageAttributes":{},"serviceAccountKey":null,"serviceAccountKeyFileName":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodePubSubConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiB2aWV3Qm94PSIwIDAgMTI4IDEyOCI+Cjx0aXRsZT5DbG91ZCBQdWJTdWI8L3RpdGxlPgo8Zz4KPHBhdGggZD0iTTEyNi40Nyw1OC4xMmwtMjYuMy00NS43NEExMS41NiwxMS41NiwwLDAsMCw5MC4zMSw2LjVIMzcuN2ExMS41NSwxMS41NSwwLDAsMC05Ljg2LDUuODhMMS41Myw1OGExMS40OCwxMS40OCwwLDAsMCwwLDExLjQ0bDI2LjMsNDZhMTEuNzcsMTEuNzcsMCwwLDAsOS44Niw2LjA5SDkwLjNhMTEuNzMsMTEuNzMsMCwwLDAsOS44Ny02LjA2bDI2LjMtNDUuNzRBMTEuNzMsMTEuNzMsMCwwLDAsMTI2LjQ3LDU4LjEyWiIgc3R5bGU9ImZpbGw6ICM3MzViMmYiLz4KPHBhdGggZD0iTTg5LjIyLDQ3Ljc0LDgzLjM2LDQ5bC0xNC42LTE0LjZMNjQuMDksNDMuMSw2MS41NSw1My4ybDQuMjksNC4yOUw1Ny42LDU5LjE4LDQ2LjMsNDcuODhsLTcuNjcsNy4zOEw1Mi43Niw2OS4zN2wtMTUsMTEuOUw3OCwxMjEuNUg5MC4zYTExLjczLDExLjczLDAsMCwwLDkuODctNi4wNmwyMC43Mi0zNloiIHN0eWxlPSJvcGFjaXR5OiAwLjA3MDAwMDAwMDI5ODAyMztpc29sYXRpb246IGlzb2xhdGUiLz4KPHBhdGggZD0iTTgyLjg2LDQ3YTUuMzIsNS4zMiwwLDEsMS0xLjk1LDcuMjdBNS4zMiw1LjMyLDAsMCwxLDgyLjg2LDQ3IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNMzkuODIsNTYuMThhNS4zMiw1LjMyLDAsMSwxLDcuMjctMS45NSw1LjMyLDUuMzIsMCwwLDEtNy4yNywxLjk1IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNNjkuMzIsODguODVBNS4zMiw1LjMyLDAsMSwxLDY0LDgzLjUyYTUuMzIsNS4zMiwwLDAsMSw1LjMyLDUuMzIiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxnPgo8cGF0aCBkPSJNNjQsNTIuOTRhMTEuMDYsMTEuMDYsMCwwLDEsMi40Ni4yOFYzOS4xNUg2MS41NFY1My4yMkExMS4wNiwxMS4wNiwwLDAsMSw2NCw1Mi45NFoiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxwYXRoIGQ9Ik03NC41Nyw2Ny4yNmExMSwxMSwwLDAsMS0yLjQ3LDQuMjVsMTIuMTksNywyLjQ2LTQuMjZaIiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNNTMuNDMsNjcuMjZsLTEyLjE4LDcsMi40Niw0LjI2LDEyLjE5LTdBMTEsMTEsMCwwLDEsNTMuNDMsNjcuMjZaIiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8L2c+CjxwYXRoIGQ9Ik03Mi42LDY0QTguNiw4LjYsMCwxLDEsNjQsNTUuNCw4LjYsOC42LDAsMCwxLDcyLjYsNjQiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxwYXRoIGQ9Ik0zOS4xLDcwLjU3YTYuNzYsNi43NiwwLDEsMS0yLjQ3LDkuMjMsNi43Niw2Ljc2LDAsMCwxLDIuNDctOS4yMyIgc3R5bGU9ImZpbGw6ICNmZmYiLz4KPHBhdGggZD0iTTgyLjE0LDgyLjI3YTYuNzYsNi43NiwwLDEsMSw5LjIzLTIuNDcsNi43NSw2Ljc1LDAsMCwxLTkuMjMsMi40NyIgc3R5bGU9ImZpbGw6ICNmZmYiLz4KPHBhdGggZD0iTTcwLjc2LDM5LjE1QTYuNzYsNi43NiwwLDEsMSw2NCwzMi4zOWE2Ljc2LDYuNzYsMCwwLDEsNi43Niw2Ljc2IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8L2c+Cjwvc3ZnPgo=","docUrl":""}}, actions=null)
2020-12-18 09:54:50,657 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=gcp pubsub, clazz=org.thingsboard.rule.engine.gcp.pubsub.TbPubSubNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the Google Cloud Platform PubSub topic. Outbound message will contain response fields (<code>messageId</code> in the Message Metadata from the GCP PubSub. <b>messageId</b> field can be accessed with <code>metadata.messageId</code>.","description":"Publish message to the Google Cloud PubSub","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"projectId":"my-google-cloud-project-id","topicName":"my-pubsub-topic-name","messageAttributes":{},"serviceAccountKey":null,"serviceAccountKeyFileName":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodePubSubConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiB2aWV3Qm94PSIwIDAgMTI4IDEyOCI+Cjx0aXRsZT5DbG91ZCBQdWJTdWI8L3RpdGxlPgo8Zz4KPHBhdGggZD0iTTEyNi40Nyw1OC4xMmwtMjYuMy00NS43NEExMS41NiwxMS41NiwwLDAsMCw5MC4zMSw2LjVIMzcuN2ExMS41NSwxMS41NSwwLDAsMC05Ljg2LDUuODhMMS41Myw1OGExMS40OCwxMS40OCwwLDAsMCwwLDExLjQ0bDI2LjMsNDZhMTEuNzcsMTEuNzcsMCwwLDAsOS44Niw2LjA5SDkwLjNhMTEuNzMsMTEuNzMsMCwwLDAsOS44Ny02LjA2bDI2LjMtNDUuNzRBMTEuNzMsMTEuNzMsMCwwLDAsMTI2LjQ3LDU4LjEyWiIgc3R5bGU9ImZpbGw6ICM3MzViMmYiLz4KPHBhdGggZD0iTTg5LjIyLDQ3Ljc0LDgzLjM2LDQ5bC0xNC42LTE0LjZMNjQuMDksNDMuMSw2MS41NSw1My4ybDQuMjksNC4yOUw1Ny42LDU5LjE4LDQ2LjMsNDcuODhsLTcuNjcsNy4zOEw1Mi43Niw2OS4zN2wtMTUsMTEuOUw3OCwxMjEuNUg5MC4zYTExLjczLDExLjczLDAsMCwwLDkuODctNi4wNmwyMC43Mi0zNloiIHN0eWxlPSJvcGFjaXR5OiAwLjA3MDAwMDAwMDI5ODAyMztpc29sYXRpb246IGlzb2xhdGUiLz4KPHBhdGggZD0iTTgyLjg2LDQ3YTUuMzIsNS4zMiwwLDEsMS0xLjk1LDcuMjdBNS4zMiw1LjMyLDAsMCwxLDgyLjg2LDQ3IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNMzkuODIsNTYuMThhNS4zMiw1LjMyLDAsMSwxLDcuMjctMS45NSw1LjMyLDUuMzIsMCwwLDEtNy4yNywxLjk1IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNNjkuMzIsODguODVBNS4zMiw1LjMyLDAsMSwxLDY0LDgzLjUyYTUuMzIsNS4zMiwwLDAsMSw1LjMyLDUuMzIiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxnPgo8cGF0aCBkPSJNNjQsNTIuOTRhMTEuMDYsMTEuMDYsMCwwLDEsMi40Ni4yOFYzOS4xNUg2MS41NFY1My4yMkExMS4wNiwxMS4wNiwwLDAsMSw2NCw1Mi45NFoiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxwYXRoIGQ9Ik03NC41Nyw2Ny4yNmExMSwxMSwwLDAsMS0yLjQ3LDQuMjVsMTIuMTksNywyLjQ2LTQuMjZaIiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNNTMuNDMsNjcuMjZsLTEyLjE4LDcsMi40Niw0LjI2LDEyLjE5LTdBMTEsMTEsMCwwLDEsNTMuNDMsNjcuMjZaIiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8L2c+CjxwYXRoIGQ9Ik03Mi42LDY0QTguNiw4LjYsMCwxLDEsNjQsNTUuNCw4LjYsOC42LDAsMCwxLDcyLjYsNjQiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxwYXRoIGQ9Ik0zOS4xLDcwLjU3YTYuNzYsNi43NiwwLDEsMS0yLjQ3LDkuMjMsNi43Niw2Ljc2LDAsMCwxLDIuNDctOS4yMyIgc3R5bGU9ImZpbGw6ICNmZmYiLz4KPHBhdGggZD0iTTgyLjE0LDgyLjI3YTYuNzYsNi43NiwwLDEsMSw5LjIzLTIuNDcsNi43NSw2Ljc1LDAsMCwxLTkuMjMsMi40NyIgc3R5bGU9ImZpbGw6ICNmZmYiLz4KPHBhdGggZD0iTTcwLjc2LDM5LjE1QTYuNzYsNi43NiwwLDEsMSw2NCwzMi4zOWE2Ljc2LDYuNzYsMCwwLDEsNi43Niw2Ljc2IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8L2c+Cjwvc3ZnPgo=","docUrl":""}}, actions=null)
2020-12-18 09:54:50,662 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=send email, clazz=org.thingsboard.rule.engine.mail.TbSendEmailNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with <b>SEND_EMAIL</b> type. Node works only with messages that  where created using <code>to Email</code> transformation Node, please connect this Node with <code>to Email</code> Node using <code>Successful</code> chain.","description":"Sends email message via SMTP server.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"useSystemSmtpSettings":true,"smtpHost":"localhost","smtpPort":25,"username":null,"password":null,"smtpProtocol":"smtp","timeout":10000,"enableTls":false,"tlsVersion":"TLSv1.2","enableProxy":false,"proxyHost":null,"proxyPort":null,"proxyUser":null,"proxyPassword":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSendEmailConfig","icon":"send","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,665 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=send email, clazz=org.thingsboard.rule.engine.mail.TbSendEmailNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with <b>SEND_EMAIL</b> type. Node works only with messages that  where created using <code>to Email</code> transformation Node, please connect this Node with <code>to Email</code> Node using <code>Successful</code> chain.","description":"Sends email message via SMTP server.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"useSystemSmtpSettings":true,"smtpHost":"localhost","smtpPort":25,"username":null,"password":null,"smtpProtocol":"smtp","timeout":10000,"enableTls":false,"tlsVersion":"TLSv1.2","enableProxy":false,"proxyHost":null,"proxyPort":null,"proxyUser":null,"proxyPassword":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSendEmailConfig","icon":"send","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,712 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=tenant details, clazz=org.thingsboard.rule.engine.metadata.TbGetTenantDetailsNode, configurationDescriptor={"nodeDefinition":{"details":"If checkbox: <b>Add selected details to the message metadata</b> is selected, existing fields will be added to the message metadata instead of message data.<br><br><b>Note:</b> only Device, Asset, and Entity View type are allowed.<br><br>If the originator of the message is not assigned to Tenant, or originator type is not supported - Message will be forwarded to <b>Failure</b> chain, otherwise, <b>Success</b> chain will be used.","description":"Adds fields from Tenant details to the message body or metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"detailsList":[],"addToMetadata":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeEntityDetailsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,716 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=tenant details, clazz=org.thingsboard.rule.engine.metadata.TbGetTenantDetailsNode, configurationDescriptor={"nodeDefinition":{"details":"If checkbox: <b>Add selected details to the message metadata</b> is selected, existing fields will be added to the message metadata instead of message data.<br><br><b>Note:</b> only Device, Asset, and Entity View type are allowed.<br><br>If the originator of the message is not assigned to Tenant, or originator type is not supported - Message will be forwarded to <b>Failure</b> chain, otherwise, <b>Success</b> chain will be used.","description":"Adds fields from Tenant details to the message body or metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"detailsList":[],"addToMetadata":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeEntityDetailsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,723 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=save attributes, clazz=org.thingsboard.rule.engine.telemetry.TbMsgAttributesNode, configurationDescriptor={"nodeDefinition":{"details":"Saves entity attributes based on configurable scope parameter. Expects messages with 'POST_ATTRIBUTES_REQUEST' message type","description":"Saves attributes data","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"scope":"SERVER_SCOPE","notifyDevice":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAttributesConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,726 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=save attributes, clazz=org.thingsboard.rule.engine.telemetry.TbMsgAttributesNode, configurationDescriptor={"nodeDefinition":{"details":"Saves entity attributes based on configurable scope parameter. Expects messages with 'POST_ATTRIBUTES_REQUEST' message type","description":"Saves attributes data","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"scope":"SERVER_SCOPE","notifyDevice":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAttributesConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,734 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=create relation, clazz=org.thingsboard.rule.engine.action.TbCreateRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation already exists or successfully created -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and (entity type pattern for Asset, Device) and then create a relation to Originator Entity by type and direction. If Selected entity type: Asset, Device or Customer will create new Entity if it doesn't exist and selected checkbox 'Create new entity if not exists'.<br> In case that relation from the message originator to the selected entity not exist and  If selected checkbox 'Remove current relations', before creating the new relation all existed relations to message originator by type and direction will be removed.<br> If relation from the message originator to the selected entity created and If selected checkbox 'Change originator to related entity', outbound message will be processed as a message from this entity.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"createEntityIfNotExists":false,"changeOriginatorToRelatedEntity":false,"removeCurrentRelations":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCreateRelationConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,739 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component ComponentDescriptor(type=ACTION, scope=TENANT, name=create relation, clazz=org.thingsboard.rule.engine.action.TbCreateRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation already exists or successfully created -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and (entity type pattern for Asset, Device) and then create a relation to Originator Entity by type and direction. If Selected entity type: Asset, Device or Customer will create new Entity if it doesn't exist and selected checkbox 'Create new entity if not exists'.<br> In case that relation from the message originator to the selected entity not exist and  If selected checkbox 'Remove current relations', before creating the new relation all existed relations to message originator by type and direction will be removed.<br> If relation from the message originator to the selected entity created and If selected checkbox 'Change originator to related entity', outbound message will be processed as a message from this entity.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"createEntityIfNotExists":false,"changeOriginatorToRelatedEntity":false,"removeCurrentRelations":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCreateRelationConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null) will be updated to ComponentDescriptor(type=ACTION, scope=TENANT, name=create relation, clazz=org.thingsboard.rule.engine.action.TbCreateRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation already exists or successfully created -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and (entity type pattern for Asset, Device) and then create a relation to Originator Entity by type and direction. If Selected entity type: Asset, Device or Customer will create new Entity if it doesn't exist and selected checkbox 'Create new entity if not exists'.<br> In case that relation from the message originator to the selected entity not exist and  If selected checkbox 'Remove current relations', before creating the new relation all existed relations to message originator by type and direction will be removed.<br> If relation from the message originator to the selected entity created and If selected checkbox 'Change originator to related entity', outbound message will be processed as a message from this entity.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"createEntityIfNotExists":false,"changeOriginatorToRelatedEntity":false,"removeCurrentRelations":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCreateRelationConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,858 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=generator, clazz=org.thingsboard.rule.engine.debug.TbMsgGeneratorNode, configurationDescriptor={"nodeDefinition":{"details":"Generates messages with configurable period. Javascript function used for message generation.","description":"Periodically generates messages","inEnabled":false,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"msgCount":0,"periodInSeconds":1,"originatorId":null,"originatorType":null,"jsScript":"var msg = { temp: 42, humidity: 77 };\nvar metadata = { data: 40 };\nvar msgType = \"POST_TELEMETRY_REQUEST\";\n\nreturn { msg: msg, metadata: metadata, msgType: msgType };"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeGeneratorConfig","icon":"repeat","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,862 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=generator, clazz=org.thingsboard.rule.engine.debug.TbMsgGeneratorNode, configurationDescriptor={"nodeDefinition":{"details":"Generates messages with configurable period. Javascript function used for message generation.","description":"Periodically generates messages","inEnabled":false,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"msgCount":0,"periodInSeconds":1,"originatorId":null,"originatorType":null,"jsScript":"var msg = { temp: 42, humidity: 77 };\nvar metadata = { data: 40 };\nvar msgType = \"POST_TELEMETRY_REQUEST\";\n\nreturn { msg: msg, metadata: metadata, msgType: msgType };"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeGeneratorConfig","icon":"repeat","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,866 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=delay, clazz=org.thingsboard.rule.engine.delay.TbMsgDelayNode, configurationDescriptor={"nodeDefinition":{"details":"Delays messages for configurable period. Please note, this node acknowledges the message from the current queue (message will be removed from queue)","description":"Delays incoming message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"periodInSeconds":60,"maxPendingMsgs":1000,"periodInSecondsPattern":null,"useMetadataPeriodInSecondsPatterns":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMsgDelayConfig","icon":"pause","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,869 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=delay, clazz=org.thingsboard.rule.engine.delay.TbMsgDelayNode, configurationDescriptor={"nodeDefinition":{"details":"Delays messages for configurable period. Please note, this node acknowledges the message from the current queue (message will be removed from queue)","description":"Delays incoming message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"periodInSeconds":60,"maxPendingMsgs":1000,"periodInSecondsPattern":null,"useMetadataPeriodInSecondsPatterns":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMsgDelayConfig","icon":"pause","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,874 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator fields, clazz=org.thingsboard.rule.engine.metadata.TbGetOriginatorFieldsNode, configurationDescriptor={"nodeDefinition":{"details":"Will fetch fields values specified in mapping. If specified field is not part of originator fields it will be ignored.","description":"Add Message Originator fields values into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"fieldsMapping":{"name":"originatorName","type":"originatorType"}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeOriginatorFieldsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,877 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator fields, clazz=org.thingsboard.rule.engine.metadata.TbGetOriginatorFieldsNode, configurationDescriptor={"nodeDefinition":{"details":"Will fetch fields values specified in mapping. If specified field is not part of originator fields it will be ignored.","description":"Add Message Originator fields values into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"fieldsMapping":{"name":"originatorName","type":"originatorType"}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeOriginatorFieldsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,884 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=create alarm, clazz=org.thingsboard.rule.engine.action.TbCreateAlarmNode, configurationDescriptor={"nodeDefinition":{"details":"Details - JS function that creates JSON object based on incoming message. This object will be added into Alarm.details field.\nNode output:\nIf alarm was not created, original message is returned. Otherwise new Message returned with type 'ALARM', Alarm object in 'msg' property and 'metadata' will contains one of those properties 'isNewAlarm/isExistingAlarm'. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Create or Update Alarm","inEnabled":true,"outEnabled":true,"relationTypes":["Created","Updated","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmType":"General Alarm","alarmDetailsBuildJs":"var details = {};\nif (metadata.prevAlarmDetails) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n}\nreturn details;","severity":"CRITICAL","propagate":false,"useMessageAlarmData":false,"relationTypes":[]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCreateAlarmConfig","icon":"notifications_active","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,888 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=create alarm, clazz=org.thingsboard.rule.engine.action.TbCreateAlarmNode, configurationDescriptor={"nodeDefinition":{"details":"Details - JS function that creates JSON object based on incoming message. This object will be added into Alarm.details field.\nNode output:\nIf alarm was not created, original message is returned. Otherwise new Message returned with type 'ALARM', Alarm object in 'msg' property and 'metadata' will contains one of those properties 'isNewAlarm/isExistingAlarm'. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Create or Update Alarm","inEnabled":true,"outEnabled":true,"relationTypes":["Created","Updated","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmType":"General Alarm","alarmDetailsBuildJs":"var details = {};\nif (metadata.prevAlarmDetails) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n}\nreturn details;","severity":"CRITICAL","propagate":false,"useMessageAlarmData":false,"relationTypes":[]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCreateAlarmConfig","icon":"notifications_active","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,897 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=related attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetRelatedAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"Related Entity found using configured relation direction and Relation Type. If multiple Related Entities are found, only first Entity is used for attributes enrichment, other entities are discarded. If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Related Entity Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"relationsQuery":{"direction":"FROM","maxLevel":1,"filters":[{"relationType":"Contains","entityTypes":[]}],"fetchLastLevelOnly":false},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeRelatedAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,900 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=related attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetRelatedAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"Related Entity found using configured relation direction and Relation Type. If multiple Related Entities are found, only first Entity is used for attributes enrichment, other entities are discarded. If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Related Entity Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"relationsQuery":{"direction":"FROM","maxLevel":1,"filters":[{"relationType":"Contains","entityTypes":[]}],"fetchLastLevelOnly":false},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeRelatedAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,904 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=to email, clazz=org.thingsboard.rule.engine.mail.TbMsgToEmailNode, configurationDescriptor={"nodeDefinition":{"details":"Transforms message to email message by populating email fields using values derived from message metadata. Set 'SEND_EMAIL' output message type.","description":"Transforms message to email message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"fromTemplate":"info@testmail.org","toTemplate":"${userEmail}","ccTemplate":null,"bccTemplate":null,"subjectTemplate":"Device ${deviceType} temperature high","bodyTemplate":"Device ${deviceName} has high temperature ${temp}"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeToEmailConfig","icon":"email","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,908 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=to email, clazz=org.thingsboard.rule.engine.mail.TbMsgToEmailNode, configurationDescriptor={"nodeDefinition":{"details":"Transforms message to email message by populating email fields using values derived from message metadata. Set 'SEND_EMAIL' output message type.","description":"Transforms message to email message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"fromTemplate":"info@testmail.org","toTemplate":"${userEmail}","ccTemplate":null,"bccTemplate":null,"subjectTemplate":"Device ${deviceType} temperature high","bodyTemplate":"Device ${deviceName} has high temperature ${temp}"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeToEmailConfig","icon":"email","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,913 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=change originator, clazz=org.thingsboard.rule.engine.transform.TbChangeOriginatorNode, configurationDescriptor={"nodeDefinition":{"details":"Related Entity found using configured relation direction and Relation Type. If multiple Related Entities are found, only first Entity is used as new Originator, other entities are discarded.<br/>Alarm Originator found only in case original Originator is <code>Alarm</code> entity.","description":"Change Message Originator To Tenant/Customer/Related Entity/Alarm Originator","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"originatorSource":"CUSTOMER","relationsQuery":{"direction":"FROM","maxLevel":1,"filters":[{"relationType":"Contains","entityTypes":[]}],"fetchLastLevelOnly":false}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeChangeOriginatorConfig","icon":"find_replace","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,916 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=change originator, clazz=org.thingsboard.rule.engine.transform.TbChangeOriginatorNode, configurationDescriptor={"nodeDefinition":{"details":"Related Entity found using configured relation direction and Relation Type. If multiple Related Entities are found, only first Entity is used as new Originator, other entities are discarded.<br/>Alarm Originator found only in case original Originator is <code>Alarm</code> entity.","description":"Change Message Originator To Tenant/Customer/Related Entity/Alarm Originator","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"originatorSource":"CUSTOMER","relationsQuery":{"direction":"FROM","maxLevel":1,"filters":[{"relationType":"Contains","entityTypes":[]}],"fetchLastLevelOnly":false}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeChangeOriginatorConfig","icon":"find_replace","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,925 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=device profile, clazz=org.thingsboard.rule.engine.profile.TbDeviceProfileNode, configurationDescriptor={"nodeDefinition":{"details":"Create and clear alarms based on alarm rules defined in device profile. The output relation type is either 'Alarm Created', 'Alarm Updated', 'Alarm Severity Updated' and 'Alarm Cleared' or simply 'Success' if no alarms were affected.","description":"Process device messages based on device profile settings","inEnabled":true,"outEnabled":true,"relationTypes":["Alarm Created","Alarm Updated","Alarm Severity Updated","Alarm Cleared","Success","Failure"],"customRelations":true,"defaultConfiguration":{"persistAlarmRulesState":false,"fetchAlarmRulesStateOnStart":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbDeviceProfileConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,928 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=device profile, clazz=org.thingsboard.rule.engine.profile.TbDeviceProfileNode, configurationDescriptor={"nodeDefinition":{"details":"Create and clear alarms based on alarm rules defined in device profile. The output relation type is either 'Alarm Created', 'Alarm Updated', 'Alarm Severity Updated' and 'Alarm Cleared' or simply 'Success' if no alarms were affected.","description":"Process device messages based on device profile settings","inEnabled":true,"outEnabled":true,"relationTypes":["Alarm Created","Alarm Updated","Alarm Severity Updated","Alarm Cleared","Success","Failure"],"customRelations":true,"defaultConfiguration":{"persistAlarmRulesState":false,"fetchAlarmRulesStateOnStart":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbDeviceProfileConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,932 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=log, clazz=org.thingsboard.rule.engine.action.TbLogNode, configurationDescriptor={"nodeDefinition":{"details":"Transform incoming Message with configured JS function to String and log final value into Thingsboard log file. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Log incoming messages using JS script for transformation Message into String","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return 'Incoming message:\\n' + JSON.stringify(msg) + '\\nIncoming metadata:\\n' + JSON.stringify(metadata);"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeLogConfig","icon":"menu","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,935 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=log, clazz=org.thingsboard.rule.engine.action.TbLogNode, configurationDescriptor={"nodeDefinition":{"details":"Transform incoming Message with configured JS function to String and log final value into Thingsboard log file. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Log incoming messages using JS script for transformation Message into String","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return 'Incoming message:\\n' + JSON.stringify(msg) + '\\nIncoming metadata:\\n' + JSON.stringify(metadata);"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeLogConfig","icon":"menu","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,942 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=gps geofencing filter, clazz=org.thingsboard.rule.engine.geo.TbGpsGeofencingFilterNode, configurationDescriptor={"nodeDefinition":{"details":"Extracts latitude and longitude parameters from incoming message and returns 'True' if they are inside configured perimeters, 'False' otherwise.","description":"Filter incoming messages by GPS based geofencing","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"latitudeKeyName":"latitude","longitudeKeyName":"longitude","fetchPerimeterInfoFromMessageMetadata":true,"perimeterType":null,"polygonsDefinition":null,"centerLatitude":null,"centerLongitude":null,"range":null,"rangeUnit":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeGpsGeofencingConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,944 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=gps geofencing filter, clazz=org.thingsboard.rule.engine.geo.TbGpsGeofencingFilterNode, configurationDescriptor={"nodeDefinition":{"details":"Extracts latitude and longitude parameters from incoming message and returns 'True' if they are inside configured perimeters, 'False' otherwise.","description":"Filter incoming messages by GPS based geofencing","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"latitudeKeyName":"latitude","longitudeKeyName":"longitude","fetchPerimeterInfoFromMessageMetadata":true,"perimeterType":null,"polygonsDefinition":null,"centerLatitude":null,"centerLongitude":null,"range":null,"rangeUnit":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeGpsGeofencingConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,948 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=check alarm status, clazz=org.thingsboard.rule.engine.filter.TbCheckAlarmStatusNode, configurationDescriptor={"nodeDefinition":{"details":"If the alarm status matches the specified one - msg is success if does not match - msg is failure.","description":"Checks alarm status.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmStatusList":["ACTIVE_ACK","ACTIVE_UNACK"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckAlarmStatusConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,951 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=check alarm status, clazz=org.thingsboard.rule.engine.filter.TbCheckAlarmStatusNode, configurationDescriptor={"nodeDefinition":{"details":"If the alarm status matches the specified one - msg is success if does not match - msg is failure.","description":"Checks alarm status.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmStatusList":["ACTIVE_ACK","ACTIVE_UNACK"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckAlarmStatusConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,953 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=message type switch, clazz=org.thingsboard.rule.engine.filter.TbMsgTypeSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Sends messages with message types <b>\"Post attributes\", \"Post telemetry\", \"RPC Request\"</b> etc. via corresponding chain, otherwise <b>Other</b> chain is used.","description":"Route incoming messages by Message Type","inEnabled":true,"outEnabled":true,"relationTypes":["Post attributes","Post telemetry","RPC Request from Device","RPC Request to Device","Activity Event","Inactivity Event","Connect Event","Disconnect Event","Entity Created","Entity Updated","Entity Deleted","Entity Assigned","Entity Unassigned","Attributes Updated","Attributes Deleted","Alarm Acknowledged","Alarm Cleared","Other","Entity Assigned From Tenant","Entity Assigned To Tenant","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,956 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=message type switch, clazz=org.thingsboard.rule.engine.filter.TbMsgTypeSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Sends messages with message types <b>\"Post attributes\", \"Post telemetry\", \"RPC Request\"</b> etc. via corresponding chain, otherwise <b>Other</b> chain is used.","description":"Route incoming messages by Message Type","inEnabled":true,"outEnabled":true,"relationTypes":["Post attributes","Post telemetry","RPC Request from Device","RPC Request to Device","Activity Event","Inactivity Event","Connect Event","Disconnect Event","Entity Created","Entity Updated","Entity Deleted","Entity Assigned","Entity Unassigned","Attributes Updated","Attributes Deleted","Alarm Acknowledged","Alarm Cleared","Other","Entity Assigned From Tenant","Entity Assigned To Tenant","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,961 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=unassign from customer, clazz=org.thingsboard.rule.engine.action.TbUnassignFromCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Entity Customer by Customer name pattern and then unassign Originator Entity from this customer.","description":"Unassign Message Originator Entity from Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeUnAssignToCustomerConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,965 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component ComponentDescriptor(type=ACTION, scope=TENANT, name=unassign from customer, clazz=org.thingsboard.rule.engine.action.TbUnassignFromCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Entity Customer by Customer name pattern and then unassign Originator Entity from this customer.","description":"Unassign Message Originator Entity from Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeUnAssignToCustomerConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null) will be updated to ComponentDescriptor(type=ACTION, scope=TENANT, name=unassign from customer, clazz=org.thingsboard.rule.engine.action.TbUnassignFromCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Entity Customer by Customer name pattern and then unassign Originator Entity from this customer.","description":"Unassign Message Originator Entity from Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeUnAssignToCustomerConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,993 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=copy to view, clazz=org.thingsboard.rule.engine.action.TbCopyAttributesToEntityViewNode, configurationDescriptor={"nodeDefinition":{"details":"Copy attributes from asset/device to related entity view according to entity view configuration. \n Copy will be done only for attributes that are between start and end dates and according to attribute keys configuration. \nChanges message originator to related entity view and produces new messages according to count of updated entity views","description":"Copy attributes from asset/device to entity view and changes message originator to related entity view","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"content_copy","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,995 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=copy to view, clazz=org.thingsboard.rule.engine.action.TbCopyAttributesToEntityViewNode, configurationDescriptor={"nodeDefinition":{"details":"Copy attributes from asset/device to related entity view according to entity view configuration. \n Copy will be done only for attributes that are between start and end dates and according to attribute keys configuration. \nChanges message originator to related entity view and produces new messages according to count of updated entity views","description":"Copy attributes from asset/device to entity view and changes message originator to related entity view","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"content_copy","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:50,998 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=clear alarm, clazz=org.thingsboard.rule.engine.action.TbClearAlarmNode, configurationDescriptor={"nodeDefinition":{"details":"Details - JS function that creates JSON object based on incoming message. This object will be added into Alarm.details field.\nNode output:\nIf alarm was not cleared, original message is returned. Otherwise new Message returned with type 'ALARM', Alarm object in 'msg' property and 'metadata' will contains 'isClearedAlarm' property. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Clear Alarm","inEnabled":true,"outEnabled":true,"relationTypes":["Cleared","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmType":"General Alarm","alarmDetailsBuildJs":"var details = {};\nif (metadata.prevAlarmDetails) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n}\nreturn details;"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeClearAlarmConfig","icon":"notifications_off","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,000 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=clear alarm, clazz=org.thingsboard.rule.engine.action.TbClearAlarmNode, configurationDescriptor={"nodeDefinition":{"details":"Details - JS function that creates JSON object based on incoming message. This object will be added into Alarm.details field.\nNode output:\nIf alarm was not cleared, original message is returned. Otherwise new Message returned with type 'ALARM', Alarm object in 'msg' property and 'metadata' will contains 'isClearedAlarm' property. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Clear Alarm","inEnabled":true,"outEnabled":true,"relationTypes":["Cleared","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmType":"General Alarm","alarmDetailsBuildJs":"var details = {};\nif (metadata.prevAlarmDetails) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n}\nreturn details;"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeClearAlarmConfig","icon":"notifications_off","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,009 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=save to custom table, clazz=org.thingsboard.rule.engine.action.TbSaveToCustomCassandraTableNode, configurationDescriptor={"nodeDefinition":{"details":"Administrator should set the custom table name without prefix: <b>cs_tb_</b>. <br>Administrator can configure the mapping between the Message field names and Table columns name.<br><b>Note:</b>If the mapping key is <b>$entity_id</b>, that is identified by the Message Originator, then to the appropriate column name(mapping value) will be write the message originator id.<br><br>If specified message field does not exist or is not a JSON Primitive, the outbound message will be routed via <b>failure</b> chain, otherwise, the message will be routed via <b>success</b> chain.","description":"Node stores data from incoming Message payload to the Cassandra database into the predefined custom table that should have <b>cs_tb_</b> prefix, to avoid the data insertion to the common TB tables.<br><b>Note:</b> rule node can be used only for Cassandra DB.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"tableName":"","fieldsMapping":{"":""}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCustomTableConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,011 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=save to custom table, clazz=org.thingsboard.rule.engine.action.TbSaveToCustomCassandraTableNode, configurationDescriptor={"nodeDefinition":{"details":"Administrator should set the custom table name without prefix: <b>cs_tb_</b>. <br>Administrator can configure the mapping between the Message field names and Table columns name.<br><b>Note:</b>If the mapping key is <b>$entity_id</b>, that is identified by the Message Originator, then to the appropriate column name(mapping value) will be write the message originator id.<br><br>If specified message field does not exist or is not a JSON Primitive, the outbound message will be routed via <b>failure</b> chain, otherwise, the message will be routed via <b>success</b> chain.","description":"Node stores data from incoming Message payload to the Cassandra database into the predefined custom table that should have <b>cs_tb_</b> prefix, to avoid the data insertion to the common TB tables.<br><b>Note:</b> rule node can be used only for Cassandra DB.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"tableName":"","fieldsMapping":{"":""}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCustomTableConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,017 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetAttributesNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, <b>CLIENT/SHARED/SERVER</b> attributes are added into Message metadata with specific prefix: <i>cs/shared/ss</i>. Latest telemetry value added into metadata without prefix. To access those attributes in other nodes this template can be used <code>metadata.cs_temperature</code> or <code>metadata.shared_limit</code> ","description":"Add Message Originator Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"clientAttributeNames":[],"sharedAttributeNames":[],"serverAttributeNames":[],"latestTsKeyNames":[],"tellFailureIfAbsent":true,"getLatestValueWithTs":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeOriginatorAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,021 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetAttributesNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, <b>CLIENT/SHARED/SERVER</b> attributes are added into Message metadata with specific prefix: <i>cs/shared/ss</i>. Latest telemetry value added into metadata without prefix. To access those attributes in other nodes this template can be used <code>metadata.cs_temperature</code> or <code>metadata.shared_limit</code> ","description":"Add Message Originator Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"clientAttributeNames":[],"sharedAttributeNames":[],"serverAttributeNames":[],"latestTsKeyNames":[],"tellFailureIfAbsent":true,"getLatestValueWithTs":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeOriginatorAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,025 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=checkpoint, clazz=org.thingsboard.rule.engine.flow.TbCheckpointNode, configurationDescriptor={"nodeDefinition":{"details":"After successful transfer incoming message is automatically acknowledged. Queue name is configurable.","description":"transfers the message to another queue","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"queueName":"HighPriority"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCheckPointConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,028 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=checkpoint, clazz=org.thingsboard.rule.engine.flow.TbCheckpointNode, configurationDescriptor={"nodeDefinition":{"details":"After successful transfer incoming message is automatically acknowledged. Queue name is configurable.","description":"transfers the message to another queue","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"queueName":"HighPriority"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCheckPointConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,033 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=message type, clazz=org.thingsboard.rule.engine.filter.TbMsgTypeFilterNode, configurationDescriptor={"nodeDefinition":{"details":"If incoming MessageType is expected - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Filter incoming messages by Message Type","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"messageTypes":["POST_ATTRIBUTES_REQUEST","POST_TELEMETRY_REQUEST","TO_SERVER_RPC_REQUEST"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeMessageTypeConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,037 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=message type, clazz=org.thingsboard.rule.engine.filter.TbMsgTypeFilterNode, configurationDescriptor={"nodeDefinition":{"details":"If incoming MessageType is expected - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Filter incoming messages by Message Type","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"messageTypes":["POST_ATTRIBUTES_REQUEST","POST_TELEMETRY_REQUEST","TO_SERVER_RPC_REQUEST"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeMessageTypeConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,049 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=aws sqs, clazz=org.thingsboard.rule.engine.aws.sqs.TbSqsNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload and metadata attributes to the AWS SQS queue. Outbound message will contain response fields (<code>messageId</code>, <code>requestId</code>, <code>messageBodyMd5</code>, <code>messageAttributesMd5</code>, <code>sequenceNumber</code>) in the Message Metadata from the AWS SQS. For example <b>requestId</b> field can be accessed with <code>metadata.requestId</code>.","description":"Publish messages to the AWS SQS","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"queueType":"STANDARD","queueUrlPattern":"https://sqs.us-east-1.amazonaws.com/123456789012/my-queue-name","delaySeconds":0,"messageAttributes":{},"accessKeyId":null,"secretAccessKey":null,"region":"us-east-1"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSqsConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48cGF0aCBkPSJNMTMuMjMgMTAuNTZWMTBjLTEuOTQgMC0zLjk5LjM5LTMuOTkgMi42NyAwIDEuMTYuNjEgMS45NSAxLjYzIDEuOTUuNzYgMCAxLjQzLS40NyAxLjg2LTEuMjIuNTItLjkzLjUtMS44LjUtMi44NG0yLjcgNi41M2MtLjE4LjE2LS40My4xNy0uNjMuMDYtLjg5LS43NC0xLjA1LTEuMDgtMS41NC0xLjc5LTEuNDcgMS41LTIuNTEgMS45NS00LjQyIDEuOTUtMi4yNSAwLTQuMDEtMS4zOS00LjAxLTQuMTcgMC0yLjE4IDEuMTctMy42NCAyLjg2LTQuMzggMS40Ni0uNjQgMy40OS0uNzYgNS4wNC0uOTNWNy41YzAtLjY2LjA1LTEuNDEtLjMzLTEuOTYtLjMyLS40OS0uOTUtLjctMS41LS43LTEuMDIgMC0xLjkzLjUzLTIuMTUgMS42MS0uMDUuMjQtLjI1LjQ4LS40Ny40OWwtMi42LS4yOGMtLjIyLS4wNS0uNDYtLjIyLS40LS41Ni42LTMuMTUgMy40NS00LjEgNi00LjEgMS4zIDAgMyAuMzUgNC4wMyAxLjMzQzE3LjExIDQuNTUgMTcgNi4xOCAxNyA3Ljk1djQuMTdjMCAxLjI1LjUgMS44MSAxIDIuNDguMTcuMjUuMjEuNTQgMCAuNzFsLTIuMDYgMS43OGgtLjAxIj48L3BhdGg+PHBhdGggZD0iTTIwLjE2IDE5LjU0QzE4IDIxLjE0IDE0LjgyIDIyIDEyLjEgMjJjLTMuODEgMC03LjI1LTEuNDEtOS44NS0zLjc2LS4yLS4xOC0uMDItLjQzLjI1LS4yOSAyLjc4IDEuNjMgNi4yNSAyLjYxIDkuODMgMi42MSAyLjQxIDAgNS4wNy0uNSA3LjUxLTEuNTMuMzctLjE2LjY2LjI0LjMyLjUxIj48L3BhdGg+PHBhdGggZD0iTTIxLjA3IDE4LjVjLS4yOC0uMzYtMS44NS0uMTctMi41Ny0uMDgtLjE5LjAyLS4yMi0uMTYtLjAzLS4zIDEuMjQtLjg4IDMuMjktLjYyIDMuNTMtLjMzLjI0LjMtLjA3IDIuMzUtMS4yNCAzLjMyLS4xOC4xNi0uMzUuMDctLjI2LS4xMS4yNi0uNjcuODUtMi4xNC41Ny0yLjV6Ij48L3BhdGg+PC9zdmc+","docUrl":""}}, actions=null)
2020-12-18 09:54:51,054 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=aws sqs, clazz=org.thingsboard.rule.engine.aws.sqs.TbSqsNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload and metadata attributes to the AWS SQS queue. Outbound message will contain response fields (<code>messageId</code>, <code>requestId</code>, <code>messageBodyMd5</code>, <code>messageAttributesMd5</code>, <code>sequenceNumber</code>) in the Message Metadata from the AWS SQS. For example <b>requestId</b> field can be accessed with <code>metadata.requestId</code>.","description":"Publish messages to the AWS SQS","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"queueType":"STANDARD","queueUrlPattern":"https://sqs.us-east-1.amazonaws.com/123456789012/my-queue-name","delaySeconds":0,"messageAttributes":{},"accessKeyId":null,"secretAccessKey":null,"region":"us-east-1"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSqsConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48cGF0aCBkPSJNMTMuMjMgMTAuNTZWMTBjLTEuOTQgMC0zLjk5LjM5LTMuOTkgMi42NyAwIDEuMTYuNjEgMS45NSAxLjYzIDEuOTUuNzYgMCAxLjQzLS40NyAxLjg2LTEuMjIuNTItLjkzLjUtMS44LjUtMi44NG0yLjcgNi41M2MtLjE4LjE2LS40My4xNy0uNjMuMDYtLjg5LS43NC0xLjA1LTEuMDgtMS41NC0xLjc5LTEuNDcgMS41LTIuNTEgMS45NS00LjQyIDEuOTUtMi4yNSAwLTQuMDEtMS4zOS00LjAxLTQuMTcgMC0yLjE4IDEuMTctMy42NCAyLjg2LTQuMzggMS40Ni0uNjQgMy40OS0uNzYgNS4wNC0uOTNWNy41YzAtLjY2LjA1LTEuNDEtLjMzLTEuOTYtLjMyLS40OS0uOTUtLjctMS41LS43LTEuMDIgMC0xLjkzLjUzLTIuMTUgMS42MS0uMDUuMjQtLjI1LjQ4LS40Ny40OWwtMi42LS4yOGMtLjIyLS4wNS0uNDYtLjIyLS40LS41Ni42LTMuMTUgMy40NS00LjEgNi00LjEgMS4zIDAgMyAuMzUgNC4wMyAxLjMzQzE3LjExIDQuNTUgMTcgNi4xOCAxNyA3Ljk1djQuMTdjMCAxLjI1LjUgMS44MSAxIDIuNDguMTcuMjUuMjEuNTQgMCAuNzFsLTIuMDYgMS43OGgtLjAxIj48L3BhdGg+PHBhdGggZD0iTTIwLjE2IDE5LjU0QzE4IDIxLjE0IDE0LjgyIDIyIDEyLjEgMjJjLTMuODEgMC03LjI1LTEuNDEtOS44NS0zLjc2LS4yLS4xOC0uMDItLjQzLjI1LS4yOSAyLjc4IDEuNjMgNi4yNSAyLjYxIDkuODMgMi42MSAyLjQxIDAgNS4wNy0uNSA3LjUxLTEuNTMuMzctLjE2LjY2LjI0LjMyLjUxIj48L3BhdGg+PHBhdGggZD0iTTIxLjA3IDE4LjVjLS4yOC0uMzYtMS44NS0uMTctMi41Ny0uMDgtLjE5LjAyLS4yMi0uMTYtLjAzLS4zIDEuMjQtLjg4IDMuMjktLjYyIDMuNTMtLjMzLjI0LjMtLjA3IDIuMzUtMS4yNCAzLjMyLS4xOC4xNi0uMzUuMDctLjI2LS4xMS4yNi0uNjcuODUtMi4xNC41Ny0yLjV6Ij48L3BhdGg+PC9zdmc+","docUrl":""}}, actions=null)
2020-12-18 09:54:51,066 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=kafka, clazz=org.thingsboard.rule.engine.kafka.TbKafkaNode, configurationDescriptor={"nodeDefinition":{"details":"Will send record via Kafka producer to Kafka server. Outbound message will contain response fields (<code>offset</code>, <code>partition</code>, <code>topic</code>) from the Kafka in the Message Metadata. For example <b>partition</b> field can be accessed with <code>metadata.partition</code>.","description":"Publish messages to Kafka server","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"my-topic","bootstrapServers":"localhost:9092","retries":0,"batchSize":16384,"linger":0,"bufferMemory":33554432,"acks":"-1","keySerializer":"org.apache.kafka.common.serialization.StringSerializer","valueSerializer":"org.apache.kafka.common.serialization.StringSerializer","otherProperties":{},"addMetadataKeyValuesAsKafkaHeaders":false,"kafkaHeadersCharset":"UTF-8"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeKafkaConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUzOCIgaGVpZ2h0PSIyNTAwIiB2aWV3Qm94PSIwIDAgMjU2IDQxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PHBhdGggZD0iTTIwMS44MTYgMjMwLjIxNmMtMTYuMTg2IDAtMzAuNjk3IDcuMTcxLTQwLjYzNCAxOC40NjFsLTI1LjQ2My0xOC4wMjZjMi43MDMtNy40NDIgNC4yNTUtMTUuNDMzIDQuMjU1LTIzLjc5NyAwLTguMjE5LTEuNDk4LTE2LjA3Ni00LjExMi0yMy40MDhsMjUuNDA2LTE3LjgzNWM5LjkzNiAxMS4yMzMgMjQuNDA5IDE4LjM2NSA0MC41NDggMTguMzY1IDI5Ljg3NSAwIDU0LjE4NC0yNC4zMDUgNTQuMTg0LTU0LjE4NCAwLTI5Ljg3OS0yNC4zMDktNTQuMTg0LTU0LjE4NC01NC4xODQtMjkuODc1IDAtNTQuMTg0IDI0LjMwNS01NC4xODQgNTQuMTg0IDAgNS4zNDguODA4IDEwLjUwNSAyLjI1OCAxNS4zODlsLTI1LjQyMyAxNy44NDRjLTEwLjYyLTEzLjE3NS0yNS45MTEtMjIuMzc0LTQzLjMzMy0yNS4xODJ2LTMwLjY0YzI0LjU0NC01LjE1NSA0My4wMzctMjYuOTYyIDQzLjAzNy01My4wMTlDMTI0LjE3MSAyNC4zMDUgOTkuODYyIDAgNjkuOTg3IDAgNDAuMTEyIDAgMTUuODAzIDI0LjMwNSAxNS44MDMgNTQuMTg0YzAgMjUuNzA4IDE4LjAxNCA0Ny4yNDYgNDIuMDY3IDUyLjc2OXYzMS4wMzhDMjUuMDQ0IDE0My43NTMgMCAxNzIuNDAxIDAgMjA2Ljg1NGMwIDM0LjYyMSAyNS4yOTIgNjMuMzc0IDU4LjM1NSA2OC45NHYzMi43NzRjLTI0LjI5OSA1LjM0MS00Mi41NTIgMjcuMDExLTQyLjU1MiA1Mi44OTQgMCAyOS44NzkgMjQuMzA5IDU0LjE4NCA1NC4xODQgNTQuMTg0IDI5Ljg3NSAwIDU0LjE4NC0yNC4zMDUgNTQuMTg0LTU0LjE4NCAwLTI1Ljg4My0xOC4yNTMtNDcuNTUzLTQyLjU1Mi01Mi44OTR2LTMyLjc3NWE2OS45NjUgNjkuOTY1IDAgMCAwIDQyLjYtMjQuNzc2bDI1LjYzMyAxOC4xNDNjLTEuNDIzIDQuODQtMi4yMiA5Ljk0Ni0yLjIyIDE1LjI0IDAgMjkuODc5IDI0LjMwOSA1NC4xODQgNTQuMTg0IDU0LjE4NCAyOS44NzUgMCA1NC4xODQtMjQuMzA1IDU0LjE4NC01NC4xODQgMC0yOS44NzktMjQuMzA5LTU0LjE4NC01NC4xODQtNTQuMTg0em0wLTEyNi42OTVjMTQuNDg3IDAgMjYuMjcgMTEuNzg4IDI2LjI3IDI2LjI3MXMtMTEuNzgzIDI2LjI3LTI2LjI3IDI2LjI3LTI2LjI3LTExLjc4Ny0yNi4yNy0yNi4yN2MwLTE0LjQ4MyAxMS43ODMtMjYuMjcxIDI2LjI3LTI2LjI3MXptLTE1OC4xLTQ5LjMzN2MwLTE0LjQ4MyAxMS43ODQtMjYuMjcgMjYuMjcxLTI2LjI3czI2LjI3IDExLjc4NyAyNi4yNyAyNi4yN2MwIDE0LjQ4My0xMS43ODMgMjYuMjctMjYuMjcgMjYuMjdzLTI2LjI3MS0xMS43ODctMjYuMjcxLTI2LjI3em01Mi41NDEgMzA3LjI3OGMwIDE0LjQ4My0xMS43ODMgMjYuMjctMjYuMjcgMjYuMjdzLTI2LjI3MS0xMS43ODctMjYuMjcxLTI2LjI3YzAtMTQuNDgzIDExLjc4NC0yNi4yNyAyNi4yNzEtMjYuMjdzMjYuMjcgMTEuNzg3IDI2LjI3IDI2LjI3em0tMjYuMjcyLTExNy45N2MtMjAuMjA1IDAtMzYuNjQyLTE2LjQzNC0zNi42NDItMzYuNjM4IDAtMjAuMjA1IDE2LjQzNy0zNi42NDIgMzYuNjQyLTM2LjY0MiAyMC4yMDQgMCAzNi42NDEgMTYuNDM3IDM2LjY0MSAzNi42NDIgMCAyMC4yMDQtMTYuNDM3IDM2LjYzOC0zNi42NDEgMzYuNjM4em0xMzEuODMxIDY3LjE3OWMtMTQuNDg3IDAtMjYuMjctMTEuNzg4LTI2LjI3LTI2LjI3MXMxMS43ODMtMjYuMjcgMjYuMjctMjYuMjcgMjYuMjcgMTEuNzg3IDI2LjI3IDI2LjI3YzAgMTQuNDgzLTExLjc4MyAyNi4yNzEtMjYuMjcgMjYuMjcxeiIvPjwvc3ZnPg==","docUrl":""}}, actions=null)
2020-12-18 09:54:51,071 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=kafka, clazz=org.thingsboard.rule.engine.kafka.TbKafkaNode, configurationDescriptor={"nodeDefinition":{"details":"Will send record via Kafka producer to Kafka server. Outbound message will contain response fields (<code>offset</code>, <code>partition</code>, <code>topic</code>) from the Kafka in the Message Metadata. For example <b>partition</b> field can be accessed with <code>metadata.partition</code>.","description":"Publish messages to Kafka server","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"my-topic","bootstrapServers":"localhost:9092","retries":0,"batchSize":16384,"linger":0,"bufferMemory":33554432,"acks":"-1","keySerializer":"org.apache.kafka.common.serialization.StringSerializer","valueSerializer":"org.apache.kafka.common.serialization.StringSerializer","otherProperties":{},"addMetadataKeyValuesAsKafkaHeaders":false,"kafkaHeadersCharset":"UTF-8"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeKafkaConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUzOCIgaGVpZ2h0PSIyNTAwIiB2aWV3Qm94PSIwIDAgMjU2IDQxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PHBhdGggZD0iTTIwMS44MTYgMjMwLjIxNmMtMTYuMTg2IDAtMzAuNjk3IDcuMTcxLTQwLjYzNCAxOC40NjFsLTI1LjQ2My0xOC4wMjZjMi43MDMtNy40NDIgNC4yNTUtMTUuNDMzIDQuMjU1LTIzLjc5NyAwLTguMjE5LTEuNDk4LTE2LjA3Ni00LjExMi0yMy40MDhsMjUuNDA2LTE3LjgzNWM5LjkzNiAxMS4yMzMgMjQuNDA5IDE4LjM2NSA0MC41NDggMTguMzY1IDI5Ljg3NSAwIDU0LjE4NC0yNC4zMDUgNTQuMTg0LTU0LjE4NCAwLTI5Ljg3OS0yNC4zMDktNTQuMTg0LTU0LjE4NC01NC4xODQtMjkuODc1IDAtNTQuMTg0IDI0LjMwNS01NC4xODQgNTQuMTg0IDAgNS4zNDguODA4IDEwLjUwNSAyLjI1OCAxNS4zODlsLTI1LjQyMyAxNy44NDRjLTEwLjYyLTEzLjE3NS0yNS45MTEtMjIuMzc0LTQzLjMzMy0yNS4xODJ2LTMwLjY0YzI0LjU0NC01LjE1NSA0My4wMzctMjYuOTYyIDQzLjAzNy01My4wMTlDMTI0LjE3MSAyNC4zMDUgOTkuODYyIDAgNjkuOTg3IDAgNDAuMTEyIDAgMTUuODAzIDI0LjMwNSAxNS44MDMgNTQuMTg0YzAgMjUuNzA4IDE4LjAxNCA0Ny4yNDYgNDIuMDY3IDUyLjc2OXYzMS4wMzhDMjUuMDQ0IDE0My43NTMgMCAxNzIuNDAxIDAgMjA2Ljg1NGMwIDM0LjYyMSAyNS4yOTIgNjMuMzc0IDU4LjM1NSA2OC45NHYzMi43NzRjLTI0LjI5OSA1LjM0MS00Mi41NTIgMjcuMDExLTQyLjU1MiA1Mi44OTQgMCAyOS44NzkgMjQuMzA5IDU0LjE4NCA1NC4xODQgNTQuMTg0IDI5Ljg3NSAwIDU0LjE4NC0yNC4zMDUgNTQuMTg0LTU0LjE4NCAwLTI1Ljg4My0xOC4yNTMtNDcuNTUzLTQyLjU1Mi01Mi44OTR2LTMyLjc3NWE2OS45NjUgNjkuOTY1IDAgMCAwIDQyLjYtMjQuNzc2bDI1LjYzMyAxOC4xNDNjLTEuNDIzIDQuODQtMi4yMiA5Ljk0Ni0yLjIyIDE1LjI0IDAgMjkuODc5IDI0LjMwOSA1NC4xODQgNTQuMTg0IDU0LjE4NCAyOS44NzUgMCA1NC4xODQtMjQuMzA1IDU0LjE4NC01NC4xODQgMC0yOS44NzktMjQuMzA5LTU0LjE4NC01NC4xODQtNTQuMTg0em0wLTEyNi42OTVjMTQuNDg3IDAgMjYuMjcgMTEuNzg4IDI2LjI3IDI2LjI3MXMtMTEuNzgzIDI2LjI3LTI2LjI3IDI2LjI3LTI2LjI3LTExLjc4Ny0yNi4yNy0yNi4yN2MwLTE0LjQ4MyAxMS43ODMtMjYuMjcxIDI2LjI3LTI2LjI3MXptLTE1OC4xLTQ5LjMzN2MwLTE0LjQ4MyAxMS43ODQtMjYuMjcgMjYuMjcxLTI2LjI3czI2LjI3IDExLjc4NyAyNi4yNyAyNi4yN2MwIDE0LjQ4My0xMS43ODMgMjYuMjctMjYuMjcgMjYuMjdzLTI2LjI3MS0xMS43ODctMjYuMjcxLTI2LjI3em01Mi41NDEgMzA3LjI3OGMwIDE0LjQ4My0xMS43ODMgMjYuMjctMjYuMjcgMjYuMjdzLTI2LjI3MS0xMS43ODctMjYuMjcxLTI2LjI3YzAtMTQuNDgzIDExLjc4NC0yNi4yNyAyNi4yNzEtMjYuMjdzMjYuMjcgMTEuNzg3IDI2LjI3IDI2LjI3em0tMjYuMjcyLTExNy45N2MtMjAuMjA1IDAtMzYuNjQyLTE2LjQzNC0zNi42NDItMzYuNjM4IDAtMjAuMjA1IDE2LjQzNy0zNi42NDIgMzYuNjQyLTM2LjY0MiAyMC4yMDQgMCAzNi42NDEgMTYuNDM3IDM2LjY0MSAzNi42NDIgMCAyMC4yMDQtMTYuNDM3IDM2LjYzOC0zNi42NDEgMzYuNjM4em0xMzEuODMxIDY3LjE3OWMtMTQuNDg3IDAtMjYuMjctMTEuNzg4LTI2LjI3LTI2LjI3MXMxMS43ODMtMjYuMjcgMjYuMjctMjYuMjcgMjYuMjcgMTEuNzg3IDI2LjI3IDI2LjI3YzAgMTQuNDgzLTExLjc4MyAyNi4yNzEtMjYuMjcgMjYuMjcxeiIvPjwvc3ZnPg==","docUrl":""}}, actions=null)
2020-12-18 09:54:51,078 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=gps geofencing events, clazz=org.thingsboard.rule.engine.geo.TbGpsGeofencingActionNode, configurationDescriptor={"nodeDefinition":{"details":"Extracts latitude and longitude parameters from incoming message and returns different events based on configuration parameters","description":"Produces incoming messages using GPS based geofencing","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Entered","Left","Inside","Outside","Failure"],"customRelations":false,"defaultConfiguration":{"latitudeKeyName":"latitude","longitudeKeyName":"longitude","fetchPerimeterInfoFromMessageMetadata":true,"perimeterType":null,"polygonsDefinition":null,"centerLatitude":null,"centerLongitude":null,"range":null,"rangeUnit":null,"minInsideDuration":1,"minOutsideDuration":1,"minInsideDurationTimeUnit":"MINUTES","minOutsideDurationTimeUnit":"MINUTES"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeGpsGeofencingConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,081 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=gps geofencing events, clazz=org.thingsboard.rule.engine.geo.TbGpsGeofencingActionNode, configurationDescriptor={"nodeDefinition":{"details":"Extracts latitude and longitude parameters from incoming message and returns different events based on configuration parameters","description":"Produces incoming messages using GPS based geofencing","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Entered","Left","Inside","Outside","Failure"],"customRelations":false,"defaultConfiguration":{"latitudeKeyName":"latitude","longitudeKeyName":"longitude","fetchPerimeterInfoFromMessageMetadata":true,"perimeterType":null,"polygonsDefinition":null,"centerLatitude":null,"centerLongitude":null,"range":null,"rangeUnit":null,"minInsideDuration":1,"minOutsideDuration":1,"minInsideDurationTimeUnit":"MINUTES","minOutsideDurationTimeUnit":"MINUTES"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeGpsGeofencingConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,083 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=switch, clazz=org.thingsboard.rule.engine.filter.TbJsSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Node executes configured JS script. Script should return array of next Chain names where Message should be routed. If Array is empty - message not routed to next Node. Message payload can be accessed via <code>msg</code> property. For example <code>msg.temperature < 10;</code><br/>Message metadata can be accessed via <code>metadata</code> property. For example <code>metadata.customerName === 'John';</code><br/>Message type can be accessed via <code>msgType</code> property.","description":"Route incoming Message to one or multiple output chains","inEnabled":true,"outEnabled":true,"relationTypes":["Failure"],"customRelations":true,"defaultConfiguration":{"jsScript":"function nextRelation(metadata, msg) {\n    return ['one','nine'];\n}\nif(msgType === 'POST_TELEMETRY_REQUEST') {\n    return ['two'];\n}\nreturn nextRelation(metadata, msg);"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeSwitchConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,090 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=switch, clazz=org.thingsboard.rule.engine.filter.TbJsSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Node executes configured JS script. Script should return array of next Chain names where Message should be routed. If Array is empty - message not routed to next Node. Message payload can be accessed via <code>msg</code> property. For example <code>msg.temperature < 10;</code><br/>Message metadata can be accessed via <code>metadata</code> property. For example <code>metadata.customerName === 'John';</code><br/>Message type can be accessed via <code>msgType</code> property.","description":"Route incoming Message to one or multiple output chains","inEnabled":true,"outEnabled":true,"relationTypes":["Failure"],"customRelations":true,"defaultConfiguration":{"jsScript":"function nextRelation(metadata, msg) {\n    return ['one','nine'];\n}\nif(msgType === 'POST_TELEMETRY_REQUEST') {\n    return ['two'];\n}\nreturn nextRelation(metadata, msg);"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeSwitchConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,094 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=check existence fields, clazz=org.thingsboard.rule.engine.filter.TbCheckMessageNode, configurationDescriptor={"nodeDefinition":{"details":"If selected checkbox 'Check that all selected keys are present'\" and all keys in message data and metadata are exist - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.\nElse if the checkbox is not selected, and at least one of the keys from data or metadata of the message exists - send Message via <b>True</b> chain, otherwise, <b>False</b> chain is used. ","description":"Checks the existence of the selected keys from message data and metadata.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"messageNames":[],"metadataNames":[],"checkAllKeys":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckMessageConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,097 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=check existence fields, clazz=org.thingsboard.rule.engine.filter.TbCheckMessageNode, configurationDescriptor={"nodeDefinition":{"details":"If selected checkbox 'Check that all selected keys are present'\" and all keys in message data and metadata are exist - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.\nElse if the checkbox is not selected, and at least one of the keys from data or metadata of the message exists - send Message via <b>True</b> chain, otherwise, <b>False</b> chain is used. ","description":"Checks the existence of the selected keys from message data and metadata.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"messageNames":[],"metadataNames":[],"checkAllKeys":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckMessageConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,100 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=customer attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetCustomerAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Customer Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeCustomerAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,104 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=customer attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetCustomerAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Customer Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeCustomerAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,108 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=rpc call request, clazz=org.thingsboard.rule.engine.rpc.TbSendRPCRequestNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with \"method\" and \"params\". Will forward response from device to next nodes.If the RPC call request is originated by REST API call from user, will forward the response to user immediately.","description":"Sends RPC call to device","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"timeoutInSeconds":60},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRpcRequestConfig","icon":"call_made","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,111 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=rpc call request, clazz=org.thingsboard.rule.engine.rpc.TbSendRPCRequestNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with \"method\" and \"params\". Will forward response from device to next nodes.If the RPC call request is originated by REST API call from user, will forward the response to user immediately.","description":"Sends RPC call to device","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"timeoutInSeconds":60},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRpcRequestConfig","icon":"call_made","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,112 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=tenant attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetTenantAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Tenant Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeTenantAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,114 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=tenant attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetTenantAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Tenant Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeTenantAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,149 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=mqtt, clazz=org.thingsboard.rule.engine.mqtt.TbMqttNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the MQTT broker with QoS <b>AT_LEAST_ONCE</b>.","description":"Publish messages to the MQTT broker","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"my-topic","host":"localhost","port":1883,"connectTimeoutSec":10,"clientId":null,"cleanSession":true,"ssl":false,"credentials":{"type":"anonymous"}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMqttConfig","icon":"call_split","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,154 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=mqtt, clazz=org.thingsboard.rule.engine.mqtt.TbMqttNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the MQTT broker with QoS <b>AT_LEAST_ONCE</b>.","description":"Publish messages to the MQTT broker","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"my-topic","host":"localhost","port":1883,"connectTimeoutSec":10,"clientId":null,"cleanSession":true,"ssl":false,"credentials":{"type":"anonymous"}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMqttConfig","icon":"call_split","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,158 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=rpc call reply, clazz=org.thingsboard.rule.engine.rpc.TbSendRPCReplyNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with any message type. Will forward message body to the device.","description":"Sends reply to RPC call from device","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"serviceIdMetaDataAttribute":"serviceId","sessionIdMetaDataAttribute":"sessionId","requestIdMetaDataAttribute":"requestId"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRpcReplyConfig","icon":"call_merge","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,160 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=rpc call reply, clazz=org.thingsboard.rule.engine.rpc.TbSendRPCReplyNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with any message type. Will forward message body to the device.","description":"Sends reply to RPC call from device","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"serviceIdMetaDataAttribute":"serviceId","sessionIdMetaDataAttribute":"sessionId","requestIdMetaDataAttribute":"requestId"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRpcReplyConfig","icon":"call_merge","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,163 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=message count, clazz=org.thingsboard.rule.engine.action.TbMsgCountNode, configurationDescriptor={"nodeDefinition":{"details":"Count incoming messages for specified interval and produces POST_TELEMETRY_REQUEST msg with messages count","description":"Count incoming messages","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"telemetryPrefix":"messageCount","interval":1},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMsgCountConfig","icon":"functions","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,165 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=message count, clazz=org.thingsboard.rule.engine.action.TbMsgCountNode, configurationDescriptor={"nodeDefinition":{"details":"Count incoming messages for specified interval and produces POST_TELEMETRY_REQUEST msg with messages count","description":"Count incoming messages","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"telemetryPrefix":"messageCount","interval":1},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMsgCountConfig","icon":"functions","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,166 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=acknowledge, clazz=org.thingsboard.rule.engine.flow.TbAckNode, configurationDescriptor={"nodeDefinition":{"details":"After acknowledgement, the message is pushed to related rule nodes. Useful if you don't care what happens to this message next.","description":"Acknowledges the incoming message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,170 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=acknowledge, clazz=org.thingsboard.rule.engine.flow.TbAckNode, configurationDescriptor={"nodeDefinition":{"details":"After acknowledgement, the message is pushed to related rule nodes. Useful if you don't care what happens to this message next.","description":"Acknowledges the incoming message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,177 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=send sms, clazz=org.thingsboard.rule.engine.sms.TbSendSmsNode, configurationDescriptor={"nodeDefinition":{"details":"Will send SMS message by populating target phone numbers and sms message fields using values derived from message metadata.","description":"Sends SMS message via SMS provider.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"numbersToTemplate":"${userPhone}","smsMessageTemplate":"Device ${deviceName} has high temperature ${temp}","useSystemSmsSettings":true,"smsProviderConfiguration":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSendSmsConfig","icon":"sms","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,180 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=send sms, clazz=org.thingsboard.rule.engine.sms.TbSendSmsNode, configurationDescriptor={"nodeDefinition":{"details":"Will send SMS message by populating target phone numbers and sms message fields using values derived from message metadata.","description":"Sends SMS message via SMS provider.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"numbersToTemplate":"${userPhone}","smsMessageTemplate":"Device ${deviceName} has high temperature ${temp}","useSystemSmsSettings":true,"smsProviderConfiguration":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSendSmsConfig","icon":"sms","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,185 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator telemetry, clazz=org.thingsboard.rule.engine.metadata.TbGetTelemetryNode, configurationDescriptor={"nodeDefinition":{"details":"The node allows you to select fetch mode: <b>FIRST/LAST/ALL</b> to fetch telemetry of certain time range that are added into Message metadata without any prefix. If selected fetch mode <b>ALL</b> Telemetry will be added like array into Message Metadata where <b>key</b> is Timestamp and <b>value</b> is value of Telemetry.</br>If selected fetch mode <b>FIRST</b> or <b>LAST</b> Telemetry will be added like string without Timestamp.</br>Also, the rule node allows you to select telemetry sampling order: <b>ASC</b> or <b>DESC</b>. </br><b>Note</b>: The maximum size of the fetched array is 1000 records.\n ","description":"Add Message Originator Telemetry for selected time range into Message Metadata\n","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"startInterval":2,"endInterval":1,"startIntervalPattern":"","endIntervalPattern":"","useMetadataIntervalPatterns":false,"startIntervalTimeUnit":"MINUTES","endIntervalTimeUnit":"MINUTES","fetchMode":"FIRST","orderBy":"ASC","limit":1000,"latestTsKeyNames":[]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeGetTelemetryFromDatabase","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,188 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator telemetry, clazz=org.thingsboard.rule.engine.metadata.TbGetTelemetryNode, configurationDescriptor={"nodeDefinition":{"details":"The node allows you to select fetch mode: <b>FIRST/LAST/ALL</b> to fetch telemetry of certain time range that are added into Message metadata without any prefix. If selected fetch mode <b>ALL</b> Telemetry will be added like array into Message Metadata where <b>key</b> is Timestamp and <b>value</b> is value of Telemetry.</br>If selected fetch mode <b>FIRST</b> or <b>LAST</b> Telemetry will be added like string without Timestamp.</br>Also, the rule node allows you to select telemetry sampling order: <b>ASC</b> or <b>DESC</b>. </br><b>Note</b>: The maximum size of the fetched array is 1000 records.\n ","description":"Add Message Originator Telemetry for selected time range into Message Metadata\n","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"startInterval":2,"endInterval":1,"startIntervalPattern":"","endIntervalPattern":"","useMetadataIntervalPatterns":false,"startIntervalTimeUnit":"MINUTES","endIntervalTimeUnit":"MINUTES","fetchMode":"FIRST","orderBy":"ASC","limit":1000,"latestTsKeyNames":[]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeGetTelemetryFromDatabase","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,190 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=synchronization end, clazz=org.thingsboard.rule.engine.transaction.TbSynchronizationEndNode, configurationDescriptor={"nodeDefinition":{"details":"","description":"This Node is now deprecated. Use \"Checkpoint\" instead.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,192 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ACTION, scope=TENANT, name=synchronization end, clazz=org.thingsboard.rule.engine.transaction.TbSynchronizationEndNode, configurationDescriptor={"nodeDefinition":{"details":"","description":"This Node is now deprecated. Use \"Checkpoint\" instead.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,197 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=related device attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetDeviceAttrNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, <b>CLIENT/SHARED/SERVER</b> attributes are added into Message metadata with specific prefix: <i>cs/shared/ss</i>. Latest telemetry value added into metadata without prefix. To access those attributes in other nodes this template can be used <code>metadata.cs_temperature</code> or <code>metadata.shared_limit</code> ","description":"Add Originators Related Device Attributes and Latest Telemetry value into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"clientAttributeNames":[],"sharedAttributeNames":[],"serverAttributeNames":[],"latestTsKeyNames":[],"tellFailureIfAbsent":true,"getLatestValueWithTs":false,"deviceRelationsQuery":{"direction":"FROM","maxLevel":1,"relationType":"Contains","deviceTypes":["default"],"fetchLastLevelOnly":false}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeDeviceAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,199 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=related device attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetDeviceAttrNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, <b>CLIENT/SHARED/SERVER</b> attributes are added into Message metadata with specific prefix: <i>cs/shared/ss</i>. Latest telemetry value added into metadata without prefix. To access those attributes in other nodes this template can be used <code>metadata.cs_temperature</code> or <code>metadata.shared_limit</code> ","description":"Add Originators Related Device Attributes and Latest Telemetry value into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"clientAttributeNames":[],"sharedAttributeNames":[],"serverAttributeNames":[],"latestTsKeyNames":[],"tellFailureIfAbsent":true,"getLatestValueWithTs":false,"deviceRelationsQuery":{"direction":"FROM","maxLevel":1,"relationType":"Contains","deviceTypes":["default"],"fetchLastLevelOnly":false}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeDeviceAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,204 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=save timeseries, clazz=org.thingsboard.rule.engine.telemetry.TbMsgTimeseriesNode, configurationDescriptor={"nodeDefinition":{"details":"Saves timeseries telemetry data based on configurable TTL parameter. Expects messages with 'POST_TELEMETRY_REQUEST' message type","description":"Saves timeseries data","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"defaultTTL":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeTimeseriesConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,207 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component ComponentDescriptor(type=ACTION, scope=TENANT, name=save timeseries, clazz=org.thingsboard.rule.engine.telemetry.TbMsgTimeseriesNode, configurationDescriptor={"nodeDefinition":{"details":"Saves timeseries telemetry data based on configurable TTL parameter. Expects messages with 'POST_TELEMETRY_REQUEST' message type","description":"Saves timeseries data","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"defaultTTL":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeTimeseriesConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null) will be updated to ComponentDescriptor(type=ACTION, scope=TENANT, name=save timeseries, clazz=org.thingsboard.rule.engine.telemetry.TbMsgTimeseriesNode, configurationDescriptor={"nodeDefinition":{"details":"Saves timeseries telemetry data based on configurable TTL parameter. Expects messages with 'POST_TELEMETRY_REQUEST' message type","description":"Saves timeseries data","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"defaultTTL":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeTimeseriesConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,232 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=rest api call, clazz=org.thingsboard.rule.engine.rest.TbRestApiCallNode, configurationDescriptor={"nodeDefinition":{"details":"Will invoke REST API call <code>GET | POST | PUT | DELETE</code> to external REST server. Message payload added into Request body. Configured attributes can be added into Headers from Message Metadata. Outbound message will contain response fields (<code>status</code>, <code>statusCode</code>, <code>statusReason</code> and response <code>headers</code>) in the Message Metadata. Response body saved in outbound Message payload. For example <b>statusCode</b> field can be accessed with <code>metadata.statusCode</code>.<br/><b>Note-</b> if you use system proxy properties, the next system proxy properties should be added: \"http.proxyHost\" and \"http.proxyPort\" or  \"https.proxyHost\" and \"https.proxyPort\" or \"socksProxyHost\" and \"socksProxyPort\",and if your proxy with auth, the next ones  should be added: \"tb.proxy.user\" and \"tb.proxy.password\" to the thingsboard.conf file.","description":"Invoke REST API calls to external REST server","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"restEndpointUrlPattern":"http://localhost/api","requestMethod":"POST","headers":{},"useSimpleClientHttpFactory":false,"readTimeoutMs":0,"maxParallelRequestsCount":0,"useRedisQueueForMsgPersistence":false,"trimQueue":false,"maxQueueSize":0,"enableProxy":false,"useSystemProxyProperties":false,"proxyHost":null,"proxyPort":0,"proxyUser":null,"proxyPassword":null,"proxyScheme":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRestApiCallConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB2ZXJzaW9uPSIxLjEiIHk9IjBweCIgeD0iMHB4Ij48ZyB0cmFuc2Zvcm09Im1hdHJpeCguOTQ5NzUgMCAwIC45NDk3NSAxNy4xMiAyNi40OTIpIj48cGF0aCBkPSJtMTY5LjExIDEwOC41NGMtOS45MDY2IDAuMDczNC0xOS4wMTQgNi41NzI0LTIyLjAxNCAxNi40NjlsLTY5Ljk5MyAyMzEuMDhjLTMuNjkwNCAxMi4xODEgMy4yODkyIDI1LjIyIDE1LjQ2OSAyOC45MSAyLjIyNTkgMC42NzQ4MSA0LjQ5NjkgMSA2LjcyODUgMSA5Ljk3MjEgMCAxOS4xNjUtNi41MTUzIDIyLjE4Mi0xNi40NjdhNi41MjI0IDYuNTIyNCAwIDAgMCAwLjAwMiAtMC4wMDJsNjkuOTktMjMxLjA3YTYuNTIyNCA2LjUyMjQgMCAwIDAgMCAtMC4wMDJjMy42ODU1LTEyLjE4MS0zLjI4Ny0yNS4yMjUtMTUuNDcxLTI4LjkxMi0yLjI4MjUtMC42OTE0NS00LjYxMTYtMS4wMTY5LTYuODk4NC0xem04NC45ODggMGMtOS45MDQ4IDAuMDczNC0xOS4wMTggNi41Njc1LTIyLjAxOCAxNi40NjlsLTY5Ljk4NiAyMzEuMDhjLTMuNjg5OCAxMi4xNzkgMy4yODUzIDI1LjIxNyAxNS40NjUgMjguOTA4IDIuMjI5NyAwLjY3NjQ3IDQuNTAwOCAxLjAwMiA2LjczMjQgMS4wMDIgOS45NzIxIDAgMTkuMTY1LTYuNTE1MyAyMi4xODItMTYuNDY3YTYuNTIyNCA2LjUyMjQgMCAwIDAgMC4wMDIgLTAuMDAybDY5Ljk4OC0yMzEuMDdjMy42OTA4LTEyLjE4MS0zLjI4NTItMjUuMjIzLTE1LjQ2Ny0yOC45MTItMi4yODE0LTAuNjkyMzEtNC42MTA4LTEuMDE4OS02Ljg5ODQtMS4wMDJ6bS0yMTcuMjkgNDIuMjNjLTEyLjcyOS0wLjAwMDg3LTIzLjE4OCAxMC40NTYtMjMuMTg4IDIzLjE4NiAwLjAwMSAxMi43MjggMTAuNDU5IDIzLjE4NiAyMy4xODggMjMuMTg2IDEyLjcyNy0wLjAwMSAyMy4xODMtMTAuNDU5IDIzLjE4NC0yMy4xODYgMC4wMDA4NzYtMTIuNzI4LTEwLjQ1Ni0yMy4xODUtMjMuMTg0LTIzLjE4NnptMCAxNDYuNjRjLTEyLjcyNy0wLjAwMDg3LTIzLjE4NiAxMC40NTUtMjMuMTg4IDIzLjE4NC0wLjAwMDg3MyAxMi43MjkgMTAuNDU4IDIzLjE4OCAyMy4xODggMjMuMTg4IDEyLjcyOC0wLjAwMSAyMy4xODQtMTAuNDYgMjMuMTg0LTIzLjE4OC0wLjAwMS0xMi43MjYtMTAuNDU3LTIzLjE4My0yMy4xODQtMjMuMTg0em0yNzAuNzkgNDIuMjExYy0xMi43MjcgMC0yMy4xODQgMTAuNDU3LTIzLjE4NCAyMy4xODRzMTAuNDU1IDIzLjE4OCAyMy4xODQgMjMuMTg4aDE1NC45OGMxMi43MjkgMCAyMy4xODYtMTAuNDYgMjMuMTg2LTIzLjE4OCAwLjAwMS0xMi43MjgtMTAuNDU4LTIzLjE4NC0yMy4xODYtMjMuMTg0eiIgdHJhbnNmb3JtPSJtYXRyaXgoMS4wMzc2IDAgMCAxLjAzNzYgLTcuNTY3NiAtMTQuOTI1KSIgc3Ryb2tlLXdpZHRoPSIxLjI2OTMiLz48L2c+PC9zdmc+","docUrl":""}}, actions=null)
2020-12-18 09:54:51,234 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=rest api call, clazz=org.thingsboard.rule.engine.rest.TbRestApiCallNode, configurationDescriptor={"nodeDefinition":{"details":"Will invoke REST API call <code>GET | POST | PUT | DELETE</code> to external REST server. Message payload added into Request body. Configured attributes can be added into Headers from Message Metadata. Outbound message will contain response fields (<code>status</code>, <code>statusCode</code>, <code>statusReason</code> and response <code>headers</code>) in the Message Metadata. Response body saved in outbound Message payload. For example <b>statusCode</b> field can be accessed with <code>metadata.statusCode</code>.<br/><b>Note-</b> if you use system proxy properties, the next system proxy properties should be added: \"http.proxyHost\" and \"http.proxyPort\" or  \"https.proxyHost\" and \"https.proxyPort\" or \"socksProxyHost\" and \"socksProxyPort\",and if your proxy with auth, the next ones  should be added: \"tb.proxy.user\" and \"tb.proxy.password\" to the thingsboard.conf file.","description":"Invoke REST API calls to external REST server","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"restEndpointUrlPattern":"http://localhost/api","requestMethod":"POST","headers":{},"useSimpleClientHttpFactory":false,"readTimeoutMs":0,"maxParallelRequestsCount":0,"useRedisQueueForMsgPersistence":false,"trimQueue":false,"maxQueueSize":0,"enableProxy":false,"useSystemProxyProperties":false,"proxyHost":null,"proxyPort":0,"proxyUser":null,"proxyPassword":null,"proxyScheme":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRestApiCallConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB2ZXJzaW9uPSIxLjEiIHk9IjBweCIgeD0iMHB4Ij48ZyB0cmFuc2Zvcm09Im1hdHJpeCguOTQ5NzUgMCAwIC45NDk3NSAxNy4xMiAyNi40OTIpIj48cGF0aCBkPSJtMTY5LjExIDEwOC41NGMtOS45MDY2IDAuMDczNC0xOS4wMTQgNi41NzI0LTIyLjAxNCAxNi40NjlsLTY5Ljk5MyAyMzEuMDhjLTMuNjkwNCAxMi4xODEgMy4yODkyIDI1LjIyIDE1LjQ2OSAyOC45MSAyLjIyNTkgMC42NzQ4MSA0LjQ5NjkgMSA2LjcyODUgMSA5Ljk3MjEgMCAxOS4xNjUtNi41MTUzIDIyLjE4Mi0xNi40NjdhNi41MjI0IDYuNTIyNCAwIDAgMCAwLjAwMiAtMC4wMDJsNjkuOTktMjMxLjA3YTYuNTIyNCA2LjUyMjQgMCAwIDAgMCAtMC4wMDJjMy42ODU1LTEyLjE4MS0zLjI4Ny0yNS4yMjUtMTUuNDcxLTI4LjkxMi0yLjI4MjUtMC42OTE0NS00LjYxMTYtMS4wMTY5LTYuODk4NC0xem04NC45ODggMGMtOS45MDQ4IDAuMDczNC0xOS4wMTggNi41Njc1LTIyLjAxOCAxNi40NjlsLTY5Ljk4NiAyMzEuMDhjLTMuNjg5OCAxMi4xNzkgMy4yODUzIDI1LjIxNyAxNS40NjUgMjguOTA4IDIuMjI5NyAwLjY3NjQ3IDQuNTAwOCAxLjAwMiA2LjczMjQgMS4wMDIgOS45NzIxIDAgMTkuMTY1LTYuNTE1MyAyMi4xODItMTYuNDY3YTYuNTIyNCA2LjUyMjQgMCAwIDAgMC4wMDIgLTAuMDAybDY5Ljk4OC0yMzEuMDdjMy42OTA4LTEyLjE4MS0zLjI4NTItMjUuMjIzLTE1LjQ2Ny0yOC45MTItMi4yODE0LTAuNjkyMzEtNC42MTA4LTEuMDE4OS02Ljg5ODQtMS4wMDJ6bS0yMTcuMjkgNDIuMjNjLTEyLjcyOS0wLjAwMDg3LTIzLjE4OCAxMC40NTYtMjMuMTg4IDIzLjE4NiAwLjAwMSAxMi43MjggMTAuNDU5IDIzLjE4NiAyMy4xODggMjMuMTg2IDEyLjcyNy0wLjAwMSAyMy4xODMtMTAuNDU5IDIzLjE4NC0yMy4xODYgMC4wMDA4NzYtMTIuNzI4LTEwLjQ1Ni0yMy4xODUtMjMuMTg0LTIzLjE4NnptMCAxNDYuNjRjLTEyLjcyNy0wLjAwMDg3LTIzLjE4NiAxMC40NTUtMjMuMTg4IDIzLjE4NC0wLjAwMDg3MyAxMi43MjkgMTAuNDU4IDIzLjE4OCAyMy4xODggMjMuMTg4IDEyLjcyOC0wLjAwMSAyMy4xODQtMTAuNDYgMjMuMTg0LTIzLjE4OC0wLjAwMS0xMi43MjYtMTAuNDU3LTIzLjE4My0yMy4xODQtMjMuMTg0em0yNzAuNzkgNDIuMjExYy0xMi43MjcgMC0yMy4xODQgMTAuNDU3LTIzLjE4NCAyMy4xODRzMTAuNDU1IDIzLjE4OCAyMy4xODQgMjMuMTg4aDE1NC45OGMxMi43MjkgMCAyMy4xODYtMTAuNDYgMjMuMTg2LTIzLjE4OCAwLjAwMS0xMi43MjgtMTAuNDU4LTIzLjE4NC0yMy4xODYtMjMuMTg0eiIgdHJhbnNmb3JtPSJtYXRyaXgoMS4wMzc2IDAgMCAxLjAzNzYgLTcuNTY3NiAtMTQuOTI1KSIgc3Ryb2tlLXdpZHRoPSIxLjI2OTMiLz48L2c+PC9zdmc+","docUrl":""}}, actions=null)
2020-12-18 09:54:51,240 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=customer details, clazz=org.thingsboard.rule.engine.metadata.TbGetCustomerDetailsNode, configurationDescriptor={"nodeDefinition":{"details":"If checkbox: <b>Add selected details to the message metadata</b> is selected, existing fields will be added to the message metadata instead of message data.<br><br><b>Note:</b> only Device, Asset, and Entity View type are allowed.<br><br>If the originator of the message is not assigned to Customer, or originator type is not supported - Message will be forwarded to <b>Failure</b> chain, otherwise, <b>Success</b> chain will be used.","description":"Adds fields from Customer details to the message body or metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"detailsList":[],"addToMetadata":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeEntityDetailsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,242 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=customer details, clazz=org.thingsboard.rule.engine.metadata.TbGetCustomerDetailsNode, configurationDescriptor={"nodeDefinition":{"details":"If checkbox: <b>Add selected details to the message metadata</b> is selected, existing fields will be added to the message metadata instead of message data.<br><br><b>Note:</b> only Device, Asset, and Entity View type are allowed.<br><br>If the originator of the message is not assigned to Customer, or originator type is not supported - Message will be forwarded to <b>Failure</b> chain, otherwise, <b>Success</b> chain will be used.","description":"Adds fields from Customer details to the message body or metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"detailsList":[],"addToMetadata":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeEntityDetailsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,245 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=assign to customer, clazz=org.thingsboard.rule.engine.action.TbAssignToCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Customer by customer name pattern and then assign Originator Entity to this customer. Will create new Customer if it doesn't exists and 'Create new Customer if not exists' is set to true.","description":"Assign Message Originator Entity to Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300,"createCustomerIfNotExists":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAssignToCustomerConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,247 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component ComponentDescriptor(type=ACTION, scope=TENANT, name=assign to customer, clazz=org.thingsboard.rule.engine.action.TbAssignToCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Customer by customer name pattern and then assign Originator Entity to this customer. Will create new Customer if it doesn't exists and 'Create new Customer if not exists' is set to true.","description":"Assign Message Originator Entity to Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300,"createCustomerIfNotExists":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAssignToCustomerConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null) will be updated to ComponentDescriptor(type=ACTION, scope=TENANT, name=assign to customer, clazz=org.thingsboard.rule.engine.action.TbAssignToCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Customer by customer name pattern and then assign Originator Entity to this customer. Will create new Customer if it doesn't exists and 'Create new Customer if not exists' is set to true.","description":"Assign Message Originator Entity to Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300,"createCustomerIfNotExists":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAssignToCustomerConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,261 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=originator type, clazz=org.thingsboard.rule.engine.filter.TbOriginatorTypeFilterNode, configurationDescriptor={"nodeDefinition":{"details":"If Originator Type of incoming message is expected - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Filter incoming messages by message Originator Type","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"originatorTypes":["DEVICE"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeOriginatorTypeConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,263 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=originator type, clazz=org.thingsboard.rule.engine.filter.TbOriginatorTypeFilterNode, configurationDescriptor={"nodeDefinition":{"details":"If Originator Type of incoming message is expected - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Filter incoming messages by message Originator Type","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"originatorTypes":["DEVICE"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeOriginatorTypeConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,284 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=azure iot hub, clazz=org.thingsboard.rule.engine.mqtt.azure.TbAzureIotHubNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the Azure IoT Hub with QoS <b>AT_LEAST_ONCE</b>.","description":"Publish messages to the Azure IoT Hub","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"devices/<device_id>/messages/events/","host":"<iot-hub-name>.azure-devices.net","port":8883,"connectTimeoutSec":10,"clientId":null,"cleanSession":true,"ssl":true,"credentials":{"type":"sas","sasKey":null,"caCert":null}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAzureIotHubConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,288 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=azure iot hub, clazz=org.thingsboard.rule.engine.mqtt.azure.TbAzureIotHubNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the Azure IoT Hub with QoS <b>AT_LEAST_ONCE</b>.","description":"Publish messages to the Azure IoT Hub","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"devices/<device_id>/messages/events/","host":"<iot-hub-name>.azure-devices.net","port":8883,"connectTimeoutSec":10,"clientId":null,"cleanSession":true,"ssl":true,"credentials":{"type":"sas","sasKey":null,"caCert":null}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAzureIotHubConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,290 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=originator type switch, clazz=org.thingsboard.rule.engine.filter.TbOriginatorTypeSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Routes messages to chain according to the originator type ('Device', 'Asset', etc.).","description":"Route incoming messages by Message Originator Type","inEnabled":true,"outEnabled":true,"relationTypes":["Device","Asset","Alarm","Entity View","Tenant","Customer","User","Dashboard","Rule chain","Rule node","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,293 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=originator type switch, clazz=org.thingsboard.rule.engine.filter.TbOriginatorTypeSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Routes messages to chain according to the originator type ('Device', 'Asset', etc.).","description":"Route incoming messages by Message Originator Type","inEnabled":true,"outEnabled":true,"relationTypes":["Device","Asset","Alarm","Entity View","Tenant","Customer","User","Dashboard","Rule chain","Rule node","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,296 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=script, clazz=org.thingsboard.rule.engine.transform.TbTransformMsgNode, configurationDescriptor={"nodeDefinition":{"details":"JavaScript function receive 3 input parameters <br/> <code>metadata</code> - is a Message metadata.<br/><code>msg</code> - is a Message payload.<br/><code>msgType</code> - is a Message type.<br/>Should return the following structure:<br/><code>{ msg: <i style=\"color: #666;\">new payload</i>,<br/>&nbsp&nbsp&nbspmetadata: <i style=\"color: #666;\">new metadata</i>,<br/>&nbsp&nbsp&nbspmsgType: <i style=\"color: #666;\">new msgType</i> }</code><br/>All fields in resulting object are optional and will be taken from original message if not specified.","description":"Change Message payload, Metadata or Message type using JavaScript","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return {msg: msg, metadata: metadata, msgType: msgType};"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeScriptConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,298 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=script, clazz=org.thingsboard.rule.engine.transform.TbTransformMsgNode, configurationDescriptor={"nodeDefinition":{"details":"JavaScript function receive 3 input parameters <br/> <code>metadata</code> - is a Message metadata.<br/><code>msg</code> - is a Message payload.<br/><code>msgType</code> - is a Message type.<br/>Should return the following structure:<br/><code>{ msg: <i style=\"color: #666;\">new payload</i>,<br/>&nbsp&nbsp&nbspmetadata: <i style=\"color: #666;\">new metadata</i>,<br/>&nbsp&nbsp&nbspmsgType: <i style=\"color: #666;\">new msgType</i> }</code><br/>All fields in resulting object are optional and will be taken from original message if not specified.","description":"Change Message payload, Metadata or Message type using JavaScript","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return {msg: msg, metadata: metadata, msgType: msgType};"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeScriptConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,302 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=FILTER, scope=TENANT, name=check relation, clazz=org.thingsboard.rule.engine.filter.TbCheckRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If at least one relation exists - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Checks the relation from the selected entity to the originator of the message by type and direction if 'Check for single entity' is set to true, otherwise rule node will check if exist any relation to the originator of the message by type and direction.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","entityId":null,"entityType":null,"relationType":"Contains","checkForSingleEntity":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckRelationConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,305 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=FILTER, scope=TENANT, name=check relation, clazz=org.thingsboard.rule.engine.filter.TbCheckRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If at least one relation exists - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Checks the relation from the selected entity to the originator of the message by type and direction if 'Check for single entity' is set to true, otherwise rule node will check if exist any relation to the originator of the message by type and direction.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","entityId":null,"entityType":null,"relationType":"Contains","checkForSingleEntity":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckRelationConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,308 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=ACTION, scope=TENANT, name=delete relation, clazz=org.thingsboard.rule.engine.action.TbDeleteRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation(s) successfully deleted -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and then delete a relation to Originator Entity by type and direction if 'Delete single entity' is set to true, otherwise rule node will delete all relations to the originator of the message by type and direction.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"deleteForSingleEntity":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeDeleteRelationConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,311 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component ComponentDescriptor(type=ACTION, scope=TENANT, name=delete relation, clazz=org.thingsboard.rule.engine.action.TbDeleteRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation(s) successfully deleted -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and then delete a relation to Originator Entity by type and direction if 'Delete single entity' is set to true, otherwise rule node will delete all relations to the originator of the message by type and direction.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"deleteForSingleEntity":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeDeleteRelationConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null) will be updated to ComponentDescriptor(type=ACTION, scope=TENANT, name=delete relation, clazz=org.thingsboard.rule.engine.action.TbDeleteRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation(s) successfully deleted -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and then delete a relation to Originator Entity by type and direction if 'Delete single entity' is set to true, otherwise rule node will delete all relations to the originator of the message by type and direction.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"deleteForSingleEntity":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeDeleteRelationConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null)
2020-12-18 09:54:51,329 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Processing scanned component: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=aws sns, clazz=org.thingsboard.rule.engine.aws.sns.TbSnsNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the AWS SNS topic. Outbound message will contain response fields (<code>messageId</code>, <code>requestId</code>) in the Message Metadata from the AWS SNS. For example <b>requestId</b> field can be accessed with <code>metadata.requestId</code>.","description":"Publish message to the AWS SNS","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicArnPattern":"arn:aws:sns:us-east-1:123456789012:MyNewTopic","accessKeyId":null,"secretAccessKey":null,"region":"us-east-1"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSnsConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48cGF0aCBkPSJNMTMuMjMgMTAuNTZWMTBjLTEuOTQgMC0zLjk5LjM5LTMuOTkgMi42NyAwIDEuMTYuNjEgMS45NSAxLjYzIDEuOTUuNzYgMCAxLjQzLS40NyAxLjg2LTEuMjIuNTItLjkzLjUtMS44LjUtMi44NG0yLjcgNi41M2MtLjE4LjE2LS40My4xNy0uNjMuMDYtLjg5LS43NC0xLjA1LTEuMDgtMS41NC0xLjc5LTEuNDcgMS41LTIuNTEgMS45NS00LjQyIDEuOTUtMi4yNSAwLTQuMDEtMS4zOS00LjAxLTQuMTcgMC0yLjE4IDEuMTctMy42NCAyLjg2LTQuMzggMS40Ni0uNjQgMy40OS0uNzYgNS4wNC0uOTNWNy41YzAtLjY2LjA1LTEuNDEtLjMzLTEuOTYtLjMyLS40OS0uOTUtLjctMS41LS43LTEuMDIgMC0xLjkzLjUzLTIuMTUgMS42MS0uMDUuMjQtLjI1LjQ4LS40Ny40OWwtMi42LS4yOGMtLjIyLS4wNS0uNDYtLjIyLS40LS41Ni42LTMuMTUgMy40NS00LjEgNi00LjEgMS4zIDAgMyAuMzUgNC4wMyAxLjMzQzE3LjExIDQuNTUgMTcgNi4xOCAxNyA3Ljk1djQuMTdjMCAxLjI1LjUgMS44MSAxIDIuNDguMTcuMjUuMjEuNTQgMCAuNzFsLTIuMDYgMS43OGgtLjAxIj48L3BhdGg+PHBhdGggZD0iTTIwLjE2IDE5LjU0QzE4IDIxLjE0IDE0LjgyIDIyIDEyLjEgMjJjLTMuODEgMC03LjI1LTEuNDEtOS44NS0zLjc2LS4yLS4xOC0uMDItLjQzLjI1LS4yOSAyLjc4IDEuNjMgNi4yNSAyLjYxIDkuODMgMi42MSAyLjQxIDAgNS4wNy0uNSA3LjUxLTEuNTMuMzctLjE2LjY2LjI0LjMyLjUxIj48L3BhdGg+PHBhdGggZD0iTTIxLjA3IDE4LjVjLS4yOC0uMzYtMS44NS0uMTctMi41Ny0uMDgtLjE5LjAyLS4yMi0uMTYtLjAzLS4zIDEuMjQtLjg4IDMuMjktLjYyIDMuNTMtLjMzLjI0LjMtLjA3IDIuMzUtMS4yNCAzLjMyLS4xOC4xNi0uMzUuMDctLjI2LS4xMS4yNi0uNjcuODUtMi4xNC41Ny0yLjV6Ij48L3BhdGg+PC9zdmc+","docUrl":""}}, actions=null)
2020-12-18 09:54:51,331 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Component is already persisted: ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=aws sns, clazz=org.thingsboard.rule.engine.aws.sns.TbSnsNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the AWS SNS topic. Outbound message will contain response fields (<code>messageId</code>, <code>requestId</code>) in the Message Metadata from the AWS SNS. For example <b>requestId</b> field can be accessed with <code>metadata.requestId</code>.","description":"Publish message to the AWS SNS","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicArnPattern":"arn:aws:sns:us-east-1:123456789012:MyNewTopic","accessKeyId":null,"secretAccessKey":null,"region":"us-east-1"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSnsConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48cGF0aCBkPSJNMTMuMjMgMTAuNTZWMTBjLTEuOTQgMC0zLjk5LjM5LTMuOTkgMi42NyAwIDEuMTYuNjEgMS45NSAxLjYzIDEuOTUuNzYgMCAxLjQzLS40NyAxLjg2LTEuMjIuNTItLjkzLjUtMS44LjUtMi44NG0yLjcgNi41M2MtLjE4LjE2LS40My4xNy0uNjMuMDYtLjg5LS43NC0xLjA1LTEuMDgtMS41NC0xLjc5LTEuNDcgMS41LTIuNTEgMS45NS00LjQyIDEuOTUtMi4yNSAwLTQuMDEtMS4zOS00LjAxLTQuMTcgMC0yLjE4IDEuMTctMy42NCAyLjg2LTQuMzggMS40Ni0uNjQgMy40OS0uNzYgNS4wNC0uOTNWNy41YzAtLjY2LjA1LTEuNDEtLjMzLTEuOTYtLjMyLS40OS0uOTUtLjctMS41LS43LTEuMDIgMC0xLjkzLjUzLTIuMTUgMS42MS0uMDUuMjQtLjI1LjQ4LS40Ny40OWwtMi42LS4yOGMtLjIyLS4wNS0uNDYtLjIyLS40LS41Ni42LTMuMTUgMy40NS00LjEgNi00LjEgMS4zIDAgMyAuMzUgNC4wMyAxLjMzQzE3LjExIDQuNTUgMTcgNi4xOCAxNyA3Ljk1djQuMTdjMCAxLjI1LjUgMS44MSAxIDIuNDguMTcuMjUuMjEuNTQgMCAuNzFsLTIuMDYgMS43OGgtLjAxIj48L3BhdGg+PHBhdGggZD0iTTIwLjE2IDE5LjU0QzE4IDIxLjE0IDE0LjgyIDIyIDEyLjEgMjJjLTMuODEgMC03LjI1LTEuNDEtOS44NS0zLjc2LS4yLS4xOC0uMDItLjQzLjI1LS4yOSAyLjc4IDEuNjMgNi4yNSAyLjYxIDkuODMgMi42MSAyLjQxIDAgNS4wNy0uNSA3LjUxLTEuNTMuMzctLjE2LjY2LjI0LjMyLjUxIj48L3BhdGg+PHBhdGggZD0iTTIxLjA3IDE4LjVjLS4yOC0uMzYtMS44NS0uMTctMi41Ny0uMDgtLjE5LjAyLS4yMi0uMTYtLjAzLS4zIDEuMjQtLjg4IDMuMjktLjYyIDMuNTMtLjMzLjI0LjMtLjA3IDIuMzUtMS4yNCAzLjMyLS4xOC4xNi0uMzUuMDctLjI2LS4xMS4yNi0uNjcuODUtMi4xNC41Ny0yLjV6Ij48L3BhdGg+PC9zdmc+","docUrl":""}}, actions=null)
2020-12-18 09:54:51,331 [main] INFO  o.t.s.s.c.AnnotationComponentDiscoveryService - Found following definitions: [ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=aws sqs, clazz=org.thingsboard.rule.engine.aws.sqs.TbSqsNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload and metadata attributes to the AWS SQS queue. Outbound message will contain response fields (<code>messageId</code>, <code>requestId</code>, <code>messageBodyMd5</code>, <code>messageAttributesMd5</code>, <code>sequenceNumber</code>) in the Message Metadata from the AWS SQS. For example <b>requestId</b> field can be accessed with <code>metadata.requestId</code>.","description":"Publish messages to the AWS SQS","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"queueType":"STANDARD","queueUrlPattern":"https://sqs.us-east-1.amazonaws.com/123456789012/my-queue-name","delaySeconds":0,"messageAttributes":{},"accessKeyId":null,"secretAccessKey":null,"region":"us-east-1"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSqsConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48cGF0aCBkPSJNMTMuMjMgMTAuNTZWMTBjLTEuOTQgMC0zLjk5LjM5LTMuOTkgMi42NyAwIDEuMTYuNjEgMS45NSAxLjYzIDEuOTUuNzYgMCAxLjQzLS40NyAxLjg2LTEuMjIuNTItLjkzLjUtMS44LjUtMi44NG0yLjcgNi41M2MtLjE4LjE2LS40My4xNy0uNjMuMDYtLjg5LS43NC0xLjA1LTEuMDgtMS41NC0xLjc5LTEuNDcgMS41LTIuNTEgMS45NS00LjQyIDEuOTUtMi4yNSAwLTQuMDEtMS4zOS00LjAxLTQuMTcgMC0yLjE4IDEuMTctMy42NCAyLjg2LTQuMzggMS40Ni0uNjQgMy40OS0uNzYgNS4wNC0uOTNWNy41YzAtLjY2LjA1LTEuNDEtLjMzLTEuOTYtLjMyLS40OS0uOTUtLjctMS41LS43LTEuMDIgMC0xLjkzLjUzLTIuMTUgMS42MS0uMDUuMjQtLjI1LjQ4LS40Ny40OWwtMi42LS4yOGMtLjIyLS4wNS0uNDYtLjIyLS40LS41Ni42LTMuMTUgMy40NS00LjEgNi00LjEgMS4zIDAgMyAuMzUgNC4wMyAxLjMzQzE3LjExIDQuNTUgMTcgNi4xOCAxNyA3Ljk1djQuMTdjMCAxLjI1LjUgMS44MSAxIDIuNDguMTcuMjUuMjEuNTQgMCAuNzFsLTIuMDYgMS43OGgtLjAxIj48L3BhdGg+PHBhdGggZD0iTTIwLjE2IDE5LjU0QzE4IDIxLjE0IDE0LjgyIDIyIDEyLjEgMjJjLTMuODEgMC03LjI1LTEuNDEtOS44NS0zLjc2LS4yLS4xOC0uMDItLjQzLjI1LS4yOSAyLjc4IDEuNjMgNi4yNSAyLjYxIDkuODMgMi42MSAyLjQxIDAgNS4wNy0uNSA3LjUxLTEuNTMuMzctLjE2LjY2LjI0LjMyLjUxIj48L3BhdGg+PHBhdGggZD0iTTIxLjA3IDE4LjVjLS4yOC0uMzYtMS44NS0uMTctMi41Ny0uMDgtLjE5LjAyLS4yMi0uMTYtLjAzLS4zIDEuMjQtLjg4IDMuMjktLjYyIDMuNTMtLjMzLjI0LjMtLjA3IDIuMzUtMS4yNCAzLjMyLS4xOC4xNi0uMzUuMDctLjI2LS4xMS4yNi0uNjcuODUtMi4xNC41Ny0yLjV6Ij48L3BhdGg+PC9zdmc+","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=log, clazz=org.thingsboard.rule.engine.action.TbLogNode, configurationDescriptor={"nodeDefinition":{"details":"Transform incoming Message with configured JS function to String and log final value into Thingsboard log file. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Log incoming messages using JS script for transformation Message into String","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return 'Incoming message:\\n' + JSON.stringify(msg) + '\\nIncoming metadata:\\n' + JSON.stringify(metadata);"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeLogConfig","icon":"menu","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=send email, clazz=org.thingsboard.rule.engine.mail.TbSendEmailNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with <b>SEND_EMAIL</b> type. Node works only with messages that  where created using <code>to Email</code> transformation Node, please connect this Node with <code>to Email</code> Node using <code>Successful</code> chain.","description":"Sends email message via SMTP server.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"useSystemSmtpSettings":true,"smtpHost":"localhost","smtpPort":25,"username":null,"password":null,"smtpProtocol":"smtp","timeout":10000,"enableTls":false,"tlsVersion":"TLSv1.2","enableProxy":false,"proxyHost":null,"proxyPort":null,"proxyUser":null,"proxyPassword":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSendEmailConfig","icon":"send","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=clear alarm, clazz=org.thingsboard.rule.engine.action.TbClearAlarmNode, configurationDescriptor={"nodeDefinition":{"details":"Details - JS function that creates JSON object based on incoming message. This object will be added into Alarm.details field.\nNode output:\nIf alarm was not cleared, original message is returned. Otherwise new Message returned with type 'ALARM', Alarm object in 'msg' property and 'metadata' will contains 'isClearedAlarm' property. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Clear Alarm","inEnabled":true,"outEnabled":true,"relationTypes":["Cleared","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmType":"General Alarm","alarmDetailsBuildJs":"var details = {};\nif (metadata.prevAlarmDetails) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n}\nreturn details;"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeClearAlarmConfig","icon":"notifications_off","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=send sms, clazz=org.thingsboard.rule.engine.sms.TbSendSmsNode, configurationDescriptor={"nodeDefinition":{"details":"Will send SMS message by populating target phone numbers and sms message fields using values derived from message metadata.","description":"Sends SMS message via SMS provider.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"numbersToTemplate":"${userPhone}","smsMessageTemplate":"Device ${deviceName} has high temperature ${temp}","useSystemSmsSettings":true,"smsProviderConfiguration":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSendSmsConfig","icon":"sms","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=switch, clazz=org.thingsboard.rule.engine.filter.TbJsSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Node executes configured JS script. Script should return array of next Chain names where Message should be routed. If Array is empty - message not routed to next Node. Message payload can be accessed via <code>msg</code> property. For example <code>msg.temperature < 10;</code><br/>Message metadata can be accessed via <code>metadata</code> property. For example <code>metadata.customerName === 'John';</code><br/>Message type can be accessed via <code>msgType</code> property.","description":"Route incoming Message to one or multiple output chains","inEnabled":true,"outEnabled":true,"relationTypes":["Failure"],"customRelations":true,"defaultConfiguration":{"jsScript":"function nextRelation(metadata, msg) {\n    return ['one','nine'];\n}\nif(msgType === 'POST_TELEMETRY_REQUEST') {\n    return ['two'];\n}\nreturn nextRelation(metadata, msg);"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeSwitchConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=delete relation, clazz=org.thingsboard.rule.engine.action.TbDeleteRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation(s) successfully deleted -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and then delete a relation to Originator Entity by type and direction if 'Delete single entity' is set to true, otherwise rule node will delete all relations to the originator of the message by type and direction.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"deleteForSingleEntity":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeDeleteRelationConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=originator type switch, clazz=org.thingsboard.rule.engine.filter.TbOriginatorTypeSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Routes messages to chain according to the originator type ('Device', 'Asset', etc.).","description":"Route incoming messages by Message Originator Type","inEnabled":true,"outEnabled":true,"relationTypes":["Device","Asset","Alarm","Entity View","Tenant","Customer","User","Dashboard","Rule chain","Rule node","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator telemetry, clazz=org.thingsboard.rule.engine.metadata.TbGetTelemetryNode, configurationDescriptor={"nodeDefinition":{"details":"The node allows you to select fetch mode: <b>FIRST/LAST/ALL</b> to fetch telemetry of certain time range that are added into Message metadata without any prefix. If selected fetch mode <b>ALL</b> Telemetry will be added like array into Message Metadata where <b>key</b> is Timestamp and <b>value</b> is value of Telemetry.</br>If selected fetch mode <b>FIRST</b> or <b>LAST</b> Telemetry will be added like string without Timestamp.</br>Also, the rule node allows you to select telemetry sampling order: <b>ASC</b> or <b>DESC</b>. </br><b>Note</b>: The maximum size of the fetched array is 1000 records.\n ","description":"Add Message Originator Telemetry for selected time range into Message Metadata\n","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"startInterval":2,"endInterval":1,"startIntervalPattern":"","endIntervalPattern":"","useMetadataIntervalPatterns":false,"startIntervalTimeUnit":"MINUTES","endIntervalTimeUnit":"MINUTES","fetchMode":"FIRST","orderBy":"ASC","limit":1000,"latestTsKeyNames":[]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeGetTelemetryFromDatabase","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetAttributesNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, <b>CLIENT/SHARED/SERVER</b> attributes are added into Message metadata with specific prefix: <i>cs/shared/ss</i>. Latest telemetry value added into metadata without prefix. To access those attributes in other nodes this template can be used <code>metadata.cs_temperature</code> or <code>metadata.shared_limit</code> ","description":"Add Message Originator Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"clientAttributeNames":[],"sharedAttributeNames":[],"serverAttributeNames":[],"latestTsKeyNames":[],"tellFailureIfAbsent":true,"getLatestValueWithTs":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeOriginatorAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=related attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetRelatedAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"Related Entity found using configured relation direction and Relation Type. If multiple Related Entities are found, only first Entity is used for attributes enrichment, other entities are discarded. If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Related Entity Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"relationsQuery":{"direction":"FROM","maxLevel":1,"filters":[{"relationType":"Contains","entityTypes":[]}],"fetchLastLevelOnly":false},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeRelatedAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=copy to view, clazz=org.thingsboard.rule.engine.action.TbCopyAttributesToEntityViewNode, configurationDescriptor={"nodeDefinition":{"details":"Copy attributes from asset/device to related entity view according to entity view configuration. \n Copy will be done only for attributes that are between start and end dates and according to attribute keys configuration. \nChanges message originator to related entity view and produces new messages according to count of updated entity views","description":"Copy attributes from asset/device to entity view and changes message originator to related entity view","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"content_copy","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=message type, clazz=org.thingsboard.rule.engine.filter.TbMsgTypeFilterNode, configurationDescriptor={"nodeDefinition":{"details":"If incoming MessageType is expected - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Filter incoming messages by Message Type","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"messageTypes":["POST_ATTRIBUTES_REQUEST","POST_TELEMETRY_REQUEST","TO_SERVER_RPC_REQUEST"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeMessageTypeConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=message count, clazz=org.thingsboard.rule.engine.action.TbMsgCountNode, configurationDescriptor={"nodeDefinition":{"details":"Count incoming messages for specified interval and produces POST_TELEMETRY_REQUEST msg with messages count","description":"Count incoming messages","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"telemetryPrefix":"messageCount","interval":1},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMsgCountConfig","icon":"functions","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=synchronization start, clazz=org.thingsboard.rule.engine.transaction.TbSynchronizationBeginNode, configurationDescriptor={"nodeDefinition":{"details":"This node should be used together with \"synchronization end\" node. \n This node will put messages into queue based on message originator id. \nSubsequent messages will not be processed until the previous message processing is completed or timeout event occurs.\nSize of the queue per originator and timeout values are configurable on a system level","description":"This Node is now deprecated. Use \"Checkpoint\" instead.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=script, clazz=org.thingsboard.rule.engine.filter.TbJsFilterNode, configurationDescriptor={"nodeDefinition":{"details":"Evaluate incoming Message with configured JS condition. If <b>True</b> - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.Message payload can be accessed via <code>msg</code> property. For example <code>msg.temperature < 10;</code><br/>Message metadata can be accessed via <code>metadata</code> property. For example <code>metadata.customerName === 'John';</code><br/>Message type can be accessed via <code>msgType</code> property.","description":"Filter incoming messages using JS script","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return msg.temperature > 20;"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeScriptConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=rpc call request, clazz=org.thingsboard.rule.engine.rpc.TbSendRPCRequestNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with \"method\" and \"params\". Will forward response from device to next nodes.If the RPC call request is originated by REST API call from user, will forward the response to user immediately.","description":"Sends RPC call to device","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"timeoutInSeconds":60},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRpcRequestConfig","icon":"call_made","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=script, clazz=org.thingsboard.rule.engine.transform.TbTransformMsgNode, configurationDescriptor={"nodeDefinition":{"details":"JavaScript function receive 3 input parameters <br/> <code>metadata</code> - is a Message metadata.<br/><code>msg</code> - is a Message payload.<br/><code>msgType</code> - is a Message type.<br/>Should return the following structure:<br/><code>{ msg: <i style=\"color: #666;\">new payload</i>,<br/>&nbsp&nbsp&nbspmetadata: <i style=\"color: #666;\">new metadata</i>,<br/>&nbsp&nbsp&nbspmsgType: <i style=\"color: #666;\">new msgType</i> }</code><br/>All fields in resulting object are optional and will be taken from original message if not specified.","description":"Change Message payload, Metadata or Message type using JavaScript","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"jsScript":"return {msg: msg, metadata: metadata, msgType: msgType};"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeScriptConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=message type switch, clazz=org.thingsboard.rule.engine.filter.TbMsgTypeSwitchNode, configurationDescriptor={"nodeDefinition":{"details":"Sends messages with message types <b>\"Post attributes\", \"Post telemetry\", \"RPC Request\"</b> etc. via corresponding chain, otherwise <b>Other</b> chain is used.","description":"Route incoming messages by Message Type","inEnabled":true,"outEnabled":true,"relationTypes":["Post attributes","Post telemetry","RPC Request from Device","RPC Request to Device","Activity Event","Inactivity Event","Connect Event","Disconnect Event","Entity Created","Entity Updated","Entity Deleted","Entity Assigned","Entity Unassigned","Attributes Updated","Attributes Deleted","Alarm Acknowledged","Alarm Cleared","Other","Entity Assigned From Tenant","Entity Assigned To Tenant","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=generator, clazz=org.thingsboard.rule.engine.debug.TbMsgGeneratorNode, configurationDescriptor={"nodeDefinition":{"details":"Generates messages with configurable period. Javascript function used for message generation.","description":"Periodically generates messages","inEnabled":false,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"msgCount":0,"periodInSeconds":1,"originatorId":null,"originatorType":null,"jsScript":"var msg = { temp: 42, humidity: 77 };\nvar metadata = { data: 40 };\nvar msgType = \"POST_TELEMETRY_REQUEST\";\n\nreturn { msg: msg, metadata: metadata, msgType: msgType };"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeGeneratorConfig","icon":"repeat","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=check relation, clazz=org.thingsboard.rule.engine.filter.TbCheckRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If at least one relation exists - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Checks the relation from the selected entity to the originator of the message by type and direction if 'Check for single entity' is set to true, otherwise rule node will check if exist any relation to the originator of the message by type and direction.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","entityId":null,"entityType":null,"relationType":"Contains","checkForSingleEntity":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckRelationConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=device profile, clazz=org.thingsboard.rule.engine.profile.TbDeviceProfileNode, configurationDescriptor={"nodeDefinition":{"details":"Create and clear alarms based on alarm rules defined in device profile. The output relation type is either 'Alarm Created', 'Alarm Updated', 'Alarm Severity Updated' and 'Alarm Cleared' or simply 'Success' if no alarms were affected.","description":"Process device messages based on device profile settings","inEnabled":true,"outEnabled":true,"relationTypes":["Alarm Created","Alarm Updated","Alarm Severity Updated","Alarm Cleared","Success","Failure"],"customRelations":true,"defaultConfiguration":{"persistAlarmRulesState":false,"fetchAlarmRulesStateOnStart":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbDeviceProfileConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=checkpoint, clazz=org.thingsboard.rule.engine.flow.TbCheckpointNode, configurationDescriptor={"nodeDefinition":{"details":"After successful transfer incoming message is automatically acknowledged. Queue name is configurable.","description":"transfers the message to another queue","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"queueName":"HighPriority"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCheckPointConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=originator type, clazz=org.thingsboard.rule.engine.filter.TbOriginatorTypeFilterNode, configurationDescriptor={"nodeDefinition":{"details":"If Originator Type of incoming message is expected - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.","description":"Filter incoming messages by message Originator Type","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"originatorTypes":["DEVICE"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeOriginatorTypeConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=change originator, clazz=org.thingsboard.rule.engine.transform.TbChangeOriginatorNode, configurationDescriptor={"nodeDefinition":{"details":"Related Entity found using configured relation direction and Relation Type. If multiple Related Entities are found, only first Entity is used as new Originator, other entities are discarded.<br/>Alarm Originator found only in case original Originator is <code>Alarm</code> entity.","description":"Change Message Originator To Tenant/Customer/Related Entity/Alarm Originator","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"originatorSource":"CUSTOMER","relationsQuery":{"direction":"FROM","maxLevel":1,"filters":[{"relationType":"Contains","entityTypes":[]}],"fetchLastLevelOnly":false}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeChangeOriginatorConfig","icon":"find_replace","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=gcp pubsub, clazz=org.thingsboard.rule.engine.gcp.pubsub.TbPubSubNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the Google Cloud Platform PubSub topic. Outbound message will contain response fields (<code>messageId</code> in the Message Metadata from the GCP PubSub. <b>messageId</b> field can be accessed with <code>metadata.messageId</code>.","description":"Publish message to the Google Cloud PubSub","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"projectId":"my-google-cloud-project-id","topicName":"my-pubsub-topic-name","messageAttributes":{},"serviceAccountKey":null,"serviceAccountKeyFileName":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodePubSubConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiB2aWV3Qm94PSIwIDAgMTI4IDEyOCI+Cjx0aXRsZT5DbG91ZCBQdWJTdWI8L3RpdGxlPgo8Zz4KPHBhdGggZD0iTTEyNi40Nyw1OC4xMmwtMjYuMy00NS43NEExMS41NiwxMS41NiwwLDAsMCw5MC4zMSw2LjVIMzcuN2ExMS41NSwxMS41NSwwLDAsMC05Ljg2LDUuODhMMS41Myw1OGExMS40OCwxMS40OCwwLDAsMCwwLDExLjQ0bDI2LjMsNDZhMTEuNzcsMTEuNzcsMCwwLDAsOS44Niw2LjA5SDkwLjNhMTEuNzMsMTEuNzMsMCwwLDAsOS44Ny02LjA2bDI2LjMtNDUuNzRBMTEuNzMsMTEuNzMsMCwwLDAsMTI2LjQ3LDU4LjEyWiIgc3R5bGU9ImZpbGw6ICM3MzViMmYiLz4KPHBhdGggZD0iTTg5LjIyLDQ3Ljc0LDgzLjM2LDQ5bC0xNC42LTE0LjZMNjQuMDksNDMuMSw2MS41NSw1My4ybDQuMjksNC4yOUw1Ny42LDU5LjE4LDQ2LjMsNDcuODhsLTcuNjcsNy4zOEw1Mi43Niw2OS4zN2wtMTUsMTEuOUw3OCwxMjEuNUg5MC4zYTExLjczLDExLjczLDAsMCwwLDkuODctNi4wNmwyMC43Mi0zNloiIHN0eWxlPSJvcGFjaXR5OiAwLjA3MDAwMDAwMDI5ODAyMztpc29sYXRpb246IGlzb2xhdGUiLz4KPHBhdGggZD0iTTgyLjg2LDQ3YTUuMzIsNS4zMiwwLDEsMS0xLjk1LDcuMjdBNS4zMiw1LjMyLDAsMCwxLDgyLjg2LDQ3IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNMzkuODIsNTYuMThhNS4zMiw1LjMyLDAsMSwxLDcuMjctMS45NSw1LjMyLDUuMzIsMCwwLDEtNy4yNywxLjk1IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNNjkuMzIsODguODVBNS4zMiw1LjMyLDAsMSwxLDY0LDgzLjUyYTUuMzIsNS4zMiwwLDAsMSw1LjMyLDUuMzIiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxnPgo8cGF0aCBkPSJNNjQsNTIuOTRhMTEuMDYsMTEuMDYsMCwwLDEsMi40Ni4yOFYzOS4xNUg2MS41NFY1My4yMkExMS4wNiwxMS4wNiwwLDAsMSw2NCw1Mi45NFoiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxwYXRoIGQ9Ik03NC41Nyw2Ny4yNmExMSwxMSwwLDAsMS0yLjQ3LDQuMjVsMTIuMTksNywyLjQ2LTQuMjZaIiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8cGF0aCBkPSJNNTMuNDMsNjcuMjZsLTEyLjE4LDcsMi40Niw0LjI2LDEyLjE5LTdBMTEsMTEsMCwwLDEsNTMuNDMsNjcuMjZaIiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8L2c+CjxwYXRoIGQ9Ik03Mi42LDY0QTguNiw4LjYsMCwxLDEsNjQsNTUuNCw4LjYsOC42LDAsMCwxLDcyLjYsNjQiIHN0eWxlPSJmaWxsOiAjZmZmIi8+CjxwYXRoIGQ9Ik0zOS4xLDcwLjU3YTYuNzYsNi43NiwwLDEsMS0yLjQ3LDkuMjMsNi43Niw2Ljc2LDAsMCwxLDIuNDctOS4yMyIgc3R5bGU9ImZpbGw6ICNmZmYiLz4KPHBhdGggZD0iTTgyLjE0LDgyLjI3YTYuNzYsNi43NiwwLDEsMSw5LjIzLTIuNDcsNi43NSw2Ljc1LDAsMCwxLTkuMjMsMi40NyIgc3R5bGU9ImZpbGw6ICNmZmYiLz4KPHBhdGggZD0iTTcwLjc2LDM5LjE1QTYuNzYsNi43NiwwLDEsMSw2NCwzMi4zOWE2Ljc2LDYuNzYsMCwwLDEsNi43Niw2Ljc2IiBzdHlsZT0iZmlsbDogI2ZmZiIvPgo8L2c+Cjwvc3ZnPgo=","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=create relation, clazz=org.thingsboard.rule.engine.action.TbCreateRelationNode, configurationDescriptor={"nodeDefinition":{"details":"If the relation already exists or successfully created -  Message send via <b>Success</b> chain, otherwise <b>Failure</b> chain will be used.","description":"Finds target Entity by entity name pattern and (entity type pattern for Asset, Device) and then create a relation to Originator Entity by type and direction. If Selected entity type: Asset, Device or Customer will create new Entity if it doesn't exist and selected checkbox 'Create new entity if not exists'.<br> In case that relation from the message originator to the selected entity not exist and  If selected checkbox 'Remove current relations', before creating the new relation all existed relations to message originator by type and direction will be removed.<br> If relation from the message originator to the selected entity created and If selected checkbox 'Change originator to related entity', outbound message will be processed as a message from this entity.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"direction":"FROM","relationType":"Contains","entityType":null,"entityNamePattern":"","entityTypePattern":null,"entityCacheExpiration":300,"createEntityIfNotExists":false,"changeOriginatorToRelatedEntity":false,"removeCurrentRelations":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCreateRelationConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=related device attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetDeviceAttrNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, <b>CLIENT/SHARED/SERVER</b> attributes are added into Message metadata with specific prefix: <i>cs/shared/ss</i>. Latest telemetry value added into metadata without prefix. To access those attributes in other nodes this template can be used <code>metadata.cs_temperature</code> or <code>metadata.shared_limit</code> ","description":"Add Originators Related Device Attributes and Latest Telemetry value into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"clientAttributeNames":[],"sharedAttributeNames":[],"serverAttributeNames":[],"latestTsKeyNames":[],"tellFailureIfAbsent":true,"getLatestValueWithTs":false,"deviceRelationsQuery":{"direction":"FROM","maxLevel":1,"relationType":"Contains","deviceTypes":["default"],"fetchLastLevelOnly":false}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeDeviceAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=gps geofencing filter, clazz=org.thingsboard.rule.engine.geo.TbGpsGeofencingFilterNode, configurationDescriptor={"nodeDefinition":{"details":"Extracts latitude and longitude parameters from incoming message and returns 'True' if they are inside configured perimeters, 'False' otherwise.","description":"Filter incoming messages by GPS based geofencing","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"latitudeKeyName":"latitude","longitudeKeyName":"longitude","fetchPerimeterInfoFromMessageMetadata":true,"perimeterType":null,"polygonsDefinition":null,"centerLatitude":null,"centerLongitude":null,"range":null,"rangeUnit":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeGpsGeofencingConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=assign to customer, clazz=org.thingsboard.rule.engine.action.TbAssignToCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Customer by customer name pattern and then assign Originator Entity to this customer. Will create new Customer if it doesn't exists and 'Create new Customer if not exists' is set to true.","description":"Assign Message Originator Entity to Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300,"createCustomerIfNotExists":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAssignToCustomerConfig","icon":"add_circle","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=TRANSFORMATION, scope=TENANT, name=to email, clazz=org.thingsboard.rule.engine.mail.TbMsgToEmailNode, configurationDescriptor={"nodeDefinition":{"details":"Transforms message to email message by populating email fields using values derived from message metadata. Set 'SEND_EMAIL' output message type.","description":"Transforms message to email message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"fromTemplate":"info@testmail.org","toTemplate":"${userEmail}","ccTemplate":null,"bccTemplate":null,"subjectTemplate":"Device ${deviceType} temperature high","bodyTemplate":"Device ${deviceName} has high temperature ${temp}"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbTransformationNodeToEmailConfig","icon":"email","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=unassign from customer, clazz=org.thingsboard.rule.engine.action.TbUnassignFromCustomerNode, configurationDescriptor={"nodeDefinition":{"details":"Finds target Entity Customer by Customer name pattern and then unassign Originator Entity from this customer.","description":"Unassign Message Originator Entity from Customer","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"customerNamePattern":"","customerCacheExpiration":300},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeUnAssignToCustomerConfig","icon":"remove_circle","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=tenant details, clazz=org.thingsboard.rule.engine.metadata.TbGetTenantDetailsNode, configurationDescriptor={"nodeDefinition":{"details":"If checkbox: <b>Add selected details to the message metadata</b> is selected, existing fields will be added to the message metadata instead of message data.<br><br><b>Note:</b> only Device, Asset, and Entity View type are allowed.<br><br>If the originator of the message is not assigned to Tenant, or originator type is not supported - Message will be forwarded to <b>Failure</b> chain, otherwise, <b>Success</b> chain will be used.","description":"Adds fields from Tenant details to the message body or metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"detailsList":[],"addToMetadata":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeEntityDetailsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=acknowledge, clazz=org.thingsboard.rule.engine.flow.TbAckNode, configurationDescriptor={"nodeDefinition":{"details":"After acknowledgement, the message is pushed to related rule nodes. Useful if you don't care what happens to this message next.","description":"Acknowledges the incoming message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=azure iot hub, clazz=org.thingsboard.rule.engine.mqtt.azure.TbAzureIotHubNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the Azure IoT Hub with QoS <b>AT_LEAST_ONCE</b>.","description":"Publish messages to the Azure IoT Hub","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"devices/<device_id>/messages/events/","host":"<iot-hub-name>.azure-devices.net","port":8883,"connectTimeoutSec":10,"clientId":null,"cleanSession":true,"ssl":true,"credentials":{"type":"sas","sasKey":null,"caCert":null}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAzureIotHubConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=aws sns, clazz=org.thingsboard.rule.engine.aws.sns.TbSnsNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the AWS SNS topic. Outbound message will contain response fields (<code>messageId</code>, <code>requestId</code>) in the Message Metadata from the AWS SNS. For example <b>requestId</b> field can be accessed with <code>metadata.requestId</code>.","description":"Publish message to the AWS SNS","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicArnPattern":"arn:aws:sns:us-east-1:123456789012:MyNewTopic","accessKeyId":null,"secretAccessKey":null,"region":"us-east-1"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeSnsConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48cGF0aCBkPSJNMTMuMjMgMTAuNTZWMTBjLTEuOTQgMC0zLjk5LjM5LTMuOTkgMi42NyAwIDEuMTYuNjEgMS45NSAxLjYzIDEuOTUuNzYgMCAxLjQzLS40NyAxLjg2LTEuMjIuNTItLjkzLjUtMS44LjUtMi44NG0yLjcgNi41M2MtLjE4LjE2LS40My4xNy0uNjMuMDYtLjg5LS43NC0xLjA1LTEuMDgtMS41NC0xLjc5LTEuNDcgMS41LTIuNTEgMS45NS00LjQyIDEuOTUtMi4yNSAwLTQuMDEtMS4zOS00LjAxLTQuMTcgMC0yLjE4IDEuMTctMy42NCAyLjg2LTQuMzggMS40Ni0uNjQgMy40OS0uNzYgNS4wNC0uOTNWNy41YzAtLjY2LjA1LTEuNDEtLjMzLTEuOTYtLjMyLS40OS0uOTUtLjctMS41LS43LTEuMDIgMC0xLjkzLjUzLTIuMTUgMS42MS0uMDUuMjQtLjI1LjQ4LS40Ny40OWwtMi42LS4yOGMtLjIyLS4wNS0uNDYtLjIyLS40LS41Ni42LTMuMTUgMy40NS00LjEgNi00LjEgMS4zIDAgMyAuMzUgNC4wMyAxLjMzQzE3LjExIDQuNTUgMTcgNi4xOCAxNyA3Ljk1djQuMTdjMCAxLjI1LjUgMS44MSAxIDIuNDguMTcuMjUuMjEuNTQgMCAuNzFsLTIuMDYgMS43OGgtLjAxIj48L3BhdGg+PHBhdGggZD0iTTIwLjE2IDE5LjU0QzE4IDIxLjE0IDE0LjgyIDIyIDEyLjEgMjJjLTMuODEgMC03LjI1LTEuNDEtOS44NS0zLjc2LS4yLS4xOC0uMDItLjQzLjI1LS4yOSAyLjc4IDEuNjMgNi4yNSAyLjYxIDkuODMgMi42MSAyLjQxIDAgNS4wNy0uNSA3LjUxLTEuNTMuMzctLjE2LjY2LjI0LjMyLjUxIj48L3BhdGg+PHBhdGggZD0iTTIxLjA3IDE4LjVjLS4yOC0uMzYtMS44NS0uMTctMi41Ny0uMDgtLjE5LjAyLS4yMi0uMTYtLjAzLS4zIDEuMjQtLjg4IDMuMjktLjYyIDMuNTMtLjMzLjI0LjMtLjA3IDIuMzUtMS4yNCAzLjMyLS4xOC4xNi0uMzUuMDctLjI2LS4xMS4yNi0uNjcuODUtMi4xNC41Ny0yLjV6Ij48L3BhdGg+PC9zdmc+","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=synchronization end, clazz=org.thingsboard.rule.engine.transaction.TbSynchronizationEndNode, configurationDescriptor={"nodeDefinition":{"details":"","description":"This Node is now deprecated. Use \"Checkpoint\" instead.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"version":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbNodeEmptyConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=kafka, clazz=org.thingsboard.rule.engine.kafka.TbKafkaNode, configurationDescriptor={"nodeDefinition":{"details":"Will send record via Kafka producer to Kafka server. Outbound message will contain response fields (<code>offset</code>, <code>partition</code>, <code>topic</code>) from the Kafka in the Message Metadata. For example <b>partition</b> field can be accessed with <code>metadata.partition</code>.","description":"Publish messages to Kafka server","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"my-topic","bootstrapServers":"localhost:9092","retries":0,"batchSize":16384,"linger":0,"bufferMemory":33554432,"acks":"-1","keySerializer":"org.apache.kafka.common.serialization.StringSerializer","valueSerializer":"org.apache.kafka.common.serialization.StringSerializer","otherProperties":{},"addMetadataKeyValuesAsKafkaHeaders":false,"kafkaHeadersCharset":"UTF-8"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeKafkaConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUzOCIgaGVpZ2h0PSIyNTAwIiB2aWV3Qm94PSIwIDAgMjU2IDQxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PHBhdGggZD0iTTIwMS44MTYgMjMwLjIxNmMtMTYuMTg2IDAtMzAuNjk3IDcuMTcxLTQwLjYzNCAxOC40NjFsLTI1LjQ2My0xOC4wMjZjMi43MDMtNy40NDIgNC4yNTUtMTUuNDMzIDQuMjU1LTIzLjc5NyAwLTguMjE5LTEuNDk4LTE2LjA3Ni00LjExMi0yMy40MDhsMjUuNDA2LTE3LjgzNWM5LjkzNiAxMS4yMzMgMjQuNDA5IDE4LjM2NSA0MC41NDggMTguMzY1IDI5Ljg3NSAwIDU0LjE4NC0yNC4zMDUgNTQuMTg0LTU0LjE4NCAwLTI5Ljg3OS0yNC4zMDktNTQuMTg0LTU0LjE4NC01NC4xODQtMjkuODc1IDAtNTQuMTg0IDI0LjMwNS01NC4xODQgNTQuMTg0IDAgNS4zNDguODA4IDEwLjUwNSAyLjI1OCAxNS4zODlsLTI1LjQyMyAxNy44NDRjLTEwLjYyLTEzLjE3NS0yNS45MTEtMjIuMzc0LTQzLjMzMy0yNS4xODJ2LTMwLjY0YzI0LjU0NC01LjE1NSA0My4wMzctMjYuOTYyIDQzLjAzNy01My4wMTlDMTI0LjE3MSAyNC4zMDUgOTkuODYyIDAgNjkuOTg3IDAgNDAuMTEyIDAgMTUuODAzIDI0LjMwNSAxNS44MDMgNTQuMTg0YzAgMjUuNzA4IDE4LjAxNCA0Ny4yNDYgNDIuMDY3IDUyLjc2OXYzMS4wMzhDMjUuMDQ0IDE0My43NTMgMCAxNzIuNDAxIDAgMjA2Ljg1NGMwIDM0LjYyMSAyNS4yOTIgNjMuMzc0IDU4LjM1NSA2OC45NHYzMi43NzRjLTI0LjI5OSA1LjM0MS00Mi41NTIgMjcuMDExLTQyLjU1MiA1Mi44OTQgMCAyOS44NzkgMjQuMzA5IDU0LjE4NCA1NC4xODQgNTQuMTg0IDI5Ljg3NSAwIDU0LjE4NC0yNC4zMDUgNTQuMTg0LTU0LjE4NCAwLTI1Ljg4My0xOC4yNTMtNDcuNTUzLTQyLjU1Mi01Mi44OTR2LTMyLjc3NWE2OS45NjUgNjkuOTY1IDAgMCAwIDQyLjYtMjQuNzc2bDI1LjYzMyAxOC4xNDNjLTEuNDIzIDQuODQtMi4yMiA5Ljk0Ni0yLjIyIDE1LjI0IDAgMjkuODc5IDI0LjMwOSA1NC4xODQgNTQuMTg0IDU0LjE4NCAyOS44NzUgMCA1NC4xODQtMjQuMzA1IDU0LjE4NC01NC4xODQgMC0yOS44NzktMjQuMzA5LTU0LjE4NC01NC4xODQtNTQuMTg0em0wLTEyNi42OTVjMTQuNDg3IDAgMjYuMjcgMTEuNzg4IDI2LjI3IDI2LjI3MXMtMTEuNzgzIDI2LjI3LTI2LjI3IDI2LjI3LTI2LjI3LTExLjc4Ny0yNi4yNy0yNi4yN2MwLTE0LjQ4MyAxMS43ODMtMjYuMjcxIDI2LjI3LTI2LjI3MXptLTE1OC4xLTQ5LjMzN2MwLTE0LjQ4MyAxMS43ODQtMjYuMjcgMjYuMjcxLTI2LjI3czI2LjI3IDExLjc4NyAyNi4yNyAyNi4yN2MwIDE0LjQ4My0xMS43ODMgMjYuMjctMjYuMjcgMjYuMjdzLTI2LjI3MS0xMS43ODctMjYuMjcxLTI2LjI3em01Mi41NDEgMzA3LjI3OGMwIDE0LjQ4My0xMS43ODMgMjYuMjctMjYuMjcgMjYuMjdzLTI2LjI3MS0xMS43ODctMjYuMjcxLTI2LjI3YzAtMTQuNDgzIDExLjc4NC0yNi4yNyAyNi4yNzEtMjYuMjdzMjYuMjcgMTEuNzg3IDI2LjI3IDI2LjI3em0tMjYuMjcyLTExNy45N2MtMjAuMjA1IDAtMzYuNjQyLTE2LjQzNC0zNi42NDItMzYuNjM4IDAtMjAuMjA1IDE2LjQzNy0zNi42NDIgMzYuNjQyLTM2LjY0MiAyMC4yMDQgMCAzNi42NDEgMTYuNDM3IDM2LjY0MSAzNi42NDIgMCAyMC4yMDQtMTYuNDM3IDM2LjYzOC0zNi42NDEgMzYuNjM4em0xMzEuODMxIDY3LjE3OWMtMTQuNDg3IDAtMjYuMjctMTEuNzg4LTI2LjI3LTI2LjI3MXMxMS43ODMtMjYuMjcgMjYuMjctMjYuMjcgMjYuMjcgMTEuNzg3IDI2LjI3IDI2LjI3YzAgMTQuNDgzLTExLjc4MyAyNi4yNzEtMjYuMjcgMjYuMjcxeiIvPjwvc3ZnPg==","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=save attributes, clazz=org.thingsboard.rule.engine.telemetry.TbMsgAttributesNode, configurationDescriptor={"nodeDefinition":{"details":"Saves entity attributes based on configurable scope parameter. Expects messages with 'POST_ATTRIBUTES_REQUEST' message type","description":"Saves attributes data","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"scope":"SERVER_SCOPE","notifyDevice":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeAttributesConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=delay, clazz=org.thingsboard.rule.engine.delay.TbMsgDelayNode, configurationDescriptor={"nodeDefinition":{"details":"Delays messages for configurable period. Please note, this node acknowledges the message from the current queue (message will be removed from queue)","description":"Delays incoming message","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"periodInSeconds":60,"maxPendingMsgs":1000,"periodInSecondsPattern":null,"useMetadataPeriodInSecondsPatterns":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMsgDelayConfig","icon":"pause","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=save timeseries, clazz=org.thingsboard.rule.engine.telemetry.TbMsgTimeseriesNode, configurationDescriptor={"nodeDefinition":{"details":"Saves timeseries telemetry data based on configurable TTL parameter. Expects messages with 'POST_TELEMETRY_REQUEST' message type","description":"Saves timeseries data","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"defaultTTL":0},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeTimeseriesConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=check alarm status, clazz=org.thingsboard.rule.engine.filter.TbCheckAlarmStatusNode, configurationDescriptor={"nodeDefinition":{"details":"If the alarm status matches the specified one - msg is success if does not match - msg is failure.","description":"Checks alarm status.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmStatusList":["ACTIVE_ACK","ACTIVE_UNACK"]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckAlarmStatusConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=rabbitmq, clazz=org.thingsboard.rule.engine.rabbitmq.TbRabbitMqNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to RabbitMQ queue.","description":"Publish messages to the RabbitMQ","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"exchangeNamePattern":"","routingKeyPattern":"","messageProperties":null,"host":"localhost","port":5672,"virtualHost":"/","username":"guest","password":"guest","automaticRecoveryEnabled":false,"connectionTimeout":60000,"handshakeTimeout":10000,"clientProperties":{}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRabbitMqConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZlcnNpb249IjEuMSIgeT0iMHB4IiB4PSIwcHgiIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxwYXRoIHN0cm9rZS13aWR0aD0iLjg0OTU2IiBkPSJtODYwLjQ3IDQxNi4zMmgtMjYyLjAxYy0xMi45MTMgMC0yMy42MTgtMTAuNzA0LTIzLjYxOC0yMy42MTh2LTI3Mi43MWMwLTIwLjMwNS0xNi4yMjctMzYuMjc2LTM2LjI3Ni0zNi4yNzZoLTkzLjc5MmMtMjAuMzA1IDAtMzYuMjc2IDE2LjIyNy0zNi4yNzYgMzYuMjc2djI3MC44NGMtMC4yNTQ4NyAxNC4xMDMtMTEuNDY5IDI1LjU3Mi0yNS43NDIgMjUuNTcybC04NS42MzYgMC42Nzk2NWMtMTQuMTAzIDAtMjUuNTcyLTExLjQ2OS0yNS41NzItMjUuNTcybDAuNjc5NjUtMjcxLjUyYzAtMjAuMzA1LTE2LjIyNy0zNi4yNzYtMzYuMjc2LTM2LjI3NmgtOTMuNTM3Yy0yMC4zMDUgMC0zNi4yNzYgMTYuMjI3LTM2LjI3NiAzNi4yNzZ2NzYzLjg0YzAgMTguMDk2IDE0Ljc4MiAzMi40NTMgMzIuNDUzIDMyLjQ1M2g3MjIuODFjMTguMDk2IDAgMzIuNDUzLTE0Ljc4MiAzMi40NTMtMzIuNDUzdi00MzUuMzFjLTEuMTg5NC0xOC4xODEtMTUuMjkyLTMyLjE5OC0zMy4zODgtMzIuMTk4em0tMTIyLjY4IDI4Ny4wN2MwIDIzLjYxOC0xOC44NiA0Mi40NzgtNDIuNDc4IDQyLjQ3OGgtNzMuOTk3Yy0yMy42MTggMC00Mi40NzgtMTguODYtNDIuNDc4LTQyLjQ3OHYtNzQuMjUyYzAtMjMuNjE4IDE4Ljg2LTQyLjQ3OCA0Mi40NzgtNDIuNDc4aDczLjk5N2MyMy42MTggMCA0Mi40NzggMTguODYgNDIuNDc4IDQyLjQ3OHoiLz48L3N2Zz4=","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=mqtt, clazz=org.thingsboard.rule.engine.mqtt.TbMqttNode, configurationDescriptor={"nodeDefinition":{"details":"Will publish message payload to the MQTT broker with QoS <b>AT_LEAST_ONCE</b>.","description":"Publish messages to the MQTT broker","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"topicPattern":"my-topic","host":"localhost","port":1883,"connectTimeoutSec":10,"clientId":null,"cleanSession":true,"ssl":false,"credentials":{"type":"anonymous"}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeMqttConfig","icon":"call_split","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=rpc call reply, clazz=org.thingsboard.rule.engine.rpc.TbSendRPCReplyNode, configurationDescriptor={"nodeDefinition":{"details":"Expects messages with any message type. Will forward message body to the device.","description":"Sends reply to RPC call from device","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"serviceIdMetaDataAttribute":"serviceId","sessionIdMetaDataAttribute":"sessionId","requestIdMetaDataAttribute":"requestId"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRpcReplyConfig","icon":"call_merge","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=EXTERNAL, scope=TENANT, name=rest api call, clazz=org.thingsboard.rule.engine.rest.TbRestApiCallNode, configurationDescriptor={"nodeDefinition":{"details":"Will invoke REST API call <code>GET | POST | PUT | DELETE</code> to external REST server. Message payload added into Request body. Configured attributes can be added into Headers from Message Metadata. Outbound message will contain response fields (<code>status</code>, <code>statusCode</code>, <code>statusReason</code> and response <code>headers</code>) in the Message Metadata. Response body saved in outbound Message payload. For example <b>statusCode</b> field can be accessed with <code>metadata.statusCode</code>.<br/><b>Note-</b> if you use system proxy properties, the next system proxy properties should be added: \"http.proxyHost\" and \"http.proxyPort\" or  \"https.proxyHost\" and \"https.proxyPort\" or \"socksProxyHost\" and \"socksProxyPort\",and if your proxy with auth, the next ones  should be added: \"tb.proxy.user\" and \"tb.proxy.password\" to the thingsboard.conf file.","description":"Invoke REST API calls to external REST server","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"restEndpointUrlPattern":"http://localhost/api","requestMethod":"POST","headers":{},"useSimpleClientHttpFactory":false,"readTimeoutMs":0,"maxParallelRequestsCount":0,"useRedisQueueForMsgPersistence":false,"trimQueue":false,"maxQueueSize":0,"enableProxy":false,"useSystemProxyProperties":false,"proxyHost":null,"proxyPort":0,"proxyUser":null,"proxyPassword":null,"proxyScheme":null},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeRestApiCallConfig","icon":"","iconUrl":"data:image/svg+xml;base64,PHN2ZyBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB2ZXJzaW9uPSIxLjEiIHk9IjBweCIgeD0iMHB4Ij48ZyB0cmFuc2Zvcm09Im1hdHJpeCguOTQ5NzUgMCAwIC45NDk3NSAxNy4xMiAyNi40OTIpIj48cGF0aCBkPSJtMTY5LjExIDEwOC41NGMtOS45MDY2IDAuMDczNC0xOS4wMTQgNi41NzI0LTIyLjAxNCAxNi40NjlsLTY5Ljk5MyAyMzEuMDhjLTMuNjkwNCAxMi4xODEgMy4yODkyIDI1LjIyIDE1LjQ2OSAyOC45MSAyLjIyNTkgMC42NzQ4MSA0LjQ5NjkgMSA2LjcyODUgMSA5Ljk3MjEgMCAxOS4xNjUtNi41MTUzIDIyLjE4Mi0xNi40NjdhNi41MjI0IDYuNTIyNCAwIDAgMCAwLjAwMiAtMC4wMDJsNjkuOTktMjMxLjA3YTYuNTIyNCA2LjUyMjQgMCAwIDAgMCAtMC4wMDJjMy42ODU1LTEyLjE4MS0zLjI4Ny0yNS4yMjUtMTUuNDcxLTI4LjkxMi0yLjI4MjUtMC42OTE0NS00LjYxMTYtMS4wMTY5LTYuODk4NC0xem04NC45ODggMGMtOS45MDQ4IDAuMDczNC0xOS4wMTggNi41Njc1LTIyLjAxOCAxNi40NjlsLTY5Ljk4NiAyMzEuMDhjLTMuNjg5OCAxMi4xNzkgMy4yODUzIDI1LjIxNyAxNS40NjUgMjguOTA4IDIuMjI5NyAwLjY3NjQ3IDQuNTAwOCAxLjAwMiA2LjczMjQgMS4wMDIgOS45NzIxIDAgMTkuMTY1LTYuNTE1MyAyMi4xODItMTYuNDY3YTYuNTIyNCA2LjUyMjQgMCAwIDAgMC4wMDIgLTAuMDAybDY5Ljk4OC0yMzEuMDdjMy42OTA4LTEyLjE4MS0zLjI4NTItMjUuMjIzLTE1LjQ2Ny0yOC45MTItMi4yODE0LTAuNjkyMzEtNC42MTA4LTEuMDE4OS02Ljg5ODQtMS4wMDJ6bS0yMTcuMjkgNDIuMjNjLTEyLjcyOS0wLjAwMDg3LTIzLjE4OCAxMC40NTYtMjMuMTg4IDIzLjE4NiAwLjAwMSAxMi43MjggMTAuNDU5IDIzLjE4NiAyMy4xODggMjMuMTg2IDEyLjcyNy0wLjAwMSAyMy4xODMtMTAuNDU5IDIzLjE4NC0yMy4xODYgMC4wMDA4NzYtMTIuNzI4LTEwLjQ1Ni0yMy4xODUtMjMuMTg0LTIzLjE4NnptMCAxNDYuNjRjLTEyLjcyNy0wLjAwMDg3LTIzLjE4NiAxMC40NTUtMjMuMTg4IDIzLjE4NC0wLjAwMDg3MyAxMi43MjkgMTAuNDU4IDIzLjE4OCAyMy4xODggMjMuMTg4IDEyLjcyOC0wLjAwMSAyMy4xODQtMTAuNDYgMjMuMTg0LTIzLjE4OC0wLjAwMS0xMi43MjYtMTAuNDU3LTIzLjE4My0yMy4xODQtMjMuMTg0em0yNzAuNzkgNDIuMjExYy0xMi43MjcgMC0yMy4xODQgMTAuNDU3LTIzLjE4NCAyMy4xODRzMTAuNDU1IDIzLjE4OCAyMy4xODQgMjMuMTg4aDE1NC45OGMxMi43MjkgMCAyMy4xODYtMTAuNDYgMjMuMTg2LTIzLjE4OCAwLjAwMS0xMi43MjgtMTAuNDU4LTIzLjE4NC0yMy4xODYtMjMuMTg0eiIgdHJhbnNmb3JtPSJtYXRyaXgoMS4wMzc2IDAgMCAxLjAzNzYgLTcuNTY3NiAtMTQuOTI1KSIgc3Ryb2tlLXdpZHRoPSIxLjI2OTMiLz48L2c+PC9zdmc+","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=customer attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetCustomerAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Customer Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeCustomerAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=originator fields, clazz=org.thingsboard.rule.engine.metadata.TbGetOriginatorFieldsNode, configurationDescriptor={"nodeDefinition":{"details":"Will fetch fields values specified in mapping. If specified field is not part of originator fields it will be ignored.","description":"Add Message Originator fields values into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"fieldsMapping":{"name":"originatorName","type":"originatorType"}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeOriginatorFieldsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=FILTER, scope=TENANT, name=check existence fields, clazz=org.thingsboard.rule.engine.filter.TbCheckMessageNode, configurationDescriptor={"nodeDefinition":{"details":"If selected checkbox 'Check that all selected keys are present'\" and all keys in message data and metadata are exist - send Message via <b>True</b> chain, otherwise <b>False</b> chain is used.\nElse if the checkbox is not selected, and at least one of the keys from data or metadata of the message exists - send Message via <b>True</b> chain, otherwise, <b>False</b> chain is used. ","description":"Checks the existence of the selected keys from message data and metadata.","inEnabled":true,"outEnabled":true,"relationTypes":["True","False","Failure"],"customRelations":false,"defaultConfiguration":{"messageNames":[],"metadataNames":[],"checkAllKeys":true},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbFilterNodeCheckMessageConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=customer details, clazz=org.thingsboard.rule.engine.metadata.TbGetCustomerDetailsNode, configurationDescriptor={"nodeDefinition":{"details":"If checkbox: <b>Add selected details to the message metadata</b> is selected, existing fields will be added to the message metadata instead of message data.<br><br><b>Note:</b> only Device, Asset, and Entity View type are allowed.<br><br>If the originator of the message is not assigned to Customer, or originator type is not supported - Message will be forwarded to <b>Failure</b> chain, otherwise, <b>Success</b> chain will be used.","description":"Adds fields from Customer details to the message body or metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"detailsList":[],"addToMetadata":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeEntityDetailsConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=save to custom table, clazz=org.thingsboard.rule.engine.action.TbSaveToCustomCassandraTableNode, configurationDescriptor={"nodeDefinition":{"details":"Administrator should set the custom table name without prefix: <b>cs_tb_</b>. <br>Administrator can configure the mapping between the Message field names and Table columns name.<br><b>Note:</b>If the mapping key is <b>$entity_id</b>, that is identified by the Message Originator, then to the appropriate column name(mapping value) will be write the message originator id.<br><br>If specified message field does not exist or is not a JSON Primitive, the outbound message will be routed via <b>failure</b> chain, otherwise, the message will be routed via <b>success</b> chain.","description":"Node stores data from incoming Message payload to the Cassandra database into the predefined custom table that should have <b>cs_tb_</b> prefix, to avoid the data insertion to the common TB tables.<br><b>Note:</b> rule node can be used only for Cassandra DB.","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"tableName":"","fieldsMapping":{"":""}},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCustomTableConfig","icon":"file_upload","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=gps geofencing events, clazz=org.thingsboard.rule.engine.geo.TbGpsGeofencingActionNode, configurationDescriptor={"nodeDefinition":{"details":"Extracts latitude and longitude parameters from incoming message and returns different events based on configuration parameters","description":"Produces incoming messages using GPS based geofencing","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Entered","Left","Inside","Outside","Failure"],"customRelations":false,"defaultConfiguration":{"latitudeKeyName":"latitude","longitudeKeyName":"longitude","fetchPerimeterInfoFromMessageMetadata":true,"perimeterType":null,"polygonsDefinition":null,"centerLatitude":null,"centerLongitude":null,"range":null,"rangeUnit":null,"minInsideDuration":1,"minOutsideDuration":1,"minInsideDurationTimeUnit":"MINUTES","minOutsideDurationTimeUnit":"MINUTES"},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeGpsGeofencingConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ENRICHMENT, scope=TENANT, name=tenant attributes, clazz=org.thingsboard.rule.engine.metadata.TbGetTenantAttributeNode, configurationDescriptor={"nodeDefinition":{"details":"If Attributes enrichment configured, server scope attributes are added into Message metadata. If Latest Telemetry enrichment configured, latest telemetry added into metadata. To access those attributes in other nodes this template can be used <code>metadata.temperature</code>.","description":"Add Originators Tenant Attributes or Latest Telemetry into Message Metadata","inEnabled":true,"outEnabled":true,"relationTypes":["Success","Failure"],"customRelations":false,"defaultConfiguration":{"attrMapping":{"temperature":"tempo"},"telemetry":false},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbEnrichmentNodeTenantAttributesConfig","icon":"","iconUrl":"","docUrl":""}}, actions=null), ComponentDescriptor(type=ACTION, scope=TENANT, name=create alarm, clazz=org.thingsboard.rule.engine.action.TbCreateAlarmNode, configurationDescriptor={"nodeDefinition":{"details":"Details - JS function that creates JSON object based on incoming message. This object will be added into Alarm.details field.\nNode output:\nIf alarm was not created, original message is returned. Otherwise new Message returned with type 'ALARM', Alarm object in 'msg' property and 'metadata' will contains one of those properties 'isNewAlarm/isExistingAlarm'. Message payload can be accessed via <code>msg</code> property. For example <code>'temperature = ' + msg.temperature ;</code>. Message metadata can be accessed via <code>metadata</code> property. For example <code>'name = ' + metadata.customerName;</code>.","description":"Create or Update Alarm","inEnabled":true,"outEnabled":true,"relationTypes":["Created","Updated","False","Failure"],"customRelations":false,"defaultConfiguration":{"alarmType":"General Alarm","alarmDetailsBuildJs":"var details = {};\nif (metadata.prevAlarmDetails) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n}\nreturn details;","severity":"CRITICAL","propagate":false,"useMessageAlarmData":false,"relationTypes":[]},"uiResources":["static/rulenode/rulenode-core-config.js"],"configDirective":"tbActionNodeCreateAlarmConfig","icon":"notifications_active","iconUrl":"","docUrl":""}}, actions=null)]
2020-12-18 09:54:52,573 [main] INFO  o.t.s.a.service.DefaultActorService - Initializing actor system.
2020-12-18 09:54:52,590 [main] INFO  o.t.s.a.service.DefaultActorService - Actor system initialized.
2020-12-18 09:54:52,746 [main] INFO  o.t.s.c.t.a.JsonConverterConfig - JSON type cast enabled = true
2020-12-18 09:54:52,746 [main] INFO  o.t.s.c.t.a.JsonConverterConfig - JSON max string value length = 0
2020-12-18 09:54:52,796 [main] INFO  o.t.s.t.mqtt.MqttTransportService - Setting resource leak detector level to DISABLED
2020-12-18 09:54:52,796 [main] INFO  o.t.s.t.mqtt.MqttTransportService - Starting MQTT transport...
2020-12-18 09:54:52,876 [main] INFO  o.t.s.t.mqtt.MqttTransportService - Mqtt transport started!
2020-12-18 09:54:52,900 [main] INFO  o.t.s.t.coap.CoapTransportService - Starting CoAP transport...
2020-12-18 09:54:52,900 [main] INFO  o.t.s.t.coap.CoapTransportService - Starting CoAP transport server
2020-12-18 09:54:52,905 [main] INFO  o.e.c.c.network.config.NetworkConfig - Creating standard network configuration properties without a file
2020-12-18 09:54:52,954 [main] INFO  o.e.californium.core.CoapServer - Starting server
2020-12-18 09:54:52,955 [main] INFO  o.e.c.core.network.CoapEndpoint - Starting endpoint at /0.0.0.0:5683
2020-12-18 09:54:52,962 [main] INFO  o.t.s.t.coap.CoapTransportService - CoAP transport started!
2020-12-18 09:54:52,977 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: zookeeper.version=3.5.5-390fe37ea45dee01bf87dc1c042b5e3dcce88653, built on 05/03/2019 12:07 GMT
2020-12-18 09:54:52,977 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: host.name=5a1dd67508f6
2020-12-18 09:54:52,977 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: java.version=1.8.0_242
2020-12-18 09:54:52,978 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: java.vendor=Oracle Corporation
2020-12-18 09:54:52,978 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: java.home=/usr/lib/jvm/java-8-openjdk-amd64/jre
2020-12-18 09:54:52,978 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: java.class.path=/usr/share/thingsboard/bin/thingsboard.jar
2020-12-18 09:54:52,978 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib
2020-12-18 09:54:52,978 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: java.io.tmpdir=/tmp
2020-12-18 09:54:52,978 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: java.compiler=<NA>
2020-12-18 09:54:52,978 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: os.name=Linux
2020-12-18 09:54:52,978 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: os.arch=amd64
2020-12-18 09:54:52,978 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: os.version=4.19.128-microsoft-standard
2020-12-18 09:54:52,979 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: user.name=thingsboard
2020-12-18 09:54:52,979 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: user.home=/home/thingsboard
2020-12-18 09:54:52,979 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: user.dir=/
2020-12-18 09:54:52,979 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: os.memory.free=112MB
2020-12-18 09:54:52,979 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: os.memory.max=3085MB
2020-12-18 09:54:52,979 [main] INFO  o.t.s.q.e.EnvironmentLogService - ThingsBoard server environment: os.memory.total=191MB
2020-12-18 09:54:53,575 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2020-12-18 09:54:53,997 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/*.js'], []
2020-12-18 09:54:53,998 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/*.css'], []
2020-12-18 09:54:53,998 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/*.ico'], []
2020-12-18 09:54:53,998 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/assets/**'], []
2020-12-18 09:54:53,998 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/static/**'], []
2020-12-18 09:54:54,217 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f10d055, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ba0ee4a, org.springframework.security.web.header.HeaderWriterFilter@38ef1a0a, org.springframework.web.filter.CorsFilter@52abed9d, org.springframework.security.web.authentication.logout.LogoutFilter@5a466dd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@14590fe2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2c3f43d1, org.thingsboard.server.service.security.auth.rest.RestLoginProcessingFilter@29d25e65, org.thingsboard.server.service.security.auth.rest.RestPublicLoginProcessingFilter@19b75b2b, org.thingsboard.server.service.security.auth.jwt.JwtTokenAuthenticationProcessingFilter@542ff147, org.thingsboard.server.service.security.auth.jwt.RefreshTokenProcessingFilter@59c43561, org.thingsboard.server.service.security.auth.jwt.JwtTokenAuthenticationProcessingFilter@634f58d2, org.thingsboard.server.config.RateLimitProcessingFilter@88a8218, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55061418, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ec3d8e4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d801d8, org.springframework.security.web.session.SessionManagementFilter@6728370a, org.springframework.security.web.access.ExceptionTranslationFilter@6abb7b7d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12aa381f]
2020-12-18 09:54:54,252 [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2020-12-18 09:54:54,795 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [public/index.html]
2020-12-18 09:54:56,263 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-0.0.0.0-9090"]
2020-12-18 09:54:56,296 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 9090 (http) with context path ''
2020-12-18 09:54:56,297 [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Context refreshed
2020-12-18 09:54:56,326 [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Found 1 custom documentation plugin(s)
2020-12-18 09:54:56,423 [main] INFO  s.d.s.w.s.ApiListingReferenceScanner - Scanning for api listing references
2020-12-18 09:54:57,811 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: getTenantDashboardsUsingGET_1
2020-12-18 09:54:58,041 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: claimDeviceUsingPOST_1
2020-12-18 09:54:58,074 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: findByQueryUsingPOST_1
2020-12-18 09:54:58,508 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: findByFromUsingGET_1
2020-12-18 09:54:58,524 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: findByQueryUsingPOST_2
2020-12-18 09:54:58,553 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: findByToUsingGET_1
2020-12-18 09:54:58,707 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: findByQueryUsingPOST_3
2020-12-18 09:54:58,880 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: getEventsUsingGET_1
2020-12-18 09:54:59,139 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: saveRuleChainUsingPOST_1
2020-12-18 09:54:59,213 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: deleteEntityAttributesUsingDELETE_1
2020-12-18 09:54:59,665 [main] INFO  s.d.s.w.r.o.CachingOperationNameGenerator - Generating unique operation named: getWidgetsBundlesUsingGET_1
2020-12-18 09:54:59,724 [main] INFO  o.t.s.ThingsboardServerApplication - Started ThingsboardServerApplication in 28.598 seconds (JVM running for 29.827)
2020-12-18 09:54:59,777 [main] INFO  o.t.s.q.d.HashPartitionService - [5a1dd67508f6] Found common server: [[TB_CORE, TB_RULE_ENGINE, TB_TRANSPORT, JS_EXECUTOR]]
2020-12-18 09:54:59,782 [main] INFO  o.t.s.q.d.HashPartitionService - [ServiceQueueKey(serviceQueue=ServiceQueue(type=TB_RULE_ENGINE, queue=SequentialByOriginator), tenantId=13814000-1dd2-11b2-8080-808080808080)] NEW PARTITIONS: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
2020-12-18 09:54:59,786 [main] INFO  o.t.s.a.service.DefaultActorService - Received partition change event.
2020-12-18 09:54:59,787 [app-dispatcher-34-thread-1] INFO  o.t.server.actors.app.AppActor - Starting main system actor.
2020-12-18 09:54:59,787 [main] INFO  o.t.s.s.q.DefaultTbRuleEngineConsumerService - [SequentialByOriginator] Subscribing to partitions: [TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[9], fullTopicName=tb_rule_engine.sq.9, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[8], fullTopicName=tb_rule_engine.sq.8, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[7], fullTopicName=tb_rule_engine.sq.7, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[2], fullTopicName=tb_rule_engine.sq.2, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[1], fullTopicName=tb_rule_engine.sq.1, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[0], fullTopicName=tb_rule_engine.sq.0, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[6], fullTopicName=tb_rule_engine.sq.6, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[5], fullTopicName=tb_rule_engine.sq.5, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[4], fullTopicName=tb_rule_engine.sq.4, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[3], fullTopicName=tb_rule_engine.sq.3, myPartition=true)]
2020-12-18 09:54:59,787 [main] INFO  o.t.s.q.d.HashPartitionService - [ServiceQueueKey(serviceQueue=ServiceQueue(type=TB_CORE, queue=Main), tenantId=13814000-1dd2-11b2-8080-808080808080)] NEW PARTITIONS: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
2020-12-18 09:54:59,788 [main] INFO  o.t.s.a.service.DefaultActorService - Received partition change event.
2020-12-18 09:54:59,789 [main] INFO  o.t.s.s.a.DefaultTbApiUsageStateService - Initializing tenant states.
2020-12-18 09:54:59,915 [ForkJoinPool-11-worker-0] INFO  o.t.server.actors.tenant.TenantActor - [721b74a0-4116-11eb-b18b-817916773a64] Starting tenant actor.
2020-12-18 09:54:59,915 [app-dispatcher-34-thread-1] INFO  o.t.server.actors.app.AppActor - Main system actor started.
2020-12-18 09:54:59,916 [app-dispatcher-34-thread-1] WARN  o.t.server.actors.app.AppActor - Rule Chains initialized by unexpected message: PartitionChangeMsg(serviceQueueKey=ServiceQueueKey(serviceQueue=ServiceQueue(type=TB_RULE_ENGINE, queue=SequentialByOriginator), tenantId=13814000-1dd2-11b2-8080-808080808080), partitions=[TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[9], fullTopicName=tb_rule_engine.sq.9, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[8], fullTopicName=tb_rule_engine.sq.8, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[7], fullTopicName=tb_rule_engine.sq.7, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[2], fullTopicName=tb_rule_engine.sq.2, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[1], fullTopicName=tb_rule_engine.sq.1, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[0], fullTopicName=tb_rule_engine.sq.0, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[6], fullTopicName=tb_rule_engine.sq.6, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[5], fullTopicName=tb_rule_engine.sq.5, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[4], fullTopicName=tb_rule_engine.sq.4, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.sq, tenantId=Optional.empty, partition=Optional[3], fullTopicName=tb_rule_engine.sq.3, myPartition=true)])
2020-12-18 09:54:59,994 [ForkJoinPool-11-worker-0] INFO  o.t.server.actors.tenant.TenantActor - [721b74a0-4116-11eb-b18b-817916773a64] Going to init rule chains
2020-12-18 09:54:59,996 [main] INFO  o.t.s.s.a.DefaultTbApiUsageStateService - Initialized tenant states.
2020-12-18 09:55:00,005 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - CURRENT PARTITIONS: []
2020-12-18 09:55:00,005 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - NEW PARTITIONS: [TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[5], fullTopicName=tb_core.5, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[6], fullTopicName=tb_core.6, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[3], fullTopicName=tb_core.3, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[4], fullTopicName=tb_core.4, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[1], fullTopicName=tb_core.1, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[2], fullTopicName=tb_core.2, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[0], fullTopicName=tb_core.0, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[9], fullTopicName=tb_core.9, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[7], fullTopicName=tb_core.7, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[8], fullTopicName=tb_core.8, myPartition=true)]
2020-12-18 09:55:00,005 [main] INFO  o.t.s.s.q.DefaultTbCoreConsumerService - Subscribing to partitions: [TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[5], fullTopicName=tb_core.5, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[6], fullTopicName=tb_core.6, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[3], fullTopicName=tb_core.3, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[4], fullTopicName=tb_core.4, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[1], fullTopicName=tb_core.1, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[2], fullTopicName=tb_core.2, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[0], fullTopicName=tb_core.0, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[9], fullTopicName=tb_core.9, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[7], fullTopicName=tb_core.7, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[8], fullTopicName=tb_core.8, myPartition=true)]
2020-12-18 09:55:00,005 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - ADDED PARTITIONS: [TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[5], fullTopicName=tb_core.5, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[6], fullTopicName=tb_core.6, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[3], fullTopicName=tb_core.3, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[4], fullTopicName=tb_core.4, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[1], fullTopicName=tb_core.1, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[2], fullTopicName=tb_core.2, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[0], fullTopicName=tb_core.0, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[9], fullTopicName=tb_core.9, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[7], fullTopicName=tb_core.7, myPartition=true), TopicPartitionInfo(topic=tb_core, tenantId=Optional.empty, partition=Optional[8], fullTopicName=tb_core.8, myPartition=true)]
2020-12-18 09:55:00,006 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - REMOVED PARTITIONS: []
2020-12-18 09:55:00,006 [main] INFO  o.t.s.q.d.HashPartitionService - [ServiceQueueKey(serviceQueue=ServiceQueue(type=TB_RULE_ENGINE, queue=HighPriority), tenantId=13814000-1dd2-11b2-8080-808080808080)] NEW PARTITIONS: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
2020-12-18 09:55:00,007 [main] INFO  o.t.s.a.service.DefaultActorService - Received partition change event.
2020-12-18 09:55:00,007 [main] INFO  o.t.s.s.q.DefaultTbRuleEngineConsumerService - [HighPriority] Subscribing to partitions: [TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[9], fullTopicName=tb_rule_engine.hp.9, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[7], fullTopicName=tb_rule_engine.hp.7, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[8], fullTopicName=tb_rule_engine.hp.8, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[5], fullTopicName=tb_rule_engine.hp.5, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[6], fullTopicName=tb_rule_engine.hp.6, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[3], fullTopicName=tb_rule_engine.hp.3, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[4], fullTopicName=tb_rule_engine.hp.4, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[1], fullTopicName=tb_rule_engine.hp.1, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[2], fullTopicName=tb_rule_engine.hp.2, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.hp, tenantId=Optional.empty, partition=Optional[0], fullTopicName=tb_rule_engine.hp.0, myPartition=true)]
2020-12-18 09:55:00,008 [main] INFO  o.t.s.q.d.HashPartitionService - [ServiceQueueKey(serviceQueue=ServiceQueue(type=TB_RULE_ENGINE, queue=Main), tenantId=13814000-1dd2-11b2-8080-808080808080)] NEW PARTITIONS: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
2020-12-18 09:55:00,008 [main] INFO  o.t.s.a.service.DefaultActorService - Received partition change event.
2020-12-18 09:55:00,008 [main] INFO  o.t.s.s.q.DefaultTbRuleEngineConsumerService - [Main] Subscribing to partitions: [TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[8], fullTopicName=tb_rule_engine.main.8, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[9], fullTopicName=tb_rule_engine.main.9, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[6], fullTopicName=tb_rule_engine.main.6, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[7], fullTopicName=tb_rule_engine.main.7, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[4], fullTopicName=tb_rule_engine.main.4, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[5], fullTopicName=tb_rule_engine.main.5, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[2], fullTopicName=tb_rule_engine.main.2, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[3], fullTopicName=tb_rule_engine.main.3, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[0], fullTopicName=tb_rule_engine.main.0, myPartition=true), TopicPartitionInfo(topic=tb_rule_engine.main, tenantId=Optional.empty, partition=Optional[1], fullTopicName=tb_rule_engine.main.1, myPartition=true)]
2020-12-18 09:55:00,009 [main] INFO  o.t.s.s.q.p.AbstractConsumerService - Subscribing to notifications: tb_rule_engine.notifications.5a1dd67508f6
2020-12-18 09:55:00,016 [main] INFO  o.t.s.s.t.TbCoreTransportApiService - Received application ready event. Starting polling for events.
2020-12-18 09:55:00,018 [main] INFO  o.t.s.s.q.p.AbstractConsumerService - Subscribing to notifications: tb_core.notifications.5a1dd67508f6
2020-12-18 09:55:00,026 [ForkJoinPool-11-worker-0] INFO  o.t.server.actors.tenant.TenantActor - [721b74a0-4116-11eb-b18b-817916773a64] Tenant actor started.
2020-12-18 09:55:00,027 [main] INFO  o.t.s.a.service.DefaultActorService - Received application ready event. Sending application init message to actor system
2020-12-18 09:55:00,102 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - Managing following partitions:
2020-12-18 09:55:00,103 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.5]: 0 devices
2020-12-18 09:55:00,103 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.6]: 3 devices
2020-12-18 09:55:00,104 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.3]: 2 devices
2020-12-18 09:55:00,104 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.4]: 0 devices
2020-12-18 09:55:00,104 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.1]: 0 devices
2020-12-18 09:55:00,104 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.2]: 1 devices
2020-12-18 09:55:00,104 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.0]: 0 devices
2020-12-18 09:55:00,104 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.9]: 0 devices
2020-12-18 09:55:00,104 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.7]: 2 devices
2020-12-18 09:55:00,104 [device-state-18-thread-1] INFO  o.t.s.s.s.DefaultDeviceStateService - [tb_core.8]: 1 devices
2020-12-18 09:55:00,115 [ForkJoinPool-13-worker-3] INFO  o.t.r.e.profile.TbDeviceProfileNode - [7252b140-4116-11eb-b18b-817916773a64] Going to cleanup rule node states
2020-12-18 09:55:00,119 [ForkJoinPool-13-worker-0] INFO  o.t.r.e.profile.TbDeviceProfileNode - [7262b6d0-4116-11eb-b18b-817916773a64] Going to cleanup rule node states
2020-12-18 09:55:22,773 [http-nio-0.0.0.0-9090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-18 09:55:22,773 [http-nio-0.0.0.0-9090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2020-12-18 09:55:22,790 [http-nio-0.0.0.0-9090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 17 ms
2020-12-18 09:56:06,624 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 09:56:07,997 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 09:56:08,061 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 09:57:06,629 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 09:57:07,997 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 09:57:08,061 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 09:58:06,634 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 09:58:07,997 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 09:58:08,061 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 09:59:06,638 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 09:59:07,998 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 09:59:08,061 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 09:59:16,853 [http-nio-0.0.0.0-9090-exec-9] INFO  o.t.s.c.plugin.TbWebSocketHandler - [721b74a0-4116-11eb-b18b-817916773a64][63070907-2a8e-43f1-9da7-2c031b42d4f9][b826f83e-f8d7-e2d8-1f3f-16ccc05ab589] Session is opened
2020-12-18 09:59:19,744 [TB-Scheduling-5] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [3], regularQueryInvocationTime = [36], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 09:59:29,745 [TB-Scheduling-8] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 09:59:39,747 [TB-Scheduling-3] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 09:59:49,748 [TB-Scheduling-6] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 09:59:59,750 [TB-Scheduling-3] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:00:06,642 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 10:00:07,998 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 10:00:08,061 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 10:00:09,752 [TB-Scheduling-6] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:00:19,754 [TB-Scheduling-8] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:00:29,756 [TB-Scheduling-4] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:00:37,387 [tb-core-notifications-consumer-31-thread-1] INFO  o.t.s.s.q.p.AbstractConsumerService - [721b74a0-4116-11eb-b18b-817916773a64][DEVICE_PROFILE][e08f19e0-4117-11eb-b20f-51c1f4e4e770] Received Lifecycle event: CREATED
2020-12-18 10:00:39,757 [TB-Scheduling-3] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:00:46,645 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 10:00:47,998 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 10:00:48,061 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 10:00:49,758 [TB-Scheduling-5] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:00:59,726 [TB-Scheduling-8] INFO  o.t.s.s.queue.TbCoreConsumerStats - Core Stats: totalMsgs = [1] sessionEvents = [0] getAttr = [0] subToAttr = [0] subToRpc = [0] toDevRpc = [0] subInfo = [0] claimDevice = [0] deviceState = [0] subMsgs = [0] coreNfs = [1] 
2020-12-18 10:00:59,731 [TB-Scheduling-2] INFO  o.t.s.s.q.TbRuleEngineConsumerStats - [Main] Stats: totalMsgs = [1] successfulMsgs = [1] timeoutMsgs = [0] failedMsgs = [0] tmpTimeout = [0] tmpFailed = [0] successfulIterations = [1] failedIterations = [0] 
2020-12-18 10:00:59,759 [TB-Scheduling-6] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:01:06,648 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 10:01:07,997 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [8] totalSaved [8] totalFailed [0]
2020-12-18 10:01:08,061 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [8] totalSaved [8] totalFailed [0]
2020-12-18 10:01:09,761 [TB-Scheduling-1] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:01:10,265 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [Attributes] queueSize [0] totalAdded [18] totalSaved [18] totalFailed [0]
2020-12-18 10:01:19,763 [TB-Scheduling-7] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:01:29,765 [TB-Scheduling-8] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:01:39,767 [TB-Scheduling-6] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:01:49,769 [TB-Scheduling-3] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:01:57,219 [tb-core-notifications-consumer-31-thread-1] INFO  o.t.s.s.q.p.AbstractConsumerService - [721b74a0-4116-11eb-b18b-817916773a64][DEVICE_PROFILE][e08f19e0-4117-11eb-b20f-51c1f4e4e770] Received Lifecycle event: UPDATED
2020-12-18 10:01:59,728 [TB-Scheduling-4] INFO  o.t.s.s.queue.TbCoreConsumerStats - Core Stats: totalMsgs = [1] sessionEvents = [0] getAttr = [0] subToAttr = [0] subToRpc = [0] toDevRpc = [0] subInfo = [0] claimDevice = [0] deviceState = [0] subMsgs = [0] coreNfs = [1] 
2020-12-18 10:01:59,770 [TB-Scheduling-7] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:01:59,913 [TB-Scheduling-8] INFO  o.t.s.s.q.TbRuleEngineConsumerStats - [Main] Stats: totalMsgs = [10] successfulMsgs = [10] timeoutMsgs = [0] failedMsgs = [0] tmpTimeout = [0] tmpFailed = [0] successfulIterations = [5] failedIterations = [0] 
2020-12-18 10:02:06,653 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 10:02:07,997 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [8] totalSaved [8] totalFailed [0]
2020-12-18 10:02:08,061 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [8] totalSaved [8] totalFailed [0]
2020-12-18 10:02:09,772 [TB-Scheduling-3] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:02:19,773 [TB-Scheduling-5] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:02:23,506 [tb-rule-engine-notifications-consumer-24-thread-1] INFO  o.t.s.s.q.p.AbstractConsumerService - [721b74a0-4116-11eb-b18b-817916773a64][DEVICE][1fd40020-4118-11eb-b20f-51c1f4e4e770] Received Lifecycle event: CREATED
2020-12-18 10:02:26,656 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 10:02:27,998 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 10:02:28,061 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 10:02:29,774 [TB-Scheduling-2] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:02:39,775 [TB-Scheduling-1] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:02:49,777 [TB-Scheduling-4] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:02:59,729 [TB-Scheduling-7] INFO  o.t.s.s.queue.TbCoreConsumerStats - Core Stats: totalMsgs = [1] sessionEvents = [0] getAttr = [0] subToAttr = [0] subToRpc = [0] toDevRpc = [0] subInfo = [0] claimDevice = [0] deviceState = [1] subMsgs = [0] coreNfs = [0] 
2020-12-18 10:02:59,778 [TB-Scheduling-5] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:02:59,931 [TB-Scheduling-2] INFO  o.t.s.s.q.TbRuleEngineConsumerStats - [Main] Stats: totalMsgs = [1] successfulMsgs = [1] timeoutMsgs = [0] failedMsgs = [0] tmpTimeout = [0] tmpFailed = [0] successfulIterations = [1] failedIterations = [0] 
2020-12-18 10:03:06,659 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 10:03:07,997 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [8] totalSaved [8] totalFailed [0]
2020-12-18 10:03:08,061 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [8] totalSaved [8] totalFailed [0]
2020-12-18 10:03:09,780 [TB-Scheduling-8] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:03:16,660 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 10:03:17,997 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 10:03:18,061 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [2] totalSaved [2] totalFailed [0]
2020-12-18 10:03:19,782 [TB-Scheduling-6] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:03:29,783 [TB-Scheduling-7] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:03:39,785 [TB-Scheduling-3] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:03:49,786 [TB-Scheduling-1] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:03:59,787 [TB-Scheduling-6] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:03:59,936 [TB-Scheduling-7] INFO  o.t.s.s.q.TbRuleEngineConsumerStats - [Main] Stats: totalMsgs = [1] successfulMsgs = [1] timeoutMsgs = [0] failedMsgs = [0] tmpTimeout = [0] tmpFailed = [0] successfulIterations = [1] failedIterations = [0] 
2020-12-18 10:04:06,662 [queue-scheduler-11-thread-1] INFO  o.t.s.q.u.DefaultTbApiUsageClient - Report statistics for: 1 tenants
2020-12-18 10:04:07,997 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS] queueSize [0] totalAdded [8] totalSaved [8] totalFailed [0]
2020-12-18 10:04:08,061 [sql-log-1-thread-1] INFO  o.t.s.dao.sql.TbSqlBlockingQueue - Queue-2 [TS Latest] queueSize [0] totalAdded [8] totalSaved [8] totalFailed [0]
2020-12-18 10:04:09,789 [TB-Scheduling-1] INFO  o.t.s.s.s.DefaultTbEntityDataSubscriptionService - Stats: regularQueryInvocationCnt = [0], regularQueryInvocationTime = [0], dynamicQueryCnt = [1] dynamicQueryInvocationCnt = [0], dynamicQueryInvocationTime = [0], alarmQueryInvocationCnt = [0], alarmQueryInvocationTime = [0]
2020-12-18 10:04:14,978 [http-nio-0.0.0.0-9090-exec-4] INFO  o.t.s.c.plugin.TbWebSocketHandler - [b826f83e-f8d7-e2d8-1f3f-16ccc05ab589] Session is closed
